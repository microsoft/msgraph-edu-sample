{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./node_modules/core-js/modules/_export.js","webpack:///./node_modules/tslib/tslib.es6.js","webpack:///./node_modules/core-js/modules/_an-object.js","webpack:///./node_modules/core-js/modules/_global.js","webpack:///./node_modules/core-js/modules/_fails.js","webpack:///./node_modules/core-js/modules/_is-object.js","webpack:///./node_modules/core-js/modules/_wks.js","webpack:///./node_modules/core-js/modules/_to-length.js","webpack:///./node_modules/core-js/modules/_descriptors.js","webpack:///./node_modules/core-js/modules/_object-dp.js","webpack:///./node_modules/core-js/modules/_to-object.js","webpack:///../../src/RequestMethod.ts","webpack:///./node_modules/core-js/modules/_a-function.js","webpack:///./node_modules/core-js/modules/_hide.js","webpack:///./node_modules/core-js/modules/_redefine.js","webpack:///./node_modules/core-js/modules/_string-html.js","webpack:///./node_modules/core-js/modules/_has.js","webpack:///./node_modules/core-js/modules/_to-iobject.js","webpack:///./node_modules/core-js/modules/_object-gopd.js","webpack:///./node_modules/core-js/modules/_object-gpo.js","webpack:///./node_modules/core-js/modules/_core.js","webpack:///./node_modules/core-js/modules/_ctx.js","webpack:///./node_modules/core-js/modules/_cof.js","webpack:///./node_modules/core-js/modules/_to-integer.js","webpack:///./node_modules/core-js/modules/_strict-method.js","webpack:///./src/components/base-view.js","webpack:///./node_modules/core-js/modules/_to-primitive.js","webpack:///./node_modules/core-js/modules/_defined.js","webpack:///./node_modules/core-js/modules/_object-sap.js","webpack:///./node_modules/core-js/modules/_array-methods.js","webpack:///./node_modules/core-js/modules/_typed-array.js","webpack:///./node_modules/core-js/modules/_metadata.js","webpack:///./node_modules/core-js/modules/_library.js","webpack:///./node_modules/core-js/modules/_meta.js","webpack:///./node_modules/core-js/modules/_add-to-unscopables.js","webpack:///./node_modules/core-js/modules/_property-desc.js","webpack:///./node_modules/core-js/modules/_uid.js","webpack:///./node_modules/core-js/modules/_object-keys.js","webpack:///./node_modules/core-js/modules/_to-absolute-index.js","webpack:///./node_modules/core-js/modules/_object-create.js","webpack:///./node_modules/core-js/modules/_object-gopn.js","webpack:///./node_modules/core-js/modules/_set-species.js","webpack:///./node_modules/core-js/modules/_an-instance.js","webpack:///./node_modules/core-js/modules/_for-of.js","webpack:///./node_modules/core-js/modules/_redefine-all.js","webpack:///./node_modules/core-js/modules/_validate-collection.js","webpack:///./node_modules/core-js/modules/_set-to-string-tag.js","webpack:///./node_modules/core-js/modules/_classof.js","webpack:///./node_modules/core-js/modules/_string-trim.js","webpack:///./node_modules/core-js/modules/_iterators.js","webpack:///../../src/GraphRequestUtil.ts","webpack:///./node_modules/core-js/modules/_shared.js","webpack:///./node_modules/core-js/modules/_iobject.js","webpack:///./node_modules/core-js/modules/_object-pie.js","webpack:///./node_modules/core-js/modules/_flags.js","webpack:///./node_modules/core-js/modules/_species-constructor.js","webpack:///../../../src/styles/fabric-icon-font.ts","webpack:///webpack://microsoftTeams/webpack/universalModuleDefinition","webpack:///webpack://microsoftTeams/webpack/bootstrap","webpack:///webpack://microsoftTeams/src/internal/globalVars.ts","webpack:///webpack://microsoftTeams/src/internal/internalAPIs.ts","webpack:///webpack://microsoftTeams/src/internal/constants.ts","webpack:///webpack://microsoftTeams/src/internal/utils.ts","webpack:///webpack://microsoftTeams/src/public/publicAPIs.ts","webpack:///webpack://microsoftTeams/src/public/settings.ts","webpack:///webpack://microsoftTeams/src/private/logs.ts","webpack:///webpack://microsoftTeams/src/public/appWindow.ts","webpack:///webpack://microsoftTeams/src/index.ts","webpack:///webpack://microsoftTeams/src/private/index.ts","webpack:///webpack://microsoftTeams/src/private/bot.ts","webpack:///webpack://microsoftTeams/src/private/menus.ts","webpack:///webpack://microsoftTeams/src/private/privateAPIs.ts","webpack:///webpack://microsoftTeams/src/private/conversations.ts","webpack:///webpack://microsoftTeams/src/public/index.ts","webpack:///webpack://microsoftTeams/src/public/appInitialization.ts","webpack:///webpack://microsoftTeams/src/public/authentication.ts","webpack:///webpack://microsoftTeams/src/public/tasks.ts","webpack:///./node_modules/core-js/modules/_array-includes.js","webpack:///./node_modules/core-js/modules/_object-gops.js","webpack:///./node_modules/core-js/modules/_is-array.js","webpack:///./node_modules/core-js/modules/_string-at.js","webpack:///./node_modules/core-js/modules/_is-regexp.js","webpack:///./node_modules/core-js/modules/_iter-detect.js","webpack:///./node_modules/core-js/modules/_regexp-exec-abstract.js","webpack:///./node_modules/core-js/modules/_fix-re-wks.js","webpack:///./node_modules/core-js/modules/_user-agent.js","webpack:///./node_modules/core-js/modules/_collection.js","webpack:///./node_modules/core-js/modules/_typed.js","webpack:///./node_modules/core-js/modules/_object-forced-pam.js","webpack:///./node_modules/core-js/modules/_set-collection-of.js","webpack:///./node_modules/core-js/modules/_set-collection-from.js","webpack:///../../src/Range.ts","webpack:///../../../src/tasks/LargeFileUploadTask.ts","webpack:///(webpack)/buildin/global.js","webpack:///./node_modules/core-js/modules/_dom-create.js","webpack:///./node_modules/core-js/modules/_wks-define.js","webpack:///./node_modules/core-js/modules/_shared-key.js","webpack:///./node_modules/core-js/modules/_enum-bug-keys.js","webpack:///./node_modules/core-js/modules/_html.js","webpack:///./node_modules/core-js/modules/_set-proto.js","webpack:///./node_modules/core-js/modules/_string-ws.js","webpack:///./node_modules/core-js/modules/_inherit-if-required.js","webpack:///./node_modules/core-js/modules/_string-repeat.js","webpack:///./node_modules/core-js/modules/_math-sign.js","webpack:///./node_modules/core-js/modules/_math-expm1.js","webpack:///./node_modules/core-js/modules/_iter-define.js","webpack:///./node_modules/core-js/modules/_iter-create.js","webpack:///./node_modules/core-js/modules/_string-context.js","webpack:///./node_modules/core-js/modules/_fails-is-regexp.js","webpack:///./node_modules/core-js/modules/_is-array-iter.js","webpack:///./node_modules/core-js/modules/_create-property.js","webpack:///./node_modules/core-js/modules/core.get-iterator-method.js","webpack:///./node_modules/core-js/modules/_array-species-create.js","webpack:///./node_modules/core-js/modules/_array-fill.js","webpack:///./node_modules/core-js/modules/es6.array.iterator.js","webpack:///./node_modules/core-js/modules/_regexp-exec.js","webpack:///./node_modules/core-js/modules/_advance-string-index.js","webpack:///./node_modules/core-js/modules/_task.js","webpack:///./node_modules/core-js/modules/_microtask.js","webpack:///./node_modules/core-js/modules/_new-promise-capability.js","webpack:///./node_modules/core-js/modules/_typed-buffer.js","webpack:///./node_modules/buffer/index.js","webpack:///./node_modules/core-js/modules/_ie8-dom-define.js","webpack:///./node_modules/core-js/modules/_wks-ext.js","webpack:///./node_modules/core-js/modules/_object-keys-internal.js","webpack:///./node_modules/core-js/modules/_object-dps.js","webpack:///./node_modules/core-js/modules/_object-gopn-ext.js","webpack:///./node_modules/core-js/modules/_object-assign.js","webpack:///./node_modules/core-js/modules/_same-value.js","webpack:///./node_modules/core-js/modules/_bind.js","webpack:///./node_modules/core-js/modules/_invoke.js","webpack:///./node_modules/core-js/modules/_parse-int.js","webpack:///./node_modules/core-js/modules/_parse-float.js","webpack:///./node_modules/core-js/modules/_a-number-value.js","webpack:///./node_modules/core-js/modules/_is-integer.js","webpack:///./node_modules/core-js/modules/_math-log1p.js","webpack:///./node_modules/core-js/modules/_math-fround.js","webpack:///./node_modules/core-js/modules/_iter-call.js","webpack:///./node_modules/core-js/modules/_array-reduce.js","webpack:///./node_modules/core-js/modules/_array-copy-within.js","webpack:///./node_modules/core-js/modules/_iter-step.js","webpack:///./node_modules/core-js/modules/es6.regexp.exec.js","webpack:///./node_modules/core-js/modules/es6.regexp.flags.js","webpack:///./node_modules/core-js/modules/_perform.js","webpack:///./node_modules/core-js/modules/_promise-resolve.js","webpack:///./node_modules/core-js/modules/es6.map.js","webpack:///./node_modules/core-js/modules/_collection-strong.js","webpack:///./node_modules/core-js/modules/es6.set.js","webpack:///./node_modules/core-js/modules/es6.weak-map.js","webpack:///./node_modules/core-js/modules/_collection-weak.js","webpack:///./node_modules/core-js/modules/_to-index.js","webpack:///./node_modules/core-js/modules/_own-keys.js","webpack:///./node_modules/core-js/modules/_flatten-into-array.js","webpack:///./node_modules/core-js/modules/_string-pad.js","webpack:///./node_modules/core-js/modules/_object-to-array.js","webpack:///./node_modules/core-js/modules/_collection-to-json.js","webpack:///./node_modules/core-js/modules/_array-from-iterable.js","webpack:///./node_modules/core-js/modules/_math-scale.js","webpack:///(webpack)/buildin/module.js","webpack:///./src/components/sign-in-view.js","webpack:///../../../src/content/BatchRequestContent.ts","webpack:///../../../src/tasks/OneDriveLargeFileUploadTask.ts","webpack:///../src/lib/directive.ts","webpack:///../src/lib/dom.ts","webpack:///../src/lib/part.ts","webpack:///../src/lib/template.ts","webpack:///../src/lib/template-instance.ts","webpack:///../src/lib/template-result.ts","webpack:///../src/lib/parts.ts","webpack:///../src/lib/default-template-processor.ts","webpack:///../src/lib/template-factory.ts","webpack:///../src/lib/render.ts","webpack:///src/lit-html.ts","webpack:///../src/lib/modify-template.ts","webpack:///../src/lib/shady-render.ts","webpack:///../src/lib/updating-element.ts","webpack:///../src/lib/decorators.ts","webpack:///../src/lib/css-tag.ts","webpack:///src/lit-element.ts","webpack:///../../../src/providers/IProvider.ts","webpack:///../../src/Providers.ts","webpack:///../../../src/components/baseComponent.ts","webpack:///../../../../src/components/mgt-login/mgt-login-css.ts","webpack:///../../../../src/components/mgt-person/mgt-person-css.ts","webpack:///../../../src/components/templateHelper.ts","webpack:///../../../src/components/templatedComponent.ts","webpack:///../../../../src/components/mgt-person/mgt-person.ts","webpack:///../../../../src/components/mgt-login/mgt-login.ts","webpack:///../../../../src/components/mgt-agenda/mgt-agenda-css.ts","webpack:///../../../src/content/BatchResponseContent.ts","webpack:///../../../src/middleware/MiddlewareControl.ts","webpack:///../../../src/middleware/MiddlewareUtil.ts","webpack:///../../../../src/middleware/options/AuthenticationHandlerOptions.ts","webpack:///../../../../src/middleware/options/TelemetryHandlerOptions.ts","webpack:///../../../src/middleware/AuthenticationHandler.ts","webpack:///../../../src/middleware/HTTPMessageHandler.ts","webpack:///../../../../src/middleware/options/RetryHandlerOptions.ts","webpack:///../../../src/middleware/RetryHandler.ts","webpack:///../../../../src/middleware/options/RedirectHandlerOptions.ts","webpack:///../../../src/middleware/RedirectHandler.ts","webpack:///../../../src/middleware/TelemetryHandler.ts","webpack:///../../src/Version.ts","webpack:///../../../src/tasks/PageIterator.ts","webpack:///../../src/Constants.ts","webpack:///../../src/CustomAuthenticationProvider.ts","webpack:///../../src/GraphError.ts","webpack:///../../src/GraphErrorHandler.ts","webpack:///../../src/ResponseType.ts","webpack:///../../src/GraphResponseHandler.ts","webpack:///../../src/GraphRequest.ts","webpack:///../../src/HTTPClient.ts","webpack:///../../src/HTTPClientFactory.ts","webpack:///../../src/ValidatePolyFilling.ts","webpack:///../../src/Client.ts","webpack:///../../src/Graph.ts","webpack:///../../../src/utils/version.ts","webpack:///../../../../src/components/mgt-agenda/mgt-agenda.ts","webpack:///../../../../src/components/mgt-people/mgt-people-css.ts","webpack:///../../../../src/components/mgt-people/mgt-people.ts","webpack:///../src/directives/repeat.ts","webpack:///../src/directives/class-map.ts","webpack:///../../../../src/components/mgt-tasks/task-sources.ts","webpack:///../../../../src/components/mgt-tasks/mgt-tasks-css.ts","webpack:///../../../../../src/components/sub-components/mgt-arrow-options/mgt-arrow-options-css.ts","webpack:///../../../../../src/components/sub-components/mgt-arrow-options/mgt-arrow-options.ts","webpack:///../../../../../src/components/sub-components/mgt-dot-options/mgt-dot-options-css.ts","webpack:///../../../../../src/components/sub-components/mgt-dot-options/mgt-dot-options.ts","webpack:///../../../../src/components/mgt-tasks/mgt-tasks.ts","webpack:///../../../src/utils/utils.ts","webpack:///../../../../src/components/mgt-people-picker/mgt-people-picker-css.ts","webpack:///../../../../src/components/mgt-people-picker/mgt-people-picker.ts","webpack:///../../src/utils/CryptoUtils.ts","webpack:///../../src/utils/Constants.ts","webpack:///../src/ScopeSet.ts","webpack:///../../src/utils/StringUtils.ts","webpack:///../../src/utils/UrlUtils.ts","webpack:///../src/AccessTokenKey.ts","webpack:///../src/AccessTokenValue.ts","webpack:///../../src/error/AuthError.ts","webpack:///../../src/error/ClientAuthError.ts","webpack:///../../src/error/ClientConfigurationError.ts","webpack:///../src/ServerRequestParameters.ts","webpack:///../src/Authority.ts","webpack:///../src/AuthenticationParameters.ts","webpack:///../src/ClientInfo.ts","webpack:///../../src/utils/TokenUtils.ts","webpack:///../src/IdToken.ts","webpack:///../src/AccessTokenCacheItem.ts","webpack:///../src/Storage.ts","webpack:///../src/Account.ts","webpack:///../../src/utils/TimeUtils.ts","webpack:///../../src/utils/ResponseUtils.ts","webpack:///../src/XHRClient.ts","webpack:///../src/Logger.ts","webpack:///../src/AadAuthority.ts","webpack:///../src/B2cAuthority.ts","webpack:///../src/AuthorityFactory.ts","webpack:///../src/Configuration.ts","webpack:///../../src/error/ServerError.ts","webpack:///../../src/error/InteractionRequiredAuthError.ts","webpack:///../src/AuthResponse.ts","webpack:///../../src/telemetry/TelemetryConstants.ts","webpack:///../../src/telemetry/TelemetryUtils.ts","webpack:///../../src/telemetry/DefaultEvent.ts","webpack:///../../src/telemetry/TelemetryEvent.ts","webpack:///../../src/telemetry/TelemetryManager.ts","webpack:///../src/UserAgentApplication.ts","webpack:///../../../src/providers/MsalProvider.ts","webpack:///../../../../src/components/providers/baseProvider.ts","webpack:///../../../../src/components/providers/mgt-msal-provider.ts","webpack:///../../../src/providers/TeamsProvider.ts","webpack:///../../../../src/components/providers/mgt-teams-provider.ts","webpack:///../../../src/providers/WamProvider.ts","webpack:///../../../../src/components/providers/mgt-wam-provider.ts","webpack:///../../../src/providers/SharePointProvider.ts","webpack:///../../../src/providers/SimpleProvider.ts","webpack:///../../src/index.ts","webpack:///../../../src/tasks/OneDriveLargeFileUploadTaskUtil.ts","webpack:///./src/index.js","webpack:///./src/styles/global.scss?4539","webpack:///./src/styles/global.scss","webpack:///./node_modules/css-loader/dist/runtime/api.js","webpack:///./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js","webpack:///./node_modules/babel-polyfill/lib/index.js","webpack:///./node_modules/core-js/shim.js","webpack:///./node_modules/core-js/modules/es6.symbol.js","webpack:///./node_modules/core-js/modules/_function-to-string.js","webpack:///./node_modules/core-js/modules/_enum-keys.js","webpack:///./node_modules/core-js/modules/es6.object.create.js","webpack:///./node_modules/core-js/modules/es6.object.define-property.js","webpack:///./node_modules/core-js/modules/es6.object.define-properties.js","webpack:///./node_modules/core-js/modules/es6.object.get-own-property-descriptor.js","webpack:///./node_modules/core-js/modules/es6.object.get-prototype-of.js","webpack:///./node_modules/core-js/modules/es6.object.keys.js","webpack:///./node_modules/core-js/modules/es6.object.get-own-property-names.js","webpack:///./node_modules/core-js/modules/es6.object.freeze.js","webpack:///./node_modules/core-js/modules/es6.object.seal.js","webpack:///./node_modules/core-js/modules/es6.object.prevent-extensions.js","webpack:///./node_modules/core-js/modules/es6.object.is-frozen.js","webpack:///./node_modules/core-js/modules/es6.object.is-sealed.js","webpack:///./node_modules/core-js/modules/es6.object.is-extensible.js","webpack:///./node_modules/core-js/modules/es6.object.assign.js","webpack:///./node_modules/core-js/modules/es6.object.is.js","webpack:///./node_modules/core-js/modules/es6.object.set-prototype-of.js","webpack:///./node_modules/core-js/modules/es6.object.to-string.js","webpack:///./node_modules/core-js/modules/es6.function.bind.js","webpack:///./node_modules/core-js/modules/es6.function.name.js","webpack:///./node_modules/core-js/modules/es6.function.has-instance.js","webpack:///./node_modules/core-js/modules/es6.parse-int.js","webpack:///./node_modules/core-js/modules/es6.parse-float.js","webpack:///./node_modules/core-js/modules/es6.number.constructor.js","webpack:///./node_modules/core-js/modules/es6.number.to-fixed.js","webpack:///./node_modules/core-js/modules/es6.number.to-precision.js","webpack:///./node_modules/core-js/modules/es6.number.epsilon.js","webpack:///./node_modules/core-js/modules/es6.number.is-finite.js","webpack:///./node_modules/core-js/modules/es6.number.is-integer.js","webpack:///./node_modules/core-js/modules/es6.number.is-nan.js","webpack:///./node_modules/core-js/modules/es6.number.is-safe-integer.js","webpack:///./node_modules/core-js/modules/es6.number.max-safe-integer.js","webpack:///./node_modules/core-js/modules/es6.number.min-safe-integer.js","webpack:///./node_modules/core-js/modules/es6.number.parse-float.js","webpack:///./node_modules/core-js/modules/es6.number.parse-int.js","webpack:///./node_modules/core-js/modules/es6.math.acosh.js","webpack:///./node_modules/core-js/modules/es6.math.asinh.js","webpack:///./node_modules/core-js/modules/es6.math.atanh.js","webpack:///./node_modules/core-js/modules/es6.math.cbrt.js","webpack:///./node_modules/core-js/modules/es6.math.clz32.js","webpack:///./node_modules/core-js/modules/es6.math.cosh.js","webpack:///./node_modules/core-js/modules/es6.math.expm1.js","webpack:///./node_modules/core-js/modules/es6.math.fround.js","webpack:///./node_modules/core-js/modules/es6.math.hypot.js","webpack:///./node_modules/core-js/modules/es6.math.imul.js","webpack:///./node_modules/core-js/modules/es6.math.log10.js","webpack:///./node_modules/core-js/modules/es6.math.log1p.js","webpack:///./node_modules/core-js/modules/es6.math.log2.js","webpack:///./node_modules/core-js/modules/es6.math.sign.js","webpack:///./node_modules/core-js/modules/es6.math.sinh.js","webpack:///./node_modules/core-js/modules/es6.math.tanh.js","webpack:///./node_modules/core-js/modules/es6.math.trunc.js","webpack:///./node_modules/core-js/modules/es6.string.from-code-point.js","webpack:///./node_modules/core-js/modules/es6.string.raw.js","webpack:///./node_modules/core-js/modules/es6.string.trim.js","webpack:///./node_modules/core-js/modules/es6.string.iterator.js","webpack:///./node_modules/core-js/modules/es6.string.code-point-at.js","webpack:///./node_modules/core-js/modules/es6.string.ends-with.js","webpack:///./node_modules/core-js/modules/es6.string.includes.js","webpack:///./node_modules/core-js/modules/es6.string.repeat.js","webpack:///./node_modules/core-js/modules/es6.string.starts-with.js","webpack:///./node_modules/core-js/modules/es6.string.anchor.js","webpack:///./node_modules/core-js/modules/es6.string.big.js","webpack:///./node_modules/core-js/modules/es6.string.blink.js","webpack:///./node_modules/core-js/modules/es6.string.bold.js","webpack:///./node_modules/core-js/modules/es6.string.fixed.js","webpack:///./node_modules/core-js/modules/es6.string.fontcolor.js","webpack:///./node_modules/core-js/modules/es6.string.fontsize.js","webpack:///./node_modules/core-js/modules/es6.string.italics.js","webpack:///./node_modules/core-js/modules/es6.string.link.js","webpack:///./node_modules/core-js/modules/es6.string.small.js","webpack:///./node_modules/core-js/modules/es6.string.strike.js","webpack:///./node_modules/core-js/modules/es6.string.sub.js","webpack:///./node_modules/core-js/modules/es6.string.sup.js","webpack:///./node_modules/core-js/modules/es6.date.now.js","webpack:///./node_modules/core-js/modules/es6.date.to-json.js","webpack:///./node_modules/core-js/modules/es6.date.to-iso-string.js","webpack:///./node_modules/core-js/modules/_date-to-iso-string.js","webpack:///./node_modules/core-js/modules/es6.date.to-string.js","webpack:///./node_modules/core-js/modules/es6.date.to-primitive.js","webpack:///./node_modules/core-js/modules/_date-to-primitive.js","webpack:///./node_modules/core-js/modules/es6.array.is-array.js","webpack:///./node_modules/core-js/modules/es6.array.from.js","webpack:///./node_modules/core-js/modules/es6.array.of.js","webpack:///./node_modules/core-js/modules/es6.array.join.js","webpack:///./node_modules/core-js/modules/es6.array.slice.js","webpack:///./node_modules/core-js/modules/es6.array.sort.js","webpack:///./node_modules/core-js/modules/es6.array.for-each.js","webpack:///./node_modules/core-js/modules/_array-species-constructor.js","webpack:///./node_modules/core-js/modules/es6.array.map.js","webpack:///./node_modules/core-js/modules/es6.array.filter.js","webpack:///./node_modules/core-js/modules/es6.array.some.js","webpack:///./node_modules/core-js/modules/es6.array.every.js","webpack:///./node_modules/core-js/modules/es6.array.reduce.js","webpack:///./node_modules/core-js/modules/es6.array.reduce-right.js","webpack:///./node_modules/core-js/modules/es6.array.index-of.js","webpack:///./node_modules/core-js/modules/es6.array.last-index-of.js","webpack:///./node_modules/core-js/modules/es6.array.copy-within.js","webpack:///./node_modules/core-js/modules/es6.array.fill.js","webpack:///./node_modules/core-js/modules/es6.array.find.js","webpack:///./node_modules/core-js/modules/es6.array.find-index.js","webpack:///./node_modules/core-js/modules/es6.array.species.js","webpack:///./node_modules/core-js/modules/es6.regexp.constructor.js","webpack:///./node_modules/core-js/modules/es6.regexp.to-string.js","webpack:///./node_modules/core-js/modules/es6.regexp.match.js","webpack:///./node_modules/core-js/modules/es6.regexp.replace.js","webpack:///./node_modules/core-js/modules/es6.regexp.search.js","webpack:///./node_modules/core-js/modules/es6.regexp.split.js","webpack:///./node_modules/core-js/modules/es6.promise.js","webpack:///./node_modules/core-js/modules/es6.weak-set.js","webpack:///./node_modules/core-js/modules/es6.typed.array-buffer.js","webpack:///./node_modules/core-js/modules/es6.typed.data-view.js","webpack:///./node_modules/core-js/modules/es6.typed.int8-array.js","webpack:///./node_modules/core-js/modules/es6.typed.uint8-array.js","webpack:///./node_modules/core-js/modules/es6.typed.uint8-clamped-array.js","webpack:///./node_modules/core-js/modules/es6.typed.int16-array.js","webpack:///./node_modules/core-js/modules/es6.typed.uint16-array.js","webpack:///./node_modules/core-js/modules/es6.typed.int32-array.js","webpack:///./node_modules/core-js/modules/es6.typed.uint32-array.js","webpack:///./node_modules/core-js/modules/es6.typed.float32-array.js","webpack:///./node_modules/core-js/modules/es6.typed.float64-array.js","webpack:///./node_modules/core-js/modules/es6.reflect.apply.js","webpack:///./node_modules/core-js/modules/es6.reflect.construct.js","webpack:///./node_modules/core-js/modules/es6.reflect.define-property.js","webpack:///./node_modules/core-js/modules/es6.reflect.delete-property.js","webpack:///./node_modules/core-js/modules/es6.reflect.enumerate.js","webpack:///./node_modules/core-js/modules/es6.reflect.get.js","webpack:///./node_modules/core-js/modules/es6.reflect.get-own-property-descriptor.js","webpack:///./node_modules/core-js/modules/es6.reflect.get-prototype-of.js","webpack:///./node_modules/core-js/modules/es6.reflect.has.js","webpack:///./node_modules/core-js/modules/es6.reflect.is-extensible.js","webpack:///./node_modules/core-js/modules/es6.reflect.own-keys.js","webpack:///./node_modules/core-js/modules/es6.reflect.prevent-extensions.js","webpack:///./node_modules/core-js/modules/es6.reflect.set.js","webpack:///./node_modules/core-js/modules/es6.reflect.set-prototype-of.js","webpack:///./node_modules/core-js/modules/es7.array.includes.js","webpack:///./node_modules/core-js/modules/es7.array.flat-map.js","webpack:///./node_modules/core-js/modules/es7.array.flatten.js","webpack:///./node_modules/core-js/modules/es7.string.at.js","webpack:///./node_modules/core-js/modules/es7.string.pad-start.js","webpack:///./node_modules/core-js/modules/es7.string.pad-end.js","webpack:///./node_modules/core-js/modules/es7.string.trim-left.js","webpack:///./node_modules/core-js/modules/es7.string.trim-right.js","webpack:///./node_modules/core-js/modules/es7.string.match-all.js","webpack:///./node_modules/core-js/modules/es7.symbol.async-iterator.js","webpack:///./node_modules/core-js/modules/es7.symbol.observable.js","webpack:///./node_modules/core-js/modules/es7.object.get-own-property-descriptors.js","webpack:///./node_modules/core-js/modules/es7.object.values.js","webpack:///./node_modules/core-js/modules/es7.object.entries.js","webpack:///./node_modules/core-js/modules/es7.object.define-getter.js","webpack:///./node_modules/core-js/modules/es7.object.define-setter.js","webpack:///./node_modules/core-js/modules/es7.object.lookup-getter.js","webpack:///./node_modules/core-js/modules/es7.object.lookup-setter.js","webpack:///./node_modules/core-js/modules/es7.map.to-json.js","webpack:///./node_modules/core-js/modules/es7.set.to-json.js","webpack:///./node_modules/core-js/modules/es7.map.of.js","webpack:///./node_modules/core-js/modules/es7.set.of.js","webpack:///./node_modules/core-js/modules/es7.weak-map.of.js","webpack:///./node_modules/core-js/modules/es7.weak-set.of.js","webpack:///./node_modules/core-js/modules/es7.map.from.js","webpack:///./node_modules/core-js/modules/es7.set.from.js","webpack:///./node_modules/core-js/modules/es7.weak-map.from.js","webpack:///./node_modules/core-js/modules/es7.weak-set.from.js","webpack:///./node_modules/core-js/modules/es7.global.js","webpack:///./node_modules/core-js/modules/es7.system.global.js","webpack:///./node_modules/core-js/modules/es7.error.is-error.js","webpack:///./node_modules/core-js/modules/es7.math.clamp.js","webpack:///./node_modules/core-js/modules/es7.math.deg-per-rad.js","webpack:///./node_modules/core-js/modules/es7.math.degrees.js","webpack:///./node_modules/core-js/modules/es7.math.fscale.js","webpack:///./node_modules/core-js/modules/es7.math.iaddh.js","webpack:///./node_modules/core-js/modules/es7.math.isubh.js","webpack:///./node_modules/core-js/modules/es7.math.imulh.js","webpack:///./node_modules/core-js/modules/es7.math.rad-per-deg.js","webpack:///./node_modules/core-js/modules/es7.math.radians.js","webpack:///./node_modules/core-js/modules/es7.math.scale.js","webpack:///./node_modules/core-js/modules/es7.math.umulh.js","webpack:///./node_modules/core-js/modules/es7.math.signbit.js","webpack:///./node_modules/core-js/modules/es7.promise.finally.js","webpack:///./node_modules/core-js/modules/es7.promise.try.js","webpack:///./node_modules/core-js/modules/es7.reflect.define-metadata.js","webpack:///./node_modules/core-js/modules/es7.reflect.delete-metadata.js","webpack:///./node_modules/core-js/modules/es7.reflect.get-metadata.js","webpack:///./node_modules/core-js/modules/es7.reflect.get-metadata-keys.js","webpack:///./node_modules/core-js/modules/es7.reflect.get-own-metadata.js","webpack:///./node_modules/core-js/modules/es7.reflect.get-own-metadata-keys.js","webpack:///./node_modules/core-js/modules/es7.reflect.has-metadata.js","webpack:///./node_modules/core-js/modules/es7.reflect.has-own-metadata.js","webpack:///./node_modules/core-js/modules/es7.reflect.metadata.js","webpack:///./node_modules/core-js/modules/es7.asap.js","webpack:///./node_modules/core-js/modules/es7.observable.js","webpack:///./node_modules/core-js/modules/web.timers.js","webpack:///./node_modules/core-js/modules/web.immediate.js","webpack:///./node_modules/core-js/modules/web.dom.iterable.js","webpack:///./node_modules/babel-polyfill/node_modules/regenerator-runtime/runtime.js","webpack:///./node_modules/core-js/fn/regexp/escape.js","webpack:///./node_modules/core-js/modules/core.regexp.escape.js","webpack:///./node_modules/core-js/modules/_replacer.js","webpack:///./src/components/vernier-app.js","webpack:///./src/templates sync ^\\.\\/.*\\.html$","webpack:///./src/templates/app-header-view.html","webpack:///./src/templates/create-study-group-view.html","webpack:///./src/templates/leaderboard-view.html","webpack:///./src/assets/leaderboard.png","webpack:///./src/templates/main-view.html","webpack:///./src/assets/shane.png","webpack:///./src/assets/herrick.png","webpack:///./src/assets/nick.png","webpack:///./src/assets/roman.png","webpack:///./src/assets/nikola.png","webpack:///./src/templates/score-progress-view.html","webpack:///./src/assets/chart.png","webpack:///./src/templates/sign-in-view.html","webpack:///./src/templates/study-groups-view.html","webpack:///./src/assets/study-groups.png","webpack:///./src/templates/teams-auth-view.html","webpack:///./src/templates/timeline-view.html","webpack:///./src/templates/todo-list-view.html","webpack:///./src/templates/vernier-app.html","webpack:///./src/components/main-view.js","webpack:///./node_modules/base64-js/index.js","webpack:///./node_modules/ieee754/index.js","webpack:///./node_modules/isarray/index.js","webpack:///./src/components/todo-list-view.js","webpack:///./src/components/timeline-view.js","webpack:///./src/components/study-groups-view.js","webpack:///./src/components/create-study-group-view.js","webpack:///./src/components/score-progress-view.js","webpack:///./src/components/leaderboard-view.js","webpack:///./src/components/app-header-view.js","webpack:///./src/components/teams-auth-view.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","global","require","core","hide","redefine","ctx","$export","type","source","own","out","exp","IS_FORCED","F","IS_GLOBAL","G","IS_PROTO","P","IS_BIND","B","target","S","expProto","undefined","Function","U","W","R","extendStatics","b","setPrototypeOf","__proto__","Array","__extends","__","this","constructor","__assign","assign","arguments","length","apply","__decorate","decorators","desc","getOwnPropertyDescriptor","Reflect","decorate","__awaiter","thisArg","_arguments","generator","Promise","resolve","reject","fulfilled","step","next","e","rejected","result","done","then","isObject","it","TypeError","window","Math","self","__g","exec","store","uid","USE_SYMBOL","toInteger","min","a","anObject","IE8_DOM_DEFINE","toPrimitive","dP","f","O","Attributes","defined","createDesc","has","SRC","$toString","TPL","split","inspectSource","val","safe","isFunction","join","String","fails","quot","createHTML","string","tag","attribute","p1","replace","NAME","test","toLowerCase","IObject","pIE","toIObject","gOPD","toObject","IE_PROTO","ObjectProto","getPrototypeOf","version","__e","aFunction","fn","that","toString","slice","ceil","floor","isNaN","method","arg","BaseViewElement","tagName","templateContent","getTemplate","content","attachShadow","appendChild","cloneNode","HTMLElement","templateString","template","document","createElement","innerHTML","parameter","valueOf","KEY","toLength","asc","TYPE","$create","IS_MAP","IS_FILTER","IS_SOME","IS_EVERY","IS_FIND_INDEX","NO_HOLES","$this","callbackfn","res","index","push","LIBRARY","$typed","$buffer","anInstance","propertyDesc","redefineAll","toIndex","toAbsoluteIndex","classof","isArrayIter","gOPN","getIterFn","wks","createArrayMethod","createArrayIncludes","speciesConstructor","ArrayIterators","Iterators","$iterDetect","setSpecies","arrayFill","arrayCopyWithin","$DP","$GOPD","RangeError","Uint8Array","ArrayProto","$ArrayBuffer","ArrayBuffer","$DataView","DataView","arrayForEach","arrayFilter","arraySome","arrayEvery","arrayFind","arrayFindIndex","arrayIncludes","arrayIndexOf","arrayValues","values","arrayKeys","keys","arrayEntries","entries","arrayLastIndexOf","lastIndexOf","arrayReduce","reduce","arrayReduceRight","reduceRight","arrayJoin","arraySort","sort","arraySlice","arrayToString","arrayToLocaleString","toLocaleString","ITERATOR","TAG","TYPED_CONSTRUCTOR","DEF_CONSTRUCTOR","ALL_CONSTRUCTORS","CONSTR","TYPED_ARRAY","TYPED","VIEW","$map","allocate","LITTLE_ENDIAN","Uint16Array","buffer","FORCED_SET","set","toOffset","BYTES","offset","validate","C","speciesFromList","list","fromList","addGetter","internal","_d","$from","iterator","aLen","mapfn","mapping","iterFn","$of","TO_LOCALE_BUG","$toLocaleString","proto","copyWithin","start","every","fill","filter","find","predicate","findIndex","forEach","indexOf","searchElement","includes","separator","map","reverse","middle","some","comparefn","subarray","begin","end","$begin","byteOffset","BYTES_PER_ELEMENT","$slice","$set","arrayLike","src","len","$iterators","isTAIndex","$getDesc","$setDesc","configurable","writable","$TypedArrayPrototype$","wrapper","CLAMPED","GETTER","SETTER","TypedArray","Base","TAC","FORCED","ABV","TypedArrayPrototype","addElement","data","v","round","setter","$offset","$length","byteLength","klass","$len","iter","concat","$nativeIterator","CORRECT_ITER_NAME","$iterator","of","from","Map","shared","getOrCreateMetadataMap","targetKey","targetMetadata","keyMetadata","MetadataKey","metadataMap","MetadataValue","_","META","setDesc","id","isExtensible","FREEZE","preventExtensions","setMeta","w","meta","NEED","fastKey","getWeak","onFreeze","UNSCOPABLES","bitmap","px","random","$keys","enumBugKeys","max","dPs","Empty","createDict","iframeDocument","iframe","style","display","contentWindow","open","write","lt","close","Properties","hiddenKeys","getOwnPropertyNames","DESCRIPTORS","SPECIES","Constructor","forbiddenField","BREAK","RETURN","iterable","_t","def","stat","cof","ARG","T","tryGet","callee","spaces","space","ltrim","RegExp","rtrim","exporter","ALIAS","FORCE","trim","copyright","propertyIsEnumerable","ignoreCase","multiline","unicode","sticky","D","fabricFont","factory","initializeCalled","initializeCompleted","initializeCallbacks","isFramelessWindow","parentMessageQueue","childMessageQueue","nextMessageId","handlers","callbacks","printCapabilityEnabled","GlobalVars","evt","message","callback","args","handler","func","targetWindow","parentWindow","childWindow","parentOrigin","childOrigin","targetOrigin","getTargetOrigin","targetMessageQueue","getTargetMessageQueue","postMessage","shift","actionName","request","createMessageRequest","currentWindow","nativeInterface","framelessPostMessage","JSON","stringify","response","createMessageResponse","theme","themeChangeHandler","sendMessageRequest","isFullScreen","fullScreenChangeHandler","backButtonPressHandler","navigateBack","readyToUnload","beforeUnloadHandler","changeSettingsHandler","subEntityId","conversationId","channelId","entityId","onStartConversationHandler","onCloseConversationHandler","Error","frameContext","expectedFrameContexts","found","messageSource","originalEvent","messageOrigin","origin","location","validOriginRegExp","closed","flushMessageQueue","updateRelationships","handleParentMessage","sendMessageResponse","isArray","messageId","handleChildMessage","messageQueueMonitor","setInterval","clearInterval","validOrigins","frameContexts","settings","authentication","remove","task","generateRegExpFromUrls","url","urlRegExpPart","urlParts","j","urls","urlRegExp","generateRegExpFromUrl","errorMessage","success","reason","print","ensureInitialized","processMessage","parent","opener","addEventListener","onNativeMessage","context","clientType","hostClientType","initCallback","_uninitialize","registerOnThemeChangeHandler","registerFullScreenHandler","registerBackButtonHandler","registerBeforeUnloadHandler","logs","registerGetLogHandler","registerOnSaveHandler","registerOnRemoveHandler","removeEventListener","hostWindow","event","ctrlKey","metaKey","keyCode","cancelBubble","preventDefault","stopImmediatePropagation","onComplete","getGenericOnCompleteHandler","tabInstanceParameters","deepLinkParameters","subEntityLabel","subEntityWebUrl","deepLink","tabInstance","saveHandler","removeHandler","saveEvent","SaveEventImpl","notifySuccess","removeEvent","RemoveEventImpl","setValidityState","validityState","getSettings","setSettings","instanceSettings","notified","ensureNotNotified","notifyFailure","getLogHandler","log","listener","ChildAppWindow","_instance","ParentAppWindow","bot","menus","enterFullscreen","exitFullscreen","getChatMembers","getConfigSetting","getUserJoinedTeams","openFilePreview","sendCustomMessage","showNotification","uploadCustomApp","conversations","sendQuery","botRequest","onSuccess","onError","getSupportedCommands","authenticate","authRequest","ResponseType","navBarMenuItemPressHandler","actionMenuItemPressHandler","viewConfigItemPressHandler","enabled","MenuItem","MenuListType","setUpViews","viewConfig","setNavBarMenu","items","showActionMenu","params","teamInstanceParameters","filePreviewParameters","title","description","objectUrl","downloadUrl","webPreviewUrl","webEditUrl","baseUrl","editFile","showNotificationParameters","notificationType","manifestBlob","openConversation","openConversationRequest","onCloseConversation","onStartConversation","status","closeConversation","appInitialization","enablePrintCapability","executeDeepLink","getContext","getMruTabInstances","getTabInstances","initialize","navigateCrossDomain","navigateToTab","registerChangeSettingsHandler","shareDeepLink","tasks","notifyAppLoaded","appInitializationFailedRequest","authParams","authWindowMonitor","stopAuthenticationWindowMonitor","failureCallback","closeAuthenticationWindow","callbackUrl","link","href","decodeURIComponent","host","search","updateUrlParameter","uri","hash","substr","successCallback","handleFailure","registerAuthenticationHandlers","authenticateParameters","authenticateParams","width","height","outerWidth","outerHeight","left","screenLeft","screenX","top","screenTop","screenY","savedChildOrigin","openAuthenticationWindow","getAuthToken","authTokenRequest","resources","getUser","userRequest","redirectIfWin32Outlook","waitForMessageQueue","setTimeout","startTask","taskInfo","submitHandler","updateTask","extra","submitTask","appIds","IS_INCLUDES","el","fromIndex","getOwnPropertySymbols","TO_STRING","pos","charCodeAt","charAt","MATCH","isRegExp","SAFE_CLOSING","riter","skipClosing","arr","builtinExec","regexpExec","REPLACE_SUPPORTS_NAMED_GROUPS","re","groups","SPLIT_WORKS_WITH_OVERWRITTEN_EXEC","originalExec","SYMBOL","DELEGATES_TO_SYMBOL","DELEGATES_TO_EXEC","execCalled","nativeRegExpMethod","fns","nativeMethod","regexp","str","arg2","forceStringMethod","strfn","rxfn","navigator","userAgent","forOf","setToStringTag","inheritIfRequired","methods","common","IS_WEAK","ADDER","fixMethod","instance","HASNT_CHAINING","THROWS_ON_PRIMITIVES","ACCEPT_ITERABLES","BUGGY_ZERO","$instance","clear","getConstructor","setStrong","Typed","TypedArrayConstructors","K","__defineSetter__","COLLECTION","A","cb","mapFn","nextItem","g","is","wksExt","$Symbol","documentElement","check","buggy","count","Infinity","sign","x","$expm1","expm1","$iterCreate","BUGGY","returnThis","DEFAULT","IS_SET","IteratorPrototype","getMethod","kind","DEF_VALUES","VALUES_BUG","$native","$default","$entries","$anyNative","descriptor","searchString","$defineProperty","getIteratorMethod","original","endPos","addToUnscopables","iterated","_i","_k","Arguments","re1","re2","regexpFlags","nativeExec","nativeReplace","patchedExec","UPDATES_LAST_INDEX_WRONG","NPCG_INCLUDED","lastIndex","reCopy","match","at","defer","channel","port","invoke","html","cel","process","setTask","setImmediate","clearTask","clearImmediate","MessageChannel","Dispatch","counter","queue","run","nextTick","now","port2","port1","onmessage","importScripts","removeChild","macrotask","Observer","MutationObserver","WebKitMutationObserver","isNode","head","last","notify","flush","domain","exit","enter","standalone","promise","toggle","node","createTextNode","observe","characterData","PromiseCapability","$$resolve","$$reject","PROTOTYPE","WRONG_INDEX","BaseBuffer","abs","pow","LN2","$BUFFER","$LENGTH","$OFFSET","packIEEE754","mLen","nBytes","eLen","eMax","eBias","rt","unpackIEEE754","nBits","NaN","unpackI32","bytes","packI8","packI16","packI32","packF64","packF32","view","isLittleEndian","intIndex","_b","pack","conversion","ArrayBufferProto","$setInt8","setInt8","getInt8","setUint8","bufferLength","getUint8","getInt16","getUint16","getInt32","getUint32","getFloat32","getFloat64","setInt16","setUint16","setInt32","setUint32","setFloat32","setFloat64","base64","ieee754","kMaxLength","Buffer","TYPED_ARRAY_SUPPORT","createBuffer","encodingOrOffset","allocUnsafe","array","fromArrayLike","fromArrayBuffer","encoding","isEncoding","actual","fromString","obj","isBuffer","checked","copy","fromObject","assertSize","size","isView","loweredCase","utf8ToBytes","base64ToBytes","slowToString","hexSlice","utf8Slice","asciiSlice","latin1Slice","base64Slice","utf16leSlice","swap","bidirectionalIndexOf","dir","indexSize","arrLength","valLength","read","buf","readUInt16BE","foundIndex","hexWrite","Number","remaining","strLen","parsed","parseInt","utf8Write","blitBuffer","asciiWrite","byteArray","asciiToBytes","latin1Write","base64Write","ucs2Write","units","hi","lo","utf16leToBytes","fromByteArray","secondByte","thirdByte","fourthByte","tempCodePoint","firstByte","codePoint","bytesPerSequence","codePoints","MAX_ARGUMENTS_LENGTH","fromCharCode","decodeCodePointsArray","SlowBuffer","alloc","INSPECT_MAX_BYTES","foo","typedArraySupport","poolSize","_augment","species","allocUnsafeSlow","_isBuffer","compare","y","swap16","swap32","swap64","equals","inspect","thisStart","thisEnd","thisCopy","targetCopy","isFinite","toJSON","_arr","ret","toHex","checkOffset","ext","checkInt","objectWriteUInt16","littleEndian","objectWriteUInt32","checkIEEE754","writeFloat","noAssert","writeDouble","newBuf","sliceLen","readUIntLE","mul","readUIntBE","readUInt8","readUInt16LE","readUInt32LE","readUInt32BE","readIntLE","readIntBE","readInt8","readInt16LE","readInt16BE","readInt32LE","readInt32BE","readFloatLE","readFloatBE","readDoubleLE","readDoubleBE","writeUIntLE","writeUIntBE","writeUInt8","writeUInt16LE","writeUInt16BE","writeUInt32LE","writeUInt32BE","writeIntLE","limit","sub","writeIntBE","writeInt8","writeInt16LE","writeInt16BE","writeInt32LE","writeInt32BE","writeFloatLE","writeFloatBE","writeDoubleLE","writeDoubleBE","targetStart","code","INVALID_BASE64_RE","leadSurrogate","toByteArray","stringtrim","base64clean","dst","names","getKeys","defineProperties","windowNames","getWindowNames","gOPS","$assign","k","getSymbols","isEnum","factories","construct","partArgs","bound","un","$parseInt","$trim","ws","hex","radix","$parseFloat","parseFloat","msg","log1p","EPSILON","EPSILON32","MAX32","MIN32","fround","$abs","$sign","memo","isRight","to","inc","forced","flags","newPromiseCapability","promiseCapability","strong","entry","getEntry","$iterDefine","SIZE","_f","_l","prev","add","InternalMap","each","weak","NATIVE_WEAK_MAP","IS_IE11","ActiveXObject","uncaughtFrozenStore","ufstore","$WeakMap","$has","UncaughtFrozenStore","findUncaughtFrozen","splice","number","ownKeys","IS_CONCAT_SPREADABLE","flattenIntoArray","sourceLen","depth","mapper","element","spreadable","targetIndex","sourceIndex","repeat","maxLength","fillString","stringLength","fillStr","intMaxLength","fillLen","stringFiller","isEntries","scale","inLow","inHigh","outLow","outHigh","webpackPolyfill","deprecate","paths","children","SignInViewElement","shadowRoot","querySelector","handleStudentClick","handleTeacherClick","console","customElements","define","directives","WeakMap","isDirective","isCEPolyfill","polyfillWrapFlushCallback","reparentNodes","container","before","nextSibling","insertBefore","removeNodes","noChange","nothing","marker","nodeMarker","markerRegex","Template","parts","nodesToRemove","stack","walker","createTreeWalker","lastPartIndex","partIndex","strings","nextNode","nodeType","hasAttributes","attributes","endsWith","stringForPart","lastAttributeNameRegex","attributeLookupName","attributeValue","getAttribute","removeAttribute","statics","currentNode","parentNode","insert","createMarker","previousSibling","pop","suffix","isTemplatePartActive","part","createComment","processor","options","__parts","setValue","commit","fragment","importNode","nodeIndex","nodeName","handleTextExpression","insertAfterNode","handleAttributeExpressions","adoptNode","upgrade","commentMarker","isCommentBinding","commentOpen","attributeMatch","getHTML","isPrimitive","isIterable","AttributeCommitter","dirty","_createPart","text","setAttribute","_getValue","committer","directive","__pendingValue","startNode","endNode","ref","__insert","__commitText","__commitTemplateResult","Node","__commitNode","__commitIterable","valueAsString","templateFactory","update","_clone","itemPart","itemParts","item","NodePart","appendIntoPart","insertAfterPart","PropertyCommitter","single","PropertyPart","eventOptionsSupported","_e","eventName","eventContext","__boundHandleEvent","handleEvent","newListener","oldListener","shouldRemoveListener","capture","once","passive","shouldAddListener","__options","defaultTemplateProcessor","prefix","templateCache","templateCaches","stringsArray","keyString","getTemplateElement","walkerNodeFilter","removeNodesFromTemplate","removeCount","nodesToRemoveInTemplate","currentRemovingNode","countNodes","startIndex","getTemplateCacheKey","scopeName","compatibleShadyCSSVersion","ShadyCSS","prepareTemplateDom","warn","cacheKey","TEMPLATE_TYPES","shadyRenderSet","Set","renderedDOM","templateElement","styles","querySelectorAll","condensedStyle","textContent","templates","refNode","insertCount","walkerIndex","insertNodeIntoTemplate","firstChild","prepareTemplateStyles","nativeShadow","removes","JSCompiler_renameProperty","prop","_obj","defaultConverter","toAttribute","Boolean","fromAttribute","parse","notEqual","old","defaultPropertyDeclaration","converter","reflect","hasChanged","microtaskPromise","UpdatingElement","_updateState","_instanceProperties","_updatePromise","_hasConnectedResolver","_changedProperties","_reflectingProperties","_saveInstanceProperties","_requestUpdate","_classProperties","_v","_attributeToProperty","ctor","attr","_attributeNameForProperty","attrValue","_propertyValueToAttribute","propName","_attributeToPropertyMap","_propertyValueFromAttribute","oldValue","shouldRequestUpdate","_valueHasChanged","_hasRequestedUpdate","_enqueueUpdate","updateComplete","previousUpdatePromise","rej","_hasConnected","performUpdate","_applyInstanceProperties","shouldUpdate","changedProperties","_markUpdated","firstUpdated","updated","_propertyToAttribute","_getUpdateComplete","superProperties","_ensureClassProperties","noAccessor","superCtor","finalize","props","properties","propKeys","createProperty","customElement","classOrDescriptor","clazz","legacyCustomElement","elements","finisher","standardCustomElement","standardProperty","placement","initializer","legacyProperty","protoOrDescriptor","supportsAdoptingStyleSheets","Document","CSSStyleSheet","constructionToken","CSSResult","cssText","safeToken","_styleSheet","replaceSync","textFromCSSResult","css","acc","idx","flattenStyles","flat","arrayFlat","_styles","_getUniqueStyles","userStyles","unshift","renderRoot","createRenderRoot","ShadowRoot","adoptStyles","adoptedStyleSheets","styleSheet","_needsShimAdoptedStyleSheets","ScopingShim","prepareAdoptedCssText","localName","hasUpdated","styleElement","templateResult","render","hasRendered","needsScoping","firstScopeRender","renderContainer","createDocumentFragment","appendInto","RetryHandlerOptions","gError","taskId","containerPart","beforePart","beforeNode","newPart","updatePart","generateMap","partListCache","keyListCache","keyFnOrTemplate","keyFn","newKeyToIndexMap","oldKeyToIndexMap","oldParts","oldKeys","newParts","newValues","newKeys","oldHead","oldTail","newHead","newTail","oldIndex","oldPart","classMapCache","classMap","classInfo","className","classList","oldInfo","bucket","cachedScopes","authEndpoint","ClientAuthError","ClientAuthErrorMessage","ClientConfigurationError","ClientConfigurationErrorMessage","cacheLocation","Storage","Date","getTime","authorityUrl","CanonicalizeUri","AuthorityType","B2C","Adfs","Aad","Logger","ServerError","ServerErrorMessage","InteractionRequiredAuthError","_this","eventCount","locals","useSourceMap","cssMapping","btoa","sourceMapping","sourceMap","unescape","encodeURIComponent","sourceURLs","sources","sourceRoot","cssWithMappingToString","mediaQuery","alreadyImportedModules","stylesInDom","isOldIE","all","atob","getTarget","styleTarget","HTMLIFrameElement","contentDocument","listToStyles","newStyles","base","media","addStylesToDom","domStyle","refs","addStyle","insertStyleElement","nonce","textStore","replaceText","replacement","applyToSingletonTag","cssNode","childNodes","singleton","singletonCounter","styleIndex","removeStyleElement","newObj","newList","mayRemove","_domStyle","_babelPolyfill","DEFINE_PROPERTY","padStart","padEnd","$fails","wksDefine","enumKeys","_create","gOPNExt","$GOPS","$JSON","_stringify","HIDDEN","TO_PRIMITIVE","SymbolRegistry","AllSymbols","OPSymbols","USE_NATIVE","QObject","findChild","setSymbolDesc","protoDesc","wrap","sym","isSymbol","$defineProperties","$propertyIsEnumerable","E","$getOwnPropertyDescriptor","$getOwnPropertyNames","$getOwnPropertySymbols","IS_OP","es6Symbols","wellKnownSymbols","keyFor","useSetter","useSimple","FAILS_ON_PRIMITIVES","replacer","$replacer","symbols","$getPrototypeOf","$freeze","$seal","$preventExtensions","$isFrozen","$isSealed","$isExtensible","FProto","nameRE","HAS_INSTANCE","FunctionProto","$Number","BROKEN_COF","TRIM","toNumber","argument","third","maxCode","first","digits","aNumberValue","$toFixed","toFixed","ERROR","multiply","c2","divide","numToString","fractionDigits","z","x2","$toPrecision","toPrecision","precision","_isFinite","isInteger","isSafeInteger","MAX_SAFE_INTEGER","MIN_SAFE_INTEGER","sqrt","$acosh","acosh","MAX_VALUE","$asinh","asinh","$atanh","atanh","cbrt","clz32","LOG2E","cosh","hypot","value1","value2","div","sum","larg","$imul","imul","xn","yn","xl","yl","log10","LOG10E","log2","sinh","tanh","trunc","$fromCodePoint","fromCodePoint","raw","callSite","tpl","$at","point","codePointAt","$endsWith","endPosition","$startsWith","startsWith","color","toISOString","pv","$toISOString","lz","num","getUTCFullYear","getUTCMilliseconds","getUTCMonth","getUTCDate","getUTCHours","getUTCMinutes","getUTCSeconds","DateProto","hint","upTo","cloned","$sort","$forEach","STRICT","$filter","$some","$every","$reduce","$indexOf","NEGATIVE_ZERO","$find","$flags","$RegExp","CORRECT_NEW","tiRE","piRE","fiU","proxy","advanceStringIndex","regExpExec","$match","maybeCallNative","rx","fullUnicode","matchStr","SUBSTITUTION_SYMBOLS","SUBSTITUTION_SYMBOLS_NO_NAMED","REPLACE","$replace","searchValue","replaceValue","functionalReplace","results","accumulatedResult","nextSourcePosition","matched","position","captures","namedCaptures","replacerArgs","getSubstitution","tailPos","ch","sameValue","SEARCH","$search","previousLastIndex","callRegExpExec","$min","$push","SUPPORTS_Y","SPLIT","$split","internalSplit","lastLength","output","lastLastIndex","splitLimit","separatorCopy","splitter","unicodeMatching","lim","q","Internal","newGenericPromiseCapability","OwnPromiseCapability","Wrapper","microtask","newPromiseCapabilityModule","perform","promiseResolve","versions","v8","$Promise","empty","FakePromise","PromiseRejectionEvent","isThenable","isReject","_n","chain","_c","ok","_s","reaction","exited","fail","_h","onHandleUnhandled","onUnhandled","unhandled","isUnhandled","emit","onunhandledrejection","error","_a","onrejectionhandled","$reject","_w","$resolve","executor","err","onFulfilled","onRejected","capability","$index","alreadyCalled","race","$isView","fin","viewS","viewT","init","rApply","fApply","thisArgument","argumentsList","L","rConstruct","NEW_TARGET_BUG","ARGS_BUG","Target","newTarget","$args","propertyKey","deleteProperty","Enumerate","enumerate","receiver","getProto","V","existingDescriptor","ownDesc","setProto","$includes","arraySpeciesCreate","flatMap","flatten","depthArg","$pad","WEBKIT_BUG","getFlags","RegExpProto","$RegExpStringIterator","_r","matchAll","getOwnPropertyDescriptors","getDesc","$values","__defineGetter__","__lookupGetter__","__lookupSetter__","isError","clamp","lower","upper","DEG_PER_RAD","PI","RAD_PER_DEG","degrees","radians","fscale","iaddh","x0","x1","y0","y1","$x0","$y0","isubh","imulh","u","$u","$v","u0","v0","u1","v1","umulh","signbit","onFinally","metadata","toMetaKey","ordinaryDefineOwnMetadata","defineMetadata","metadataKey","metadataValue","deleteMetadata","ordinaryHasOwnMetadata","ordinaryGetOwnMetadata","ordinaryGetMetadata","getMetadata","ordinaryOwnMetadataKeys","ordinaryMetadataKeys","oKeys","pKeys","getMetadataKeys","getOwnMetadata","getOwnMetadataKeys","ordinaryHasMetadata","hasMetadata","hasOwnMetadata","$metadata","asap","OBSERVABLE","cleanupSubscription","subscription","cleanup","subscriptionClosed","_o","closeSubscription","Subscription","observer","subscriber","SubscriptionObserver","unsubscribe","complete","$Observable","subscribe","observable","Observable","MSIE","time","boundArgs","$task","TO_STRING_TAG","ArrayValues","DOMIterables","CSSRuleList","CSSStyleDeclaration","CSSValueList","ClientRectList","DOMRectList","DOMStringList","DOMTokenList","DataTransferItemList","FileList","HTMLAllCollection","HTMLCollection","HTMLFormElement","HTMLSelectElement","MediaList","MimeTypeArray","NamedNodeMap","NodeList","PaintRequestList","Plugin","PluginArray","SVGLengthList","SVGNumberList","SVGPathSegList","SVGPointList","SVGStringList","SVGTransformList","SourceBufferList","StyleSheetList","TextTrackCueList","TextTrackList","TouchList","collections","explicit","Collection","Op","hasOwn","iteratorSymbol","asyncIteratorSymbol","asyncIterator","toStringTagSymbol","inModule","runtime","regeneratorRuntime","GenStateSuspendedStart","GenStateSuspendedYield","GenStateExecuting","GenStateCompleted","ContinueSentinel","NativeIteratorPrototype","Gp","GeneratorFunctionPrototype","Generator","GeneratorFunction","displayName","isGeneratorFunction","genFun","mark","awrap","__await","defineIteratorMethods","AsyncIterator","async","innerFn","outerFn","tryLocsList","Context","reset","skipTempReset","sent","_sent","delegate","tryEntries","resetTryEntry","stop","rootRecord","completion","rval","dispatchException","exception","handle","loc","caught","record","tryLoc","hasCatch","hasFinally","catchLoc","finallyLoc","abrupt","finallyEntry","afterLoc","finish","thrown","delegateYield","resultName","nextLoc","protoGenerator","_invoke","state","doneResult","delegateResult","maybeInvokeDelegate","tryCatch","makeInvokeMethod","unwrapped","previousPromise","callInvokeWithMethodAndArg","info","pushTryEntry","locs","iteratorMethod","escape","$re","regExp","VernierApp","contentRoot","getElementById","currentView","unload","webpackContext","req","webpackContextResolve","Providers","MsalProvider","TeamsProvider","teams","MainViewElement","microsoftTeamsLib","isAvailable","inTeams","globalProvider","clientId","authPopupUrl","handleAskFriendClick","handleFindExpertClick","handleAskTeacherClick","users","encodeURI","topicName","createChatUrl","clearTimeout","b64","lens","getLens","validLen","placeHoldersLen","tmp","Arr","_byteLength","curByte","revLookup","uint8","extraBytes","len2","encodeChunk","lookup","isLE","TodoListViewElement","handleCreateClick","TimelineViewElement","agenda","templateConverters","dayFromDateTime","getDateFromDateTime","timeRangeFromEvent","getTimeRange","subject","startTime","endTime","attendees","joinMeetingUrl","dateTimeString","date","setMinutes","getMinutes","getTimezoneOffset","monthIndex","getMonth","day","getDate","year","getFullYear","isAllDay","prettyPrintTimeFromDateTime","hours","getHours","minutes","ampm","minutesStr","dateTime","CreateStudyGroupViewElement","StudyGroupsViewElement","createButton","handleFindClick","rect","getBoundingClientRect","pageYOffset","scrollTop","pageXOffset","scrollLeft","bottom","showAt","flyoutPanel","_lightDismissPanel","handleRootClick","handleCreateClicked","body","screenWidth","scrollWidth","clientWidth","marginLeft","marginTop","toElement","groupNameInput","people","_selectedPeople","userPrincipalName","ScoreProgressViewElement","openInVernier","LeaderboardViewElement","AppHeaderViewElement","handleHamburgerClick","TeamsAuthView","handleAuth"],"mappings":"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A,EAAQ,KACRA,EAAQ,KACRA,EAAQ,KACRA,EAAQ,KACRA,EAAQ,KACRA,EAAQ,KACRA,EAAQ,KACRA,EAAQ,KACRA,EAAQ,KACRA,EAAQ,KACRA,EAAQ,KACRA,EAAQ,KACRA,EAAQ,KACRA,EAAQ,KACRA,EAAQ,KACRA,EAAQ,KACRA,EAAQ,KACRA,EAAQ,KACRA,EAAQ,KACRA,EAAQ,KACRA,EAAQ,KACRA,EAAQ,KACRA,EAAQ,KACRA,EAAQ,KACRA,EAAQ,KACRA,EAAQ,KACRA,EAAQ,KACRA,EAAQ,KACRA,EAAQ,KACRA,EAAQ,KACRA,EAAQ,KACRA,EAAQ,KACRA,EAAQ,KACRA,EAAQ,KACRA,EAAQ,KACRA,EAAQ,KACRA,EAAQ,KACRA,EAAQ,KACRA,EAAQ,KACRA,EAAQ,KACRA,EAAQ,KACRA,EAAQ,KACRA,EAAQ,KACRA,EAAQ,KACRA,EAAQ,KACRA,EAAQ,KACRA,EAAQ,KACRA,EAAQ,KACRA,EAAQ,KACRA,EAAQ,KACRA,EAAQ,KACRA,EAAQ,KACRA,EAAQ,KACRA,EAAQ,KACRA,EAAQ,KACRA,EAAQ,KACRA,EAAQ,KACRA,EAAQ,KACRA,EAAQ,KACRA,EAAQ,KACRA,EAAQ,KACRA,EAAQ,KACRA,EAAQ,KACRA,EAAQ,KACRA,EAAQ,KACRA,EAAQ,KACRA,EAAQ,KACRA,EAAQ,KACRA,EAAQ,KACRA,EAAQ,KACRA,EAAQ,KACRA,EAAQ,IACRA,EAAQ,KACRA,EAAQ,KACRA,EAAQ,KACRA,EAAQ,KACRA,EAAQ,KACRA,EAAQ,KACRA,EAAQ,KACRA,EAAQ,KACRA,EAAQ,KACRA,EAAQ,KACRA,EAAQ,KACRA,EAAQ,KACRA,EAAQ,KACRA,EAAQ,KACRA,EAAQ,KACRA,EAAQ,KACRA,EAAQ,KACRA,EAAQ,KACRA,EAAQ,KACRA,EAAQ,KACRA,EAAQ,KACRA,EAAQ,KACRA,EAAQ,KACRA,EAAQ,KACRA,EAAQ,KACRA,EAAQ,KACRA,EAAQ,KACRA,EAAQ,KACRA,EAAQ,KACRA,EAAQ,KACRA,EAAQ,KACRA,EAAQ,KACRA,EAAQ,KACRA,EAAQ,KACRA,EAAQ,KACRA,EAAQ,KACRA,EAAQ,KACRA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","file":"bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 144);\n","var global = require('./_global');\nvar core = require('./_core');\nvar hide = require('./_hide');\nvar redefine = require('./_redefine');\nvar ctx = require('./_ctx');\nvar PROTOTYPE = 'prototype';\n\nvar $export = function (type, name, source) {\n  var IS_FORCED = type & $export.F;\n  var IS_GLOBAL = type & $export.G;\n  var IS_STATIC = type & $export.S;\n  var IS_PROTO = type & $export.P;\n  var IS_BIND = type & $export.B;\n  var target = IS_GLOBAL ? global : IS_STATIC ? global[name] || (global[name] = {}) : (global[name] || {})[PROTOTYPE];\n  var exports = IS_GLOBAL ? core : core[name] || (core[name] = {});\n  var expProto = exports[PROTOTYPE] || (exports[PROTOTYPE] = {});\n  var key, own, out, exp;\n  if (IS_GLOBAL) source = name;\n  for (key in source) {\n    // contains in native\n    own = !IS_FORCED && target && target[key] !== undefined;\n    // export native or passed\n    out = (own ? target : source)[key];\n    // bind timers to global for call from export context\n    exp = IS_BIND && own ? ctx(out, global) : IS_PROTO && typeof out == 'function' ? ctx(Function.call, out) : out;\n    // extend global\n    if (target) redefine(target, key, out, type & $export.U);\n    // export\n    if (exports[key] != out) hide(exports, key, exp);\n    if (IS_PROTO && expProto[key] != out) expProto[key] = out;\n  }\n};\nglobal.core = core;\n// type bitmap\n$export.F = 1;   // forced\n$export.G = 2;   // global\n$export.S = 4;   // static\n$export.P = 8;   // proto\n$export.B = 16;  // bind\n$export.W = 32;  // wrap\n$export.U = 64;  // safe\n$export.R = 128; // real proto method for `library`\nmodule.exports = $export;\n","/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation. All rights reserved.\r\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\nthis file except in compliance with the License. You may obtain a copy of the\r\nLicense at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\nMERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\nSee the Apache Version 2.0 License for specific language governing permissions\r\nand limitations under the License.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport function __exportStar(m, exports) {\r\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\n\r\nexport function __values(o) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator], i = 0;\r\n    if (m) return m.call(o);\r\n    return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n};\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\r\n    result.default = mod;\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n","var isObject = require('./_is-object');\nmodule.exports = function (it) {\n  if (!isObject(it)) throw TypeError(it + ' is not an object!');\n  return it;\n};\n","// https://github.com/zloirock/core-js/issues/86#issuecomment-115759028\nvar global = module.exports = typeof window != 'undefined' && window.Math == Math\n  ? window : typeof self != 'undefined' && self.Math == Math ? self\n  // eslint-disable-next-line no-new-func\n  : Function('return this')();\nif (typeof __g == 'number') __g = global; // eslint-disable-line no-undef\n","module.exports = function (exec) {\n  try {\n    return !!exec();\n  } catch (e) {\n    return true;\n  }\n};\n","module.exports = function (it) {\n  return typeof it === 'object' ? it !== null : typeof it === 'function';\n};\n","var store = require('./_shared')('wks');\nvar uid = require('./_uid');\nvar Symbol = require('./_global').Symbol;\nvar USE_SYMBOL = typeof Symbol == 'function';\n\nvar $exports = module.exports = function (name) {\n  return store[name] || (store[name] =\n    USE_SYMBOL && Symbol[name] || (USE_SYMBOL ? Symbol : uid)('Symbol.' + name));\n};\n\n$exports.store = store;\n","// 7.1.15 ToLength\nvar toInteger = require('./_to-integer');\nvar min = Math.min;\nmodule.exports = function (it) {\n  return it > 0 ? min(toInteger(it), 0x1fffffffffffff) : 0; // pow(2, 53) - 1 == 9007199254740991\n};\n","// Thank's IE8 for his funny defineProperty\nmodule.exports = !require('./_fails')(function () {\n  return Object.defineProperty({}, 'a', { get: function () { return 7; } }).a != 7;\n});\n","var anObject = require('./_an-object');\nvar IE8_DOM_DEFINE = require('./_ie8-dom-define');\nvar toPrimitive = require('./_to-primitive');\nvar dP = Object.defineProperty;\n\nexports.f = require('./_descriptors') ? Object.defineProperty : function defineProperty(O, P, Attributes) {\n  anObject(O);\n  P = toPrimitive(P, true);\n  anObject(Attributes);\n  if (IE8_DOM_DEFINE) try {\n    return dP(O, P, Attributes);\n  } catch (e) { /* empty */ }\n  if ('get' in Attributes || 'set' in Attributes) throw TypeError('Accessors not supported!');\n  if ('value' in Attributes) O[P] = Attributes.value;\n  return O;\n};\n","// 7.1.13 ToObject(argument)\nvar defined = require('./_defined');\nmodule.exports = function (it) {\n  return Object(defined(it));\n};\n","/**\r\n * -------------------------------------------------------------------------------------------\r\n * Copyright (c) Microsoft Corporation.  All Rights Reserved.  Licensed under the MIT License.\r\n * See License in the project root for license information.\r\n * -------------------------------------------------------------------------------------------\r\n */\r\n/**\r\n * @enum\r\n * Enum for RequestMethods\r\n * @property {string} GET - The get request type\r\n * @property {string} PATCH - The patch request type\r\n * @property {string} POST - The post request type\r\n * @property {string} PUT - The put request type\r\n * @property {string} DELETE - The delete request type\r\n */\r\nexport var RequestMethod;\r\n(function (RequestMethod) {\r\n    RequestMethod[\"GET\"] = \"GET\";\r\n    RequestMethod[\"PATCH\"] = \"PATCH\";\r\n    RequestMethod[\"POST\"] = \"POST\";\r\n    RequestMethod[\"PUT\"] = \"PUT\";\r\n    RequestMethod[\"DELETE\"] = \"DELETE\";\r\n})(RequestMethod || (RequestMethod = {}));\r\n//# sourceMappingURL=RequestMethod.js.map","module.exports = function (it) {\n  if (typeof it != 'function') throw TypeError(it + ' is not a function!');\n  return it;\n};\n","var dP = require('./_object-dp');\nvar createDesc = require('./_property-desc');\nmodule.exports = require('./_descriptors') ? function (object, key, value) {\n  return dP.f(object, key, createDesc(1, value));\n} : function (object, key, value) {\n  object[key] = value;\n  return object;\n};\n","var global = require('./_global');\nvar hide = require('./_hide');\nvar has = require('./_has');\nvar SRC = require('./_uid')('src');\nvar $toString = require('./_function-to-string');\nvar TO_STRING = 'toString';\nvar TPL = ('' + $toString).split(TO_STRING);\n\nrequire('./_core').inspectSource = function (it) {\n  return $toString.call(it);\n};\n\n(module.exports = function (O, key, val, safe) {\n  var isFunction = typeof val == 'function';\n  if (isFunction) has(val, 'name') || hide(val, 'name', key);\n  if (O[key] === val) return;\n  if (isFunction) has(val, SRC) || hide(val, SRC, O[key] ? '' + O[key] : TPL.join(String(key)));\n  if (O === global) {\n    O[key] = val;\n  } else if (!safe) {\n    delete O[key];\n    hide(O, key, val);\n  } else if (O[key]) {\n    O[key] = val;\n  } else {\n    hide(O, key, val);\n  }\n// add fake Function#toString for correct work wrapped methods / constructors with methods like LoDash isNative\n})(Function.prototype, TO_STRING, function toString() {\n  return typeof this == 'function' && this[SRC] || $toString.call(this);\n});\n","var $export = require('./_export');\nvar fails = require('./_fails');\nvar defined = require('./_defined');\nvar quot = /\"/g;\n// B.2.3.2.1 CreateHTML(string, tag, attribute, value)\nvar createHTML = function (string, tag, attribute, value) {\n  var S = String(defined(string));\n  var p1 = '<' + tag;\n  if (attribute !== '') p1 += ' ' + attribute + '=\"' + String(value).replace(quot, '&quot;') + '\"';\n  return p1 + '>' + S + '</' + tag + '>';\n};\nmodule.exports = function (NAME, exec) {\n  var O = {};\n  O[NAME] = exec(createHTML);\n  $export($export.P + $export.F * fails(function () {\n    var test = ''[NAME]('\"');\n    return test !== test.toLowerCase() || test.split('\"').length > 3;\n  }), 'String', O);\n};\n","var hasOwnProperty = {}.hasOwnProperty;\nmodule.exports = function (it, key) {\n  return hasOwnProperty.call(it, key);\n};\n","// to indexed object, toObject with fallback for non-array-like ES3 strings\nvar IObject = require('./_iobject');\nvar defined = require('./_defined');\nmodule.exports = function (it) {\n  return IObject(defined(it));\n};\n","var pIE = require('./_object-pie');\nvar createDesc = require('./_property-desc');\nvar toIObject = require('./_to-iobject');\nvar toPrimitive = require('./_to-primitive');\nvar has = require('./_has');\nvar IE8_DOM_DEFINE = require('./_ie8-dom-define');\nvar gOPD = Object.getOwnPropertyDescriptor;\n\nexports.f = require('./_descriptors') ? gOPD : function getOwnPropertyDescriptor(O, P) {\n  O = toIObject(O);\n  P = toPrimitive(P, true);\n  if (IE8_DOM_DEFINE) try {\n    return gOPD(O, P);\n  } catch (e) { /* empty */ }\n  if (has(O, P)) return createDesc(!pIE.f.call(O, P), O[P]);\n};\n","// 19.1.2.9 / 15.2.3.2 Object.getPrototypeOf(O)\nvar has = require('./_has');\nvar toObject = require('./_to-object');\nvar IE_PROTO = require('./_shared-key')('IE_PROTO');\nvar ObjectProto = Object.prototype;\n\nmodule.exports = Object.getPrototypeOf || function (O) {\n  O = toObject(O);\n  if (has(O, IE_PROTO)) return O[IE_PROTO];\n  if (typeof O.constructor == 'function' && O instanceof O.constructor) {\n    return O.constructor.prototype;\n  } return O instanceof Object ? ObjectProto : null;\n};\n","var core = module.exports = { version: '2.6.9' };\nif (typeof __e == 'number') __e = core; // eslint-disable-line no-undef\n","// optional / simple context binding\nvar aFunction = require('./_a-function');\nmodule.exports = function (fn, that, length) {\n  aFunction(fn);\n  if (that === undefined) return fn;\n  switch (length) {\n    case 1: return function (a) {\n      return fn.call(that, a);\n    };\n    case 2: return function (a, b) {\n      return fn.call(that, a, b);\n    };\n    case 3: return function (a, b, c) {\n      return fn.call(that, a, b, c);\n    };\n  }\n  return function (/* ...args */) {\n    return fn.apply(that, arguments);\n  };\n};\n","var toString = {}.toString;\n\nmodule.exports = function (it) {\n  return toString.call(it).slice(8, -1);\n};\n","// 7.1.4 ToInteger\nvar ceil = Math.ceil;\nvar floor = Math.floor;\nmodule.exports = function (it) {\n  return isNaN(it = +it) ? 0 : (it > 0 ? floor : ceil)(it);\n};\n","'use strict';\nvar fails = require('./_fails');\n\nmodule.exports = function (method, arg) {\n  return !!method && fails(function () {\n    // eslint-disable-next-line no-useless-call\n    arg ? method.call(null, function () { /* empty */ }, 1) : method.call(null);\n  });\n};\n","class BaseViewElement extends HTMLElement {\n\n    constructor(tagName) {\n        super();\n\n        let template = this.getTemplate(tagName);\n        let templateContent = template.content;\n\n        this.attachShadow({mode: 'open'}).appendChild(\n            templateContent.cloneNode(true)\n        );\n    }\n\n    getTemplate(tagName) {\n        let templateString = require(`../templates/${tagName}.html`);\n        let template = document.createElement('template');\n        template.innerHTML = templateString;\n        return template;\n    }\n\n    initialize(parameter) {\n\n    }\n\n    unload() {\n\n    }\n}\n\nmodule.exports = BaseViewElement;\n","// 7.1.1 ToPrimitive(input [, PreferredType])\nvar isObject = require('./_is-object');\n// instead of the ES6 spec version, we didn't implement @@toPrimitive case\n// and the second argument - flag - preferred type is a string\nmodule.exports = function (it, S) {\n  if (!isObject(it)) return it;\n  var fn, val;\n  if (S && typeof (fn = it.toString) == 'function' && !isObject(val = fn.call(it))) return val;\n  if (typeof (fn = it.valueOf) == 'function' && !isObject(val = fn.call(it))) return val;\n  if (!S && typeof (fn = it.toString) == 'function' && !isObject(val = fn.call(it))) return val;\n  throw TypeError(\"Can't convert object to primitive value\");\n};\n","// 7.2.1 RequireObjectCoercible(argument)\nmodule.exports = function (it) {\n  if (it == undefined) throw TypeError(\"Can't call method on  \" + it);\n  return it;\n};\n","// most Object methods by ES6 should accept primitives\nvar $export = require('./_export');\nvar core = require('./_core');\nvar fails = require('./_fails');\nmodule.exports = function (KEY, exec) {\n  var fn = (core.Object || {})[KEY] || Object[KEY];\n  var exp = {};\n  exp[KEY] = exec(fn);\n  $export($export.S + $export.F * fails(function () { fn(1); }), 'Object', exp);\n};\n","// 0 -> Array#forEach\n// 1 -> Array#map\n// 2 -> Array#filter\n// 3 -> Array#some\n// 4 -> Array#every\n// 5 -> Array#find\n// 6 -> Array#findIndex\nvar ctx = require('./_ctx');\nvar IObject = require('./_iobject');\nvar toObject = require('./_to-object');\nvar toLength = require('./_to-length');\nvar asc = require('./_array-species-create');\nmodule.exports = function (TYPE, $create) {\n  var IS_MAP = TYPE == 1;\n  var IS_FILTER = TYPE == 2;\n  var IS_SOME = TYPE == 3;\n  var IS_EVERY = TYPE == 4;\n  var IS_FIND_INDEX = TYPE == 6;\n  var NO_HOLES = TYPE == 5 || IS_FIND_INDEX;\n  var create = $create || asc;\n  return function ($this, callbackfn, that) {\n    var O = toObject($this);\n    var self = IObject(O);\n    var f = ctx(callbackfn, that, 3);\n    var length = toLength(self.length);\n    var index = 0;\n    var result = IS_MAP ? create($this, length) : IS_FILTER ? create($this, 0) : undefined;\n    var val, res;\n    for (;length > index; index++) if (NO_HOLES || index in self) {\n      val = self[index];\n      res = f(val, index, O);\n      if (TYPE) {\n        if (IS_MAP) result[index] = res;   // map\n        else if (res) switch (TYPE) {\n          case 3: return true;             // some\n          case 5: return val;              // find\n          case 6: return index;            // findIndex\n          case 2: result.push(val);        // filter\n        } else if (IS_EVERY) return false; // every\n      }\n    }\n    return IS_FIND_INDEX ? -1 : IS_SOME || IS_EVERY ? IS_EVERY : result;\n  };\n};\n","'use strict';\nif (require('./_descriptors')) {\n  var LIBRARY = require('./_library');\n  var global = require('./_global');\n  var fails = require('./_fails');\n  var $export = require('./_export');\n  var $typed = require('./_typed');\n  var $buffer = require('./_typed-buffer');\n  var ctx = require('./_ctx');\n  var anInstance = require('./_an-instance');\n  var propertyDesc = require('./_property-desc');\n  var hide = require('./_hide');\n  var redefineAll = require('./_redefine-all');\n  var toInteger = require('./_to-integer');\n  var toLength = require('./_to-length');\n  var toIndex = require('./_to-index');\n  var toAbsoluteIndex = require('./_to-absolute-index');\n  var toPrimitive = require('./_to-primitive');\n  var has = require('./_has');\n  var classof = require('./_classof');\n  var isObject = require('./_is-object');\n  var toObject = require('./_to-object');\n  var isArrayIter = require('./_is-array-iter');\n  var create = require('./_object-create');\n  var getPrototypeOf = require('./_object-gpo');\n  var gOPN = require('./_object-gopn').f;\n  var getIterFn = require('./core.get-iterator-method');\n  var uid = require('./_uid');\n  var wks = require('./_wks');\n  var createArrayMethod = require('./_array-methods');\n  var createArrayIncludes = require('./_array-includes');\n  var speciesConstructor = require('./_species-constructor');\n  var ArrayIterators = require('./es6.array.iterator');\n  var Iterators = require('./_iterators');\n  var $iterDetect = require('./_iter-detect');\n  var setSpecies = require('./_set-species');\n  var arrayFill = require('./_array-fill');\n  var arrayCopyWithin = require('./_array-copy-within');\n  var $DP = require('./_object-dp');\n  var $GOPD = require('./_object-gopd');\n  var dP = $DP.f;\n  var gOPD = $GOPD.f;\n  var RangeError = global.RangeError;\n  var TypeError = global.TypeError;\n  var Uint8Array = global.Uint8Array;\n  var ARRAY_BUFFER = 'ArrayBuffer';\n  var SHARED_BUFFER = 'Shared' + ARRAY_BUFFER;\n  var BYTES_PER_ELEMENT = 'BYTES_PER_ELEMENT';\n  var PROTOTYPE = 'prototype';\n  var ArrayProto = Array[PROTOTYPE];\n  var $ArrayBuffer = $buffer.ArrayBuffer;\n  var $DataView = $buffer.DataView;\n  var arrayForEach = createArrayMethod(0);\n  var arrayFilter = createArrayMethod(2);\n  var arraySome = createArrayMethod(3);\n  var arrayEvery = createArrayMethod(4);\n  var arrayFind = createArrayMethod(5);\n  var arrayFindIndex = createArrayMethod(6);\n  var arrayIncludes = createArrayIncludes(true);\n  var arrayIndexOf = createArrayIncludes(false);\n  var arrayValues = ArrayIterators.values;\n  var arrayKeys = ArrayIterators.keys;\n  var arrayEntries = ArrayIterators.entries;\n  var arrayLastIndexOf = ArrayProto.lastIndexOf;\n  var arrayReduce = ArrayProto.reduce;\n  var arrayReduceRight = ArrayProto.reduceRight;\n  var arrayJoin = ArrayProto.join;\n  var arraySort = ArrayProto.sort;\n  var arraySlice = ArrayProto.slice;\n  var arrayToString = ArrayProto.toString;\n  var arrayToLocaleString = ArrayProto.toLocaleString;\n  var ITERATOR = wks('iterator');\n  var TAG = wks('toStringTag');\n  var TYPED_CONSTRUCTOR = uid('typed_constructor');\n  var DEF_CONSTRUCTOR = uid('def_constructor');\n  var ALL_CONSTRUCTORS = $typed.CONSTR;\n  var TYPED_ARRAY = $typed.TYPED;\n  var VIEW = $typed.VIEW;\n  var WRONG_LENGTH = 'Wrong length!';\n\n  var $map = createArrayMethod(1, function (O, length) {\n    return allocate(speciesConstructor(O, O[DEF_CONSTRUCTOR]), length);\n  });\n\n  var LITTLE_ENDIAN = fails(function () {\n    // eslint-disable-next-line no-undef\n    return new Uint8Array(new Uint16Array([1]).buffer)[0] === 1;\n  });\n\n  var FORCED_SET = !!Uint8Array && !!Uint8Array[PROTOTYPE].set && fails(function () {\n    new Uint8Array(1).set({});\n  });\n\n  var toOffset = function (it, BYTES) {\n    var offset = toInteger(it);\n    if (offset < 0 || offset % BYTES) throw RangeError('Wrong offset!');\n    return offset;\n  };\n\n  var validate = function (it) {\n    if (isObject(it) && TYPED_ARRAY in it) return it;\n    throw TypeError(it + ' is not a typed array!');\n  };\n\n  var allocate = function (C, length) {\n    if (!(isObject(C) && TYPED_CONSTRUCTOR in C)) {\n      throw TypeError('It is not a typed array constructor!');\n    } return new C(length);\n  };\n\n  var speciesFromList = function (O, list) {\n    return fromList(speciesConstructor(O, O[DEF_CONSTRUCTOR]), list);\n  };\n\n  var fromList = function (C, list) {\n    var index = 0;\n    var length = list.length;\n    var result = allocate(C, length);\n    while (length > index) result[index] = list[index++];\n    return result;\n  };\n\n  var addGetter = function (it, key, internal) {\n    dP(it, key, { get: function () { return this._d[internal]; } });\n  };\n\n  var $from = function from(source /* , mapfn, thisArg */) {\n    var O = toObject(source);\n    var aLen = arguments.length;\n    var mapfn = aLen > 1 ? arguments[1] : undefined;\n    var mapping = mapfn !== undefined;\n    var iterFn = getIterFn(O);\n    var i, length, values, result, step, iterator;\n    if (iterFn != undefined && !isArrayIter(iterFn)) {\n      for (iterator = iterFn.call(O), values = [], i = 0; !(step = iterator.next()).done; i++) {\n        values.push(step.value);\n      } O = values;\n    }\n    if (mapping && aLen > 2) mapfn = ctx(mapfn, arguments[2], 2);\n    for (i = 0, length = toLength(O.length), result = allocate(this, length); length > i; i++) {\n      result[i] = mapping ? mapfn(O[i], i) : O[i];\n    }\n    return result;\n  };\n\n  var $of = function of(/* ...items */) {\n    var index = 0;\n    var length = arguments.length;\n    var result = allocate(this, length);\n    while (length > index) result[index] = arguments[index++];\n    return result;\n  };\n\n  // iOS Safari 6.x fails here\n  var TO_LOCALE_BUG = !!Uint8Array && fails(function () { arrayToLocaleString.call(new Uint8Array(1)); });\n\n  var $toLocaleString = function toLocaleString() {\n    return arrayToLocaleString.apply(TO_LOCALE_BUG ? arraySlice.call(validate(this)) : validate(this), arguments);\n  };\n\n  var proto = {\n    copyWithin: function copyWithin(target, start /* , end */) {\n      return arrayCopyWithin.call(validate(this), target, start, arguments.length > 2 ? arguments[2] : undefined);\n    },\n    every: function every(callbackfn /* , thisArg */) {\n      return arrayEvery(validate(this), callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n    },\n    fill: function fill(value /* , start, end */) { // eslint-disable-line no-unused-vars\n      return arrayFill.apply(validate(this), arguments);\n    },\n    filter: function filter(callbackfn /* , thisArg */) {\n      return speciesFromList(this, arrayFilter(validate(this), callbackfn,\n        arguments.length > 1 ? arguments[1] : undefined));\n    },\n    find: function find(predicate /* , thisArg */) {\n      return arrayFind(validate(this), predicate, arguments.length > 1 ? arguments[1] : undefined);\n    },\n    findIndex: function findIndex(predicate /* , thisArg */) {\n      return arrayFindIndex(validate(this), predicate, arguments.length > 1 ? arguments[1] : undefined);\n    },\n    forEach: function forEach(callbackfn /* , thisArg */) {\n      arrayForEach(validate(this), callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n    },\n    indexOf: function indexOf(searchElement /* , fromIndex */) {\n      return arrayIndexOf(validate(this), searchElement, arguments.length > 1 ? arguments[1] : undefined);\n    },\n    includes: function includes(searchElement /* , fromIndex */) {\n      return arrayIncludes(validate(this), searchElement, arguments.length > 1 ? arguments[1] : undefined);\n    },\n    join: function join(separator) { // eslint-disable-line no-unused-vars\n      return arrayJoin.apply(validate(this), arguments);\n    },\n    lastIndexOf: function lastIndexOf(searchElement /* , fromIndex */) { // eslint-disable-line no-unused-vars\n      return arrayLastIndexOf.apply(validate(this), arguments);\n    },\n    map: function map(mapfn /* , thisArg */) {\n      return $map(validate(this), mapfn, arguments.length > 1 ? arguments[1] : undefined);\n    },\n    reduce: function reduce(callbackfn /* , initialValue */) { // eslint-disable-line no-unused-vars\n      return arrayReduce.apply(validate(this), arguments);\n    },\n    reduceRight: function reduceRight(callbackfn /* , initialValue */) { // eslint-disable-line no-unused-vars\n      return arrayReduceRight.apply(validate(this), arguments);\n    },\n    reverse: function reverse() {\n      var that = this;\n      var length = validate(that).length;\n      var middle = Math.floor(length / 2);\n      var index = 0;\n      var value;\n      while (index < middle) {\n        value = that[index];\n        that[index++] = that[--length];\n        that[length] = value;\n      } return that;\n    },\n    some: function some(callbackfn /* , thisArg */) {\n      return arraySome(validate(this), callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n    },\n    sort: function sort(comparefn) {\n      return arraySort.call(validate(this), comparefn);\n    },\n    subarray: function subarray(begin, end) {\n      var O = validate(this);\n      var length = O.length;\n      var $begin = toAbsoluteIndex(begin, length);\n      return new (speciesConstructor(O, O[DEF_CONSTRUCTOR]))(\n        O.buffer,\n        O.byteOffset + $begin * O.BYTES_PER_ELEMENT,\n        toLength((end === undefined ? length : toAbsoluteIndex(end, length)) - $begin)\n      );\n    }\n  };\n\n  var $slice = function slice(start, end) {\n    return speciesFromList(this, arraySlice.call(validate(this), start, end));\n  };\n\n  var $set = function set(arrayLike /* , offset */) {\n    validate(this);\n    var offset = toOffset(arguments[1], 1);\n    var length = this.length;\n    var src = toObject(arrayLike);\n    var len = toLength(src.length);\n    var index = 0;\n    if (len + offset > length) throw RangeError(WRONG_LENGTH);\n    while (index < len) this[offset + index] = src[index++];\n  };\n\n  var $iterators = {\n    entries: function entries() {\n      return arrayEntries.call(validate(this));\n    },\n    keys: function keys() {\n      return arrayKeys.call(validate(this));\n    },\n    values: function values() {\n      return arrayValues.call(validate(this));\n    }\n  };\n\n  var isTAIndex = function (target, key) {\n    return isObject(target)\n      && target[TYPED_ARRAY]\n      && typeof key != 'symbol'\n      && key in target\n      && String(+key) == String(key);\n  };\n  var $getDesc = function getOwnPropertyDescriptor(target, key) {\n    return isTAIndex(target, key = toPrimitive(key, true))\n      ? propertyDesc(2, target[key])\n      : gOPD(target, key);\n  };\n  var $setDesc = function defineProperty(target, key, desc) {\n    if (isTAIndex(target, key = toPrimitive(key, true))\n      && isObject(desc)\n      && has(desc, 'value')\n      && !has(desc, 'get')\n      && !has(desc, 'set')\n      // TODO: add validation descriptor w/o calling accessors\n      && !desc.configurable\n      && (!has(desc, 'writable') || desc.writable)\n      && (!has(desc, 'enumerable') || desc.enumerable)\n    ) {\n      target[key] = desc.value;\n      return target;\n    } return dP(target, key, desc);\n  };\n\n  if (!ALL_CONSTRUCTORS) {\n    $GOPD.f = $getDesc;\n    $DP.f = $setDesc;\n  }\n\n  $export($export.S + $export.F * !ALL_CONSTRUCTORS, 'Object', {\n    getOwnPropertyDescriptor: $getDesc,\n    defineProperty: $setDesc\n  });\n\n  if (fails(function () { arrayToString.call({}); })) {\n    arrayToString = arrayToLocaleString = function toString() {\n      return arrayJoin.call(this);\n    };\n  }\n\n  var $TypedArrayPrototype$ = redefineAll({}, proto);\n  redefineAll($TypedArrayPrototype$, $iterators);\n  hide($TypedArrayPrototype$, ITERATOR, $iterators.values);\n  redefineAll($TypedArrayPrototype$, {\n    slice: $slice,\n    set: $set,\n    constructor: function () { /* noop */ },\n    toString: arrayToString,\n    toLocaleString: $toLocaleString\n  });\n  addGetter($TypedArrayPrototype$, 'buffer', 'b');\n  addGetter($TypedArrayPrototype$, 'byteOffset', 'o');\n  addGetter($TypedArrayPrototype$, 'byteLength', 'l');\n  addGetter($TypedArrayPrototype$, 'length', 'e');\n  dP($TypedArrayPrototype$, TAG, {\n    get: function () { return this[TYPED_ARRAY]; }\n  });\n\n  // eslint-disable-next-line max-statements\n  module.exports = function (KEY, BYTES, wrapper, CLAMPED) {\n    CLAMPED = !!CLAMPED;\n    var NAME = KEY + (CLAMPED ? 'Clamped' : '') + 'Array';\n    var GETTER = 'get' + KEY;\n    var SETTER = 'set' + KEY;\n    var TypedArray = global[NAME];\n    var Base = TypedArray || {};\n    var TAC = TypedArray && getPrototypeOf(TypedArray);\n    var FORCED = !TypedArray || !$typed.ABV;\n    var O = {};\n    var TypedArrayPrototype = TypedArray && TypedArray[PROTOTYPE];\n    var getter = function (that, index) {\n      var data = that._d;\n      return data.v[GETTER](index * BYTES + data.o, LITTLE_ENDIAN);\n    };\n    var setter = function (that, index, value) {\n      var data = that._d;\n      if (CLAMPED) value = (value = Math.round(value)) < 0 ? 0 : value > 0xff ? 0xff : value & 0xff;\n      data.v[SETTER](index * BYTES + data.o, value, LITTLE_ENDIAN);\n    };\n    var addElement = function (that, index) {\n      dP(that, index, {\n        get: function () {\n          return getter(this, index);\n        },\n        set: function (value) {\n          return setter(this, index, value);\n        },\n        enumerable: true\n      });\n    };\n    if (FORCED) {\n      TypedArray = wrapper(function (that, data, $offset, $length) {\n        anInstance(that, TypedArray, NAME, '_d');\n        var index = 0;\n        var offset = 0;\n        var buffer, byteLength, length, klass;\n        if (!isObject(data)) {\n          length = toIndex(data);\n          byteLength = length * BYTES;\n          buffer = new $ArrayBuffer(byteLength);\n        } else if (data instanceof $ArrayBuffer || (klass = classof(data)) == ARRAY_BUFFER || klass == SHARED_BUFFER) {\n          buffer = data;\n          offset = toOffset($offset, BYTES);\n          var $len = data.byteLength;\n          if ($length === undefined) {\n            if ($len % BYTES) throw RangeError(WRONG_LENGTH);\n            byteLength = $len - offset;\n            if (byteLength < 0) throw RangeError(WRONG_LENGTH);\n          } else {\n            byteLength = toLength($length) * BYTES;\n            if (byteLength + offset > $len) throw RangeError(WRONG_LENGTH);\n          }\n          length = byteLength / BYTES;\n        } else if (TYPED_ARRAY in data) {\n          return fromList(TypedArray, data);\n        } else {\n          return $from.call(TypedArray, data);\n        }\n        hide(that, '_d', {\n          b: buffer,\n          o: offset,\n          l: byteLength,\n          e: length,\n          v: new $DataView(buffer)\n        });\n        while (index < length) addElement(that, index++);\n      });\n      TypedArrayPrototype = TypedArray[PROTOTYPE] = create($TypedArrayPrototype$);\n      hide(TypedArrayPrototype, 'constructor', TypedArray);\n    } else if (!fails(function () {\n      TypedArray(1);\n    }) || !fails(function () {\n      new TypedArray(-1); // eslint-disable-line no-new\n    }) || !$iterDetect(function (iter) {\n      new TypedArray(); // eslint-disable-line no-new\n      new TypedArray(null); // eslint-disable-line no-new\n      new TypedArray(1.5); // eslint-disable-line no-new\n      new TypedArray(iter); // eslint-disable-line no-new\n    }, true)) {\n      TypedArray = wrapper(function (that, data, $offset, $length) {\n        anInstance(that, TypedArray, NAME);\n        var klass;\n        // `ws` module bug, temporarily remove validation length for Uint8Array\n        // https://github.com/websockets/ws/pull/645\n        if (!isObject(data)) return new Base(toIndex(data));\n        if (data instanceof $ArrayBuffer || (klass = classof(data)) == ARRAY_BUFFER || klass == SHARED_BUFFER) {\n          return $length !== undefined\n            ? new Base(data, toOffset($offset, BYTES), $length)\n            : $offset !== undefined\n              ? new Base(data, toOffset($offset, BYTES))\n              : new Base(data);\n        }\n        if (TYPED_ARRAY in data) return fromList(TypedArray, data);\n        return $from.call(TypedArray, data);\n      });\n      arrayForEach(TAC !== Function.prototype ? gOPN(Base).concat(gOPN(TAC)) : gOPN(Base), function (key) {\n        if (!(key in TypedArray)) hide(TypedArray, key, Base[key]);\n      });\n      TypedArray[PROTOTYPE] = TypedArrayPrototype;\n      if (!LIBRARY) TypedArrayPrototype.constructor = TypedArray;\n    }\n    var $nativeIterator = TypedArrayPrototype[ITERATOR];\n    var CORRECT_ITER_NAME = !!$nativeIterator\n      && ($nativeIterator.name == 'values' || $nativeIterator.name == undefined);\n    var $iterator = $iterators.values;\n    hide(TypedArray, TYPED_CONSTRUCTOR, true);\n    hide(TypedArrayPrototype, TYPED_ARRAY, NAME);\n    hide(TypedArrayPrototype, VIEW, true);\n    hide(TypedArrayPrototype, DEF_CONSTRUCTOR, TypedArray);\n\n    if (CLAMPED ? new TypedArray(1)[TAG] != NAME : !(TAG in TypedArrayPrototype)) {\n      dP(TypedArrayPrototype, TAG, {\n        get: function () { return NAME; }\n      });\n    }\n\n    O[NAME] = TypedArray;\n\n    $export($export.G + $export.W + $export.F * (TypedArray != Base), O);\n\n    $export($export.S, NAME, {\n      BYTES_PER_ELEMENT: BYTES\n    });\n\n    $export($export.S + $export.F * fails(function () { Base.of.call(TypedArray, 1); }), NAME, {\n      from: $from,\n      of: $of\n    });\n\n    if (!(BYTES_PER_ELEMENT in TypedArrayPrototype)) hide(TypedArrayPrototype, BYTES_PER_ELEMENT, BYTES);\n\n    $export($export.P, NAME, proto);\n\n    setSpecies(NAME);\n\n    $export($export.P + $export.F * FORCED_SET, NAME, { set: $set });\n\n    $export($export.P + $export.F * !CORRECT_ITER_NAME, NAME, $iterators);\n\n    if (!LIBRARY && TypedArrayPrototype.toString != arrayToString) TypedArrayPrototype.toString = arrayToString;\n\n    $export($export.P + $export.F * fails(function () {\n      new TypedArray(1).slice();\n    }), NAME, { slice: $slice });\n\n    $export($export.P + $export.F * (fails(function () {\n      return [1, 2].toLocaleString() != new TypedArray([1, 2]).toLocaleString();\n    }) || !fails(function () {\n      TypedArrayPrototype.toLocaleString.call([1, 2]);\n    })), NAME, { toLocaleString: $toLocaleString });\n\n    Iterators[NAME] = CORRECT_ITER_NAME ? $nativeIterator : $iterator;\n    if (!LIBRARY && !CORRECT_ITER_NAME) hide(TypedArrayPrototype, ITERATOR, $iterator);\n  };\n} else module.exports = function () { /* empty */ };\n","var Map = require('./es6.map');\nvar $export = require('./_export');\nvar shared = require('./_shared')('metadata');\nvar store = shared.store || (shared.store = new (require('./es6.weak-map'))());\n\nvar getOrCreateMetadataMap = function (target, targetKey, create) {\n  var targetMetadata = store.get(target);\n  if (!targetMetadata) {\n    if (!create) return undefined;\n    store.set(target, targetMetadata = new Map());\n  }\n  var keyMetadata = targetMetadata.get(targetKey);\n  if (!keyMetadata) {\n    if (!create) return undefined;\n    targetMetadata.set(targetKey, keyMetadata = new Map());\n  } return keyMetadata;\n};\nvar ordinaryHasOwnMetadata = function (MetadataKey, O, P) {\n  var metadataMap = getOrCreateMetadataMap(O, P, false);\n  return metadataMap === undefined ? false : metadataMap.has(MetadataKey);\n};\nvar ordinaryGetOwnMetadata = function (MetadataKey, O, P) {\n  var metadataMap = getOrCreateMetadataMap(O, P, false);\n  return metadataMap === undefined ? undefined : metadataMap.get(MetadataKey);\n};\nvar ordinaryDefineOwnMetadata = function (MetadataKey, MetadataValue, O, P) {\n  getOrCreateMetadataMap(O, P, true).set(MetadataKey, MetadataValue);\n};\nvar ordinaryOwnMetadataKeys = function (target, targetKey) {\n  var metadataMap = getOrCreateMetadataMap(target, targetKey, false);\n  var keys = [];\n  if (metadataMap) metadataMap.forEach(function (_, key) { keys.push(key); });\n  return keys;\n};\nvar toMetaKey = function (it) {\n  return it === undefined || typeof it == 'symbol' ? it : String(it);\n};\nvar exp = function (O) {\n  $export($export.S, 'Reflect', O);\n};\n\nmodule.exports = {\n  store: store,\n  map: getOrCreateMetadataMap,\n  has: ordinaryHasOwnMetadata,\n  get: ordinaryGetOwnMetadata,\n  set: ordinaryDefineOwnMetadata,\n  keys: ordinaryOwnMetadataKeys,\n  key: toMetaKey,\n  exp: exp\n};\n","module.exports = false;\n","var META = require('./_uid')('meta');\nvar isObject = require('./_is-object');\nvar has = require('./_has');\nvar setDesc = require('./_object-dp').f;\nvar id = 0;\nvar isExtensible = Object.isExtensible || function () {\n  return true;\n};\nvar FREEZE = !require('./_fails')(function () {\n  return isExtensible(Object.preventExtensions({}));\n});\nvar setMeta = function (it) {\n  setDesc(it, META, { value: {\n    i: 'O' + ++id, // object ID\n    w: {}          // weak collections IDs\n  } });\n};\nvar fastKey = function (it, create) {\n  // return primitive with prefix\n  if (!isObject(it)) return typeof it == 'symbol' ? it : (typeof it == 'string' ? 'S' : 'P') + it;\n  if (!has(it, META)) {\n    // can't set metadata to uncaught frozen object\n    if (!isExtensible(it)) return 'F';\n    // not necessary to add metadata\n    if (!create) return 'E';\n    // add missing metadata\n    setMeta(it);\n  // return object ID\n  } return it[META].i;\n};\nvar getWeak = function (it, create) {\n  if (!has(it, META)) {\n    // can't set metadata to uncaught frozen object\n    if (!isExtensible(it)) return true;\n    // not necessary to add metadata\n    if (!create) return false;\n    // add missing metadata\n    setMeta(it);\n  // return hash weak collections IDs\n  } return it[META].w;\n};\n// add metadata on freeze-family methods calling\nvar onFreeze = function (it) {\n  if (FREEZE && meta.NEED && isExtensible(it) && !has(it, META)) setMeta(it);\n  return it;\n};\nvar meta = module.exports = {\n  KEY: META,\n  NEED: false,\n  fastKey: fastKey,\n  getWeak: getWeak,\n  onFreeze: onFreeze\n};\n","// 22.1.3.31 Array.prototype[@@unscopables]\nvar UNSCOPABLES = require('./_wks')('unscopables');\nvar ArrayProto = Array.prototype;\nif (ArrayProto[UNSCOPABLES] == undefined) require('./_hide')(ArrayProto, UNSCOPABLES, {});\nmodule.exports = function (key) {\n  ArrayProto[UNSCOPABLES][key] = true;\n};\n","module.exports = function (bitmap, value) {\n  return {\n    enumerable: !(bitmap & 1),\n    configurable: !(bitmap & 2),\n    writable: !(bitmap & 4),\n    value: value\n  };\n};\n","var id = 0;\nvar px = Math.random();\nmodule.exports = function (key) {\n  return 'Symbol('.concat(key === undefined ? '' : key, ')_', (++id + px).toString(36));\n};\n","// 19.1.2.14 / 15.2.3.14 Object.keys(O)\nvar $keys = require('./_object-keys-internal');\nvar enumBugKeys = require('./_enum-bug-keys');\n\nmodule.exports = Object.keys || function keys(O) {\n  return $keys(O, enumBugKeys);\n};\n","var toInteger = require('./_to-integer');\nvar max = Math.max;\nvar min = Math.min;\nmodule.exports = function (index, length) {\n  index = toInteger(index);\n  return index < 0 ? max(index + length, 0) : min(index, length);\n};\n","// 19.1.2.2 / 15.2.3.5 Object.create(O [, Properties])\nvar anObject = require('./_an-object');\nvar dPs = require('./_object-dps');\nvar enumBugKeys = require('./_enum-bug-keys');\nvar IE_PROTO = require('./_shared-key')('IE_PROTO');\nvar Empty = function () { /* empty */ };\nvar PROTOTYPE = 'prototype';\n\n// Create object with fake `null` prototype: use iframe Object with cleared prototype\nvar createDict = function () {\n  // Thrash, waste and sodomy: IE GC bug\n  var iframe = require('./_dom-create')('iframe');\n  var i = enumBugKeys.length;\n  var lt = '<';\n  var gt = '>';\n  var iframeDocument;\n  iframe.style.display = 'none';\n  require('./_html').appendChild(iframe);\n  iframe.src = 'javascript:'; // eslint-disable-line no-script-url\n  // createDict = iframe.contentWindow.Object;\n  // html.removeChild(iframe);\n  iframeDocument = iframe.contentWindow.document;\n  iframeDocument.open();\n  iframeDocument.write(lt + 'script' + gt + 'document.F=Object' + lt + '/script' + gt);\n  iframeDocument.close();\n  createDict = iframeDocument.F;\n  while (i--) delete createDict[PROTOTYPE][enumBugKeys[i]];\n  return createDict();\n};\n\nmodule.exports = Object.create || function create(O, Properties) {\n  var result;\n  if (O !== null) {\n    Empty[PROTOTYPE] = anObject(O);\n    result = new Empty();\n    Empty[PROTOTYPE] = null;\n    // add \"__proto__\" for Object.getPrototypeOf polyfill\n    result[IE_PROTO] = O;\n  } else result = createDict();\n  return Properties === undefined ? result : dPs(result, Properties);\n};\n","// 19.1.2.7 / 15.2.3.4 Object.getOwnPropertyNames(O)\nvar $keys = require('./_object-keys-internal');\nvar hiddenKeys = require('./_enum-bug-keys').concat('length', 'prototype');\n\nexports.f = Object.getOwnPropertyNames || function getOwnPropertyNames(O) {\n  return $keys(O, hiddenKeys);\n};\n","'use strict';\nvar global = require('./_global');\nvar dP = require('./_object-dp');\nvar DESCRIPTORS = require('./_descriptors');\nvar SPECIES = require('./_wks')('species');\n\nmodule.exports = function (KEY) {\n  var C = global[KEY];\n  if (DESCRIPTORS && C && !C[SPECIES]) dP.f(C, SPECIES, {\n    configurable: true,\n    get: function () { return this; }\n  });\n};\n","module.exports = function (it, Constructor, name, forbiddenField) {\n  if (!(it instanceof Constructor) || (forbiddenField !== undefined && forbiddenField in it)) {\n    throw TypeError(name + ': incorrect invocation!');\n  } return it;\n};\n","var ctx = require('./_ctx');\nvar call = require('./_iter-call');\nvar isArrayIter = require('./_is-array-iter');\nvar anObject = require('./_an-object');\nvar toLength = require('./_to-length');\nvar getIterFn = require('./core.get-iterator-method');\nvar BREAK = {};\nvar RETURN = {};\nvar exports = module.exports = function (iterable, entries, fn, that, ITERATOR) {\n  var iterFn = ITERATOR ? function () { return iterable; } : getIterFn(iterable);\n  var f = ctx(fn, that, entries ? 2 : 1);\n  var index = 0;\n  var length, step, iterator, result;\n  if (typeof iterFn != 'function') throw TypeError(iterable + ' is not iterable!');\n  // fast case for arrays with default iterator\n  if (isArrayIter(iterFn)) for (length = toLength(iterable.length); length > index; index++) {\n    result = entries ? f(anObject(step = iterable[index])[0], step[1]) : f(iterable[index]);\n    if (result === BREAK || result === RETURN) return result;\n  } else for (iterator = iterFn.call(iterable); !(step = iterator.next()).done;) {\n    result = call(iterator, f, step.value, entries);\n    if (result === BREAK || result === RETURN) return result;\n  }\n};\nexports.BREAK = BREAK;\nexports.RETURN = RETURN;\n","var redefine = require('./_redefine');\nmodule.exports = function (target, src, safe) {\n  for (var key in src) redefine(target, key, src[key], safe);\n  return target;\n};\n","var isObject = require('./_is-object');\nmodule.exports = function (it, TYPE) {\n  if (!isObject(it) || it._t !== TYPE) throw TypeError('Incompatible receiver, ' + TYPE + ' required!');\n  return it;\n};\n","var def = require('./_object-dp').f;\nvar has = require('./_has');\nvar TAG = require('./_wks')('toStringTag');\n\nmodule.exports = function (it, tag, stat) {\n  if (it && !has(it = stat ? it : it.prototype, TAG)) def(it, TAG, { configurable: true, value: tag });\n};\n","// getting tag from 19.1.3.6 Object.prototype.toString()\nvar cof = require('./_cof');\nvar TAG = require('./_wks')('toStringTag');\n// ES3 wrong here\nvar ARG = cof(function () { return arguments; }()) == 'Arguments';\n\n// fallback for IE11 Script Access Denied error\nvar tryGet = function (it, key) {\n  try {\n    return it[key];\n  } catch (e) { /* empty */ }\n};\n\nmodule.exports = function (it) {\n  var O, T, B;\n  return it === undefined ? 'Undefined' : it === null ? 'Null'\n    // @@toStringTag case\n    : typeof (T = tryGet(O = Object(it), TAG)) == 'string' ? T\n    // builtinTag case\n    : ARG ? cof(O)\n    // ES3 arguments fallback\n    : (B = cof(O)) == 'Object' && typeof O.callee == 'function' ? 'Arguments' : B;\n};\n","var $export = require('./_export');\nvar defined = require('./_defined');\nvar fails = require('./_fails');\nvar spaces = require('./_string-ws');\nvar space = '[' + spaces + ']';\nvar non = '\\u200b\\u0085';\nvar ltrim = RegExp('^' + space + space + '*');\nvar rtrim = RegExp(space + space + '*$');\n\nvar exporter = function (KEY, exec, ALIAS) {\n  var exp = {};\n  var FORCE = fails(function () {\n    return !!spaces[KEY]() || non[KEY]() != non;\n  });\n  var fn = exp[KEY] = FORCE ? exec(trim) : spaces[KEY];\n  if (ALIAS) exp[ALIAS] = fn;\n  $export($export.P + $export.F * FORCE, 'String', exp);\n};\n\n// 1 -> String#trimLeft\n// 2 -> String#trimRight\n// 3 -> String#trim\nvar trim = exporter.trim = function (string, TYPE) {\n  string = String(defined(string));\n  if (TYPE & 1) string = string.replace(ltrim, '');\n  if (TYPE & 2) string = string.replace(rtrim, '');\n  return string;\n};\n\nmodule.exports = exporter;\n","module.exports = {};\n","/**\r\n * -------------------------------------------------------------------------------------------\r\n * Copyright (c) Microsoft Corporation.  All Rights Reserved.  Licensed under the MIT License.\r\n * See License in the project root for license information.\r\n * -------------------------------------------------------------------------------------------\r\n */\r\n/**\r\n * @module GraphRequestUtil\r\n */\r\n/**\r\n * To hold list of OData query params\r\n */\r\nexport const oDataQueryNames = [\"$select\", \"$expand\", \"$orderby\", \"$filter\", \"$top\", \"$skip\", \"$skipToken\", \"$count\"];\r\n/**\r\n * To construct the URL by appending the segments with \"/\"\r\n * @param {string[]} urlSegments - The array of strings\r\n * @returns The constructed URL string\r\n */\r\nexport const urlJoin = (urlSegments) => {\r\n    const removePostSlash = (s) => s.replace(/\\/+$/, \"\");\r\n    const removePreSlash = (s) => s.replace(/^\\/+/, \"\");\r\n    const joiner = (pre, cur) => [removePostSlash(pre), removePreSlash(cur)].join(\"/\");\r\n    const parts = Array.prototype.slice.call(urlSegments);\r\n    return parts.reduce(joiner);\r\n};\r\n/**\r\n * Serializes the content\r\n * @param {any} content - The content value that needs to be serialized\r\n * @returns The serialized content\r\n *\r\n * Note:\r\n * This conversion is required due to the following reasons:\r\n * Body parameter of Request method of isomorphic-fetch only accepts Blob, ArrayBuffer, FormData, TypedArrays string.\r\n * Node.js platform does not support Blob, FormData. Javascript File object inherits from Blob so it is also not supported in node. Therefore content of type Blob, File, FormData will only come from browsers.\r\n * Parallel to ArrayBuffer in javascript, node provides Buffer interface. Node's Buffer is able to send the arbitrary binary data to the server successfully for both Browser and Node platform. Whereas sending binary data via ArrayBuffer or TypedArrays was only possible using Browser. To support both Node and Browser, `serializeContent` converts TypedArrays or ArrayBuffer to `Node Buffer`.\r\n * If the data received is in JSON format, `serializeContent` converts the JSON to string.\r\n */\r\nexport const serializeContent = (content) => {\r\n    const className = content.constructor.name;\r\n    if (className === \"Buffer\" || className === \"Blob\" || className === \"File\" || className === \"FormData\" || typeof content === \"string\") {\r\n        return content;\r\n    }\r\n    if (className === \"ArrayBuffer\") {\r\n        content = Buffer.from(content);\r\n    }\r\n    else if (className === \"Int8Array\" || className === \"Int16Array\" || className === \"Int32Array\" || className === \"Uint8Array\" || className === \"Uint16Array\" || className === \"Uint32Array\" || className === \"Uint8ClampedArray\" || className === \"Float32Array\" || className === \"Float64Array\" || className === \"DataView\") {\r\n        content = Buffer.from(content.buffer);\r\n    }\r\n    else {\r\n        try {\r\n            content = JSON.stringify(content);\r\n        }\r\n        catch (error) {\r\n            throw new Error(\"Unable to stringify the content\");\r\n        }\r\n    }\r\n    return content;\r\n};\r\n//# sourceMappingURL=GraphRequestUtil.js.map","var core = require('./_core');\nvar global = require('./_global');\nvar SHARED = '__core-js_shared__';\nvar store = global[SHARED] || (global[SHARED] = {});\n\n(module.exports = function (key, value) {\n  return store[key] || (store[key] = value !== undefined ? value : {});\n})('versions', []).push({\n  version: core.version,\n  mode: require('./_library') ? 'pure' : 'global',\n  copyright: ' 2019 Denis Pushkarev (zloirock.ru)'\n});\n","// fallback for non-array-like ES3 and non-enumerable old V8 strings\nvar cof = require('./_cof');\n// eslint-disable-next-line no-prototype-builtins\nmodule.exports = Object('z').propertyIsEnumerable(0) ? Object : function (it) {\n  return cof(it) == 'String' ? it.split('') : Object(it);\n};\n","exports.f = {}.propertyIsEnumerable;\n","'use strict';\n// 21.2.5.3 get RegExp.prototype.flags\nvar anObject = require('./_an-object');\nmodule.exports = function () {\n  var that = anObject(this);\n  var result = '';\n  if (that.global) result += 'g';\n  if (that.ignoreCase) result += 'i';\n  if (that.multiline) result += 'm';\n  if (that.unicode) result += 'u';\n  if (that.sticky) result += 'y';\n  return result;\n};\n","// 7.3.20 SpeciesConstructor(O, defaultConstructor)\nvar anObject = require('./_an-object');\nvar aFunction = require('./_a-function');\nvar SPECIES = require('./_wks')('species');\nmodule.exports = function (O, D) {\n  var C = anObject(O).constructor;\n  var S;\n  return C === undefined || (S = anObject(C)[SPECIES]) == undefined ? D : aFunction(S);\n};\n","/**\r\n * -------------------------------------------------------------------------------------------\r\n * Copyright (c) Microsoft Corporation.  All Rights Reserved.  Licensed under the MIT License.\r\n * See License in the project root for license information.\r\n * -------------------------------------------------------------------------------------------\r\n */\r\nconst fabricFont = document.createElement('style');\r\nfabricFont.type = 'text/css';\r\nfabricFont.appendChild(document.createTextNode(`\n@font-face {\n    font-family: 'FabricMDL2Icons';\n    src: url('https://static2.sharepointonline.com/files/fabric/assets/icons/fabricmdl2icons-2.68.woff2') format('woff2'),\n    url(https://static2.sharepointonline.com/files/fabric/assets/icons/fabricmdl2icons-2.68.woff) format(\"woff\"),\n    url(https://static2.sharepointonline.com/files/fabric/assets/icons/fabricmdl2icons-2.68.ttf) format(\"truetype\");;\n}\n`));\r\ndocument.head.appendChild(fabricFont);\r\n//# sourceMappingURL=fabric-icon-font.js.map","(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"microsoftTeams\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"microsoftTeams\"] = factory();\n\telse\n\t\troot[\"microsoftTeams\"] = factory();\n})(window, function() {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 8);\n","import { MessageRequest } from './interfaces';\r\nimport { ConversationResponse } from '../public/interfaces';\r\nexport class GlobalVars {\r\n  public static initializeCalled: boolean = false;\r\n  public static initializeCompleted: boolean = false;\r\n  public static initializeCallbacks: { (): void }[] = [];\r\n  public static currentWindow: Window | any;\r\n  public static parentWindow: Window | any;\r\n  public static isFramelessWindow: boolean = false;\r\n  public static parentOrigin: string;\r\n  public static frameContext: string;\r\n  public static childWindow: Window;\r\n  public static childOrigin: string;\r\n  public static parentMessageQueue: MessageRequest[] = [];\r\n  public static childMessageQueue: MessageRequest[] = [];\r\n  public static nextMessageId: number = 0;\r\n  public static handlers: {\r\n    [func: string]: Function;\r\n  } = {};\r\n  public static callbacks: {\r\n    [id: number]: Function;\r\n  } = {};\r\n  public static hostClientType: string;\r\n  public static printCapabilityEnabled: boolean = false;\r\n  public static themeChangeHandler: (theme: string) => void;\r\n  public static fullScreenChangeHandler: (isFullScreen: boolean) => void;\r\n  public static backButtonPressHandler: () => boolean;\r\n  public static beforeUnloadHandler: (readyToUnload: () => void) => boolean;\r\n  public static changeSettingsHandler: () => void;\r\n  public static onStartConversationHandler: (conversationResponse: ConversationResponse) => void;\r\n  public static onCloseConversationHandler: (conversationResponse: ConversationResponse) => void;\r\n  public static getLogHandler: () => string;\r\n}\r\n","import { navigateBack } from '../public/publicAPIs';\r\nimport { validOriginRegExp } from './constants';\r\nimport { GlobalVars } from './globalVars';\r\nimport { MessageResponse, MessageRequest, ExtendedWindow, MessageEvent } from './interfaces';\r\n\r\n// ::::::::::::::::::::MicrosoftTeams SDK Internal :::::::::::::::::\r\nGlobalVars.handlers['themeChange'] = handleThemeChange;\r\nGlobalVars.handlers['fullScreenChange'] = handleFullScreenChange;\r\nGlobalVars.handlers['backButtonPress'] = handleBackButtonPress;\r\nGlobalVars.handlers['beforeUnload'] = handleBeforeUnload;\r\nGlobalVars.handlers['changeSettings'] = handleChangeSettings;\r\nGlobalVars.handlers['startConversation'] = handleStartConversation;\r\nGlobalVars.handlers['closeConversation'] = handleCloseConversation;\r\n\r\nfunction handleStartConversation(\r\n  subEntityId: string,\r\n  conversationId: string,\r\n  channelId: string,\r\n  entityId: string,\r\n): void {\r\n  if (GlobalVars.onStartConversationHandler) {\r\n    GlobalVars.onStartConversationHandler({\r\n      subEntityId: subEntityId,\r\n      conversationId: conversationId,\r\n      channelId: channelId,\r\n      entityId: entityId,\r\n    });\r\n  }\r\n}\r\n\r\nfunction handleCloseConversation(\r\n  subEntityId: string,\r\n  conversationId?: string,\r\n  channelId?: string,\r\n  entityId?: string,\r\n): void {\r\n  if (GlobalVars.onCloseConversationHandler) {\r\n    GlobalVars.onCloseConversationHandler({\r\n      subEntityId: subEntityId,\r\n      conversationId: conversationId,\r\n      channelId: channelId,\r\n      entityId: entityId,\r\n    });\r\n  }\r\n}\r\n\r\nfunction handleThemeChange(theme: string): void {\r\n  if (GlobalVars.themeChangeHandler) {\r\n    GlobalVars.themeChangeHandler(theme);\r\n  }\r\n\r\n  if (GlobalVars.childWindow) {\r\n    sendMessageRequest(GlobalVars.childWindow, 'themeChange', [theme]);\r\n  }\r\n}\r\n\r\nfunction handleFullScreenChange(isFullScreen: boolean): void {\r\n  if (GlobalVars.fullScreenChangeHandler) {\r\n    GlobalVars.fullScreenChangeHandler(isFullScreen);\r\n  }\r\n}\r\n\r\nfunction handleBackButtonPress(): void {\r\n  if (!GlobalVars.backButtonPressHandler || !GlobalVars.backButtonPressHandler()) {\r\n    navigateBack();\r\n  }\r\n}\r\n\r\nfunction handleBeforeUnload(): void {\r\n  const readyToUnload = (): void => {\r\n    sendMessageRequest(GlobalVars.parentWindow, 'readyToUnload', []);\r\n  };\r\n\r\n  if (!GlobalVars.beforeUnloadHandler || !GlobalVars.beforeUnloadHandler(readyToUnload)) {\r\n    readyToUnload();\r\n  }\r\n}\r\n\r\nfunction handleChangeSettings(): void {\r\n  if (GlobalVars.changeSettingsHandler) {\r\n    GlobalVars.changeSettingsHandler();\r\n  }\r\n}\r\n\r\nexport function ensureInitialized(...expectedFrameContexts: string[]): void {\r\n  if (!GlobalVars.initializeCalled) {\r\n    throw new Error('The library has not yet been initialized');\r\n  }\r\n\r\n  if (GlobalVars.frameContext && expectedFrameContexts && expectedFrameContexts.length > 0) {\r\n    let found = false;\r\n    for (let i = 0; i < expectedFrameContexts.length; i++) {\r\n      if (expectedFrameContexts[i] === GlobalVars.frameContext) {\r\n        found = true;\r\n        break;\r\n      }\r\n    }\r\n\r\n    if (!found) {\r\n      throw new Error(\"This call is not allowed in the '\" + GlobalVars.frameContext + \"' context\");\r\n    }\r\n  }\r\n}\r\n\r\nexport function processMessage(evt: MessageEvent): void {\r\n  // Process only if we received a valid message\r\n  if (!evt || !evt.data || typeof evt.data !== 'object') {\r\n    return;\r\n  }\r\n\r\n  // Process only if the message is coming from a different window and a valid origin\r\n  const messageSource = evt.source || evt.originalEvent.source;\r\n  const messageOrigin = evt.origin || evt.originalEvent.origin;\r\n  if (\r\n    messageSource === GlobalVars.currentWindow ||\r\n    (messageOrigin !== GlobalVars.currentWindow.location.origin && !validOriginRegExp.test(messageOrigin.toLowerCase()))\r\n  ) {\r\n    return;\r\n  }\r\n\r\n  // Update our parent and child relationships based on this message\r\n  updateRelationships(messageSource, messageOrigin);\r\n\r\n  // Handle the message\r\n  if (messageSource === GlobalVars.parentWindow) {\r\n    handleParentMessage(evt);\r\n  } else if (messageSource === GlobalVars.childWindow) {\r\n    handleChildMessage(evt);\r\n  }\r\n}\r\n\r\nfunction updateRelationships(messageSource: Window, messageOrigin: string): void {\r\n  // Determine whether the source of the message is our parent or child and update our\r\n  // window and origin pointer accordingly\r\n  if (!GlobalVars.parentWindow || messageSource === GlobalVars.parentWindow) {\r\n    GlobalVars.parentWindow = messageSource;\r\n    GlobalVars.parentOrigin = messageOrigin;\r\n  } else if (!GlobalVars.childWindow || messageSource === GlobalVars.childWindow) {\r\n    GlobalVars.childWindow = messageSource;\r\n    GlobalVars.childOrigin = messageOrigin;\r\n  }\r\n\r\n  // Clean up pointers to closed parent and child windows\r\n  if (GlobalVars.parentWindow && GlobalVars.parentWindow.closed) {\r\n    GlobalVars.parentWindow = null;\r\n    GlobalVars.parentOrigin = null;\r\n  }\r\n  if (GlobalVars.childWindow && GlobalVars.childWindow.closed) {\r\n    GlobalVars.childWindow = null;\r\n    GlobalVars.childOrigin = null;\r\n  }\r\n\r\n  // If we have any messages in our queue, send them now\r\n  flushMessageQueue(GlobalVars.parentWindow);\r\n  flushMessageQueue(GlobalVars.childWindow);\r\n}\r\n\r\nexport function handleParentMessage(evt: MessageEvent): void {\r\n  if ('id' in evt.data) {\r\n    // Call any associated GlobalVars.callbacks\r\n    const message = evt.data as MessageResponse;\r\n    const callback = GlobalVars.callbacks[message.id];\r\n    if (callback) {\r\n      callback.apply(null, message.args);\r\n\r\n      // Remove the callback to ensure that the callback is called only once and to free up memory.\r\n      delete GlobalVars.callbacks[message.id];\r\n    }\r\n  } else if ('func' in evt.data) {\r\n    // Delegate the request to the proper handler\r\n    const message = evt.data as MessageRequest;\r\n    const handler = GlobalVars.handlers[message.func];\r\n    if (handler) {\r\n      // We don't expect any handler to respond at this point\r\n      handler.apply(this, message.args);\r\n    }\r\n  }\r\n}\r\n\r\nfunction handleChildMessage(evt: MessageEvent): void {\r\n  if ('id' in evt.data && 'func' in evt.data) {\r\n    // Try to delegate the request to the proper handler\r\n    const message = evt.data as MessageRequest;\r\n    const handler = GlobalVars.handlers[message.func];\r\n    if (handler) {\r\n      const result = handler.apply(this, message.args);\r\n      if (result) {\r\n        sendMessageResponse(GlobalVars.childWindow, message.id, Array.isArray(result) ? result : [result]);\r\n      }\r\n    } else {\r\n      // Proxy to parent\r\n      const messageId = sendMessageRequest(GlobalVars.parentWindow, message.func, message.args);\r\n\r\n      // tslint:disable-next-line:no-any\r\n      GlobalVars.callbacks[messageId] = (...args: any[]): void => {\r\n        if (GlobalVars.childWindow) {\r\n          sendMessageResponse(GlobalVars.childWindow, message.id, args);\r\n        }\r\n      };\r\n    }\r\n  }\r\n}\r\n\r\nfunction getTargetMessageQueue(targetWindow: Window): MessageRequest[] {\r\n  return targetWindow === GlobalVars.parentWindow\r\n    ? GlobalVars.parentMessageQueue\r\n    : targetWindow === GlobalVars.childWindow\r\n    ? GlobalVars.childMessageQueue\r\n    : [];\r\n}\r\n\r\nfunction getTargetOrigin(targetWindow: Window): string {\r\n  return targetWindow === GlobalVars.parentWindow\r\n    ? GlobalVars.parentOrigin\r\n    : targetWindow === GlobalVars.childWindow\r\n    ? GlobalVars.childOrigin\r\n    : null;\r\n}\r\n\r\nfunction flushMessageQueue(targetWindow: Window | any): void {\r\n  const targetOrigin = getTargetOrigin(targetWindow);\r\n  const targetMessageQueue = getTargetMessageQueue(targetWindow);\r\n  while (targetWindow && targetOrigin && targetMessageQueue.length > 0) {\r\n    targetWindow.postMessage(targetMessageQueue.shift(), targetOrigin);\r\n  }\r\n}\r\n\r\nexport function waitForMessageQueue(targetWindow: Window, callback: () => void): void {\r\n  const messageQueueMonitor = GlobalVars.currentWindow.setInterval(() => {\r\n    if (getTargetMessageQueue(targetWindow).length === 0) {\r\n      clearInterval(messageQueueMonitor);\r\n      callback();\r\n    }\r\n  }, 100);\r\n}\r\n\r\nexport function sendMessageRequest(\r\n  targetWindow: Window | any,\r\n  actionName: string,\r\n  // tslint:disable-next-line: no-any\r\n  args?: any[],\r\n): number {\r\n  const request = createMessageRequest(actionName, args);\r\n  if (GlobalVars.isFramelessWindow) {\r\n    if (GlobalVars.currentWindow && GlobalVars.currentWindow.nativeInterface) {\r\n      (GlobalVars.currentWindow as ExtendedWindow).nativeInterface.framelessPostMessage(JSON.stringify(request));\r\n    }\r\n  } else {\r\n    const targetOrigin = getTargetOrigin(targetWindow);\r\n\r\n    // If the target window isn't closed and we already know its origin, send the message right away; otherwise,\r\n    // queue the message and send it after the origin is established\r\n    if (targetWindow && targetOrigin) {\r\n      targetWindow.postMessage(request, targetOrigin);\r\n    } else {\r\n      getTargetMessageQueue(targetWindow).push(request);\r\n    }\r\n  }\r\n  return request.id;\r\n}\r\n\r\nfunction sendMessageResponse(\r\n  targetWindow: Window | any,\r\n  id: number,\r\n  // tslint:disable-next-line:no-any\r\n  args?: any[],\r\n): void {\r\n  const response = createMessageResponse(id, args);\r\n  const targetOrigin = getTargetOrigin(targetWindow);\r\n  if (targetWindow && targetOrigin) {\r\n    targetWindow.postMessage(response, targetOrigin);\r\n  }\r\n}\r\n\r\n// tslint:disable-next-line:no-any\r\nfunction createMessageRequest(func: string, args: any[]): MessageRequest {\r\n  return {\r\n    id: GlobalVars.nextMessageId++,\r\n    func: func,\r\n    args: args || [],\r\n  };\r\n}\r\n\r\n// tslint:disable-next-line:no-any\r\nfunction createMessageResponse(id: number, args: any[]): MessageResponse {\r\n  return {\r\n    id: id,\r\n    args: args || [],\r\n  };\r\n}\r\n","import { generateRegExpFromUrls } from './utils';\r\n\r\nexport const version = '1.5.0';\r\n\r\nexport const validOrigins = [\r\n  'https://teams.microsoft.com',\r\n  'https://teams.microsoft.us',\r\n  'https://gov.teams.microsoft.us',\r\n  'https://dod.teams.microsoft.us',\r\n  'https://int.teams.microsoft.com',\r\n  'https://devspaces.skype.com',\r\n  'https://ssauth.skype.com',\r\n  'http://dev.local', // local development\r\n  'http://dev.local:8080', // local development\r\n  'https://msft.spoppe.com',\r\n  'https://*.sharepoint.com',\r\n  'https://*.sharepoint-df.com',\r\n  'https://*.sharepointonline.com',\r\n  'https://outlook.office.com',\r\n  'https://outlook-sdf.office.com',\r\n];\r\n\r\n// Ensure these declarations stay in sync with the framework.\r\nexport const frameContexts = {\r\n  settings: 'settings',\r\n  content: 'content',\r\n  authentication: 'authentication',\r\n  remove: 'remove',\r\n  task: 'task',\r\n};\r\n\r\nexport const validOriginRegExp = generateRegExpFromUrls(validOrigins);\r\n","// This will return a reg expression a given url\r\nfunction generateRegExpFromUrl(url: string): string {\r\n  let urlRegExpPart = '^';\r\n  const urlParts = url.split('.');\r\n  for (let j = 0; j < urlParts.length; j++) {\r\n    urlRegExpPart += (j > 0 ? '[.]' : '') + urlParts[j].replace('*', '[^/^.]+');\r\n  }\r\n  urlRegExpPart += '$';\r\n  return urlRegExpPart;\r\n}\r\n\r\n// This will return a reg expression for list of url\r\nexport function generateRegExpFromUrls(urls: string[]): RegExp {\r\n  let urlRegExp = '';\r\n  for (let i = 0; i < urls.length; i++) {\r\n    urlRegExp += (i === 0 ? '' : '|') + generateRegExpFromUrl(urls[i]);\r\n  }\r\n  return new RegExp(urlRegExp);\r\n}\r\n\r\nexport function getGenericOnCompleteHandler(errorMessage?: string): (success: boolean, reason?: string) => void {\r\n  return (success: boolean, reason: string): void => {\r\n    if (!success) {\r\n      throw new Error(errorMessage ? errorMessage : reason);\r\n    }\r\n  };\r\n}\r\n","import { processMessage, ensureInitialized, sendMessageRequest, handleParentMessage } from '../internal/internalAPIs';\r\nimport { GlobalVars } from '../internal/globalVars';\r\nimport { version, frameContexts } from '../internal/constants';\r\nimport { ExtendedWindow, MessageEvent } from '../internal/interfaces';\r\nimport { settings } from './settings';\r\nimport { TabInformation, TabInstanceParameters, TabInstance, DeepLinkParameters, Context } from './interfaces';\r\nimport { getGenericOnCompleteHandler } from '../internal/utils';\r\nimport { logs } from '../private/logs';\r\n\r\n// ::::::::::::::::::::::: MicrosoftTeams SDK public API ::::::::::::::::::::\r\n/**\r\n * Initializes the library. This must be called before any other SDK calls\r\n * but after the frame is loaded successfully.\r\n */\r\nexport function initialize(callback?: () => void): void {\r\n  // Independent components might not know whether the SDK is initialized so might call it to be safe.\r\n  // Just no-op if that happens to make it easier to use.\r\n  if (!GlobalVars.initializeCalled) {\r\n    GlobalVars.initializeCalled = true;\r\n\r\n    // Listen for messages post to our window\r\n    const messageListener = (evt: MessageEvent): void => processMessage(evt);\r\n\r\n    // If we are in an iframe, our parent window is the one hosting us (i.e., window.parent); otherwise,\r\n    // it's the window that opened us (i.e., window.opener)\r\n    GlobalVars.currentWindow = GlobalVars.currentWindow || window;\r\n    GlobalVars.parentWindow =\r\n      GlobalVars.currentWindow.parent !== GlobalVars.currentWindow.self\r\n        ? GlobalVars.currentWindow.parent\r\n        : GlobalVars.currentWindow.opener;\r\n\r\n    if (!GlobalVars.parentWindow) {\r\n      GlobalVars.isFramelessWindow = true;\r\n      (window as ExtendedWindow).onNativeMessage = handleParentMessage;\r\n    } else {\r\n      // For iFrame scenario, add listener to listen 'message'\r\n      GlobalVars.currentWindow.addEventListener('message', messageListener, false);\r\n    }\r\n\r\n    try {\r\n      // Send the initialized message to any origin, because at this point we most likely don't know the origin\r\n      // of the parent window, and this message contains no data that could pose a security risk.\r\n      GlobalVars.parentOrigin = '*';\r\n      const messageId = sendMessageRequest(GlobalVars.parentWindow, 'initialize', [version]);\r\n      GlobalVars.callbacks[messageId] = (context: string, clientType: string) => {\r\n        GlobalVars.frameContext = context;\r\n        GlobalVars.hostClientType = clientType;\r\n\r\n        // Notify all waiting callers that the initialization has completed\r\n        GlobalVars.initializeCallbacks.forEach(initCallback => initCallback());\r\n        GlobalVars.initializeCallbacks = [];\r\n        GlobalVars.initializeCompleted = true;\r\n      };\r\n    } finally {\r\n      GlobalVars.parentOrigin = null;\r\n    }\r\n\r\n    // Undocumented function used to clear state between unit tests\r\n    this._uninitialize = () => {\r\n      if (GlobalVars.frameContext) {\r\n        registerOnThemeChangeHandler(null);\r\n        registerFullScreenHandler(null);\r\n        registerBackButtonHandler(null);\r\n        registerBeforeUnloadHandler(null);\r\n        logs.registerGetLogHandler(null);\r\n      }\r\n\r\n      if (GlobalVars.frameContext === frameContexts.settings) {\r\n        settings.registerOnSaveHandler(null);\r\n      }\r\n\r\n      if (GlobalVars.frameContext === frameContexts.remove) {\r\n        settings.registerOnRemoveHandler(null);\r\n      }\r\n\r\n      if (!GlobalVars.isFramelessWindow) {\r\n        GlobalVars.currentWindow.removeEventListener('message', messageListener, false);\r\n      }\r\n\r\n      GlobalVars.initializeCalled = false;\r\n      GlobalVars.initializeCompleted = false;\r\n      GlobalVars.initializeCallbacks = [];\r\n      GlobalVars.parentWindow = null;\r\n      GlobalVars.parentOrigin = null;\r\n      GlobalVars.parentMessageQueue = [];\r\n      GlobalVars.childWindow = null;\r\n      GlobalVars.childOrigin = null;\r\n      GlobalVars.childMessageQueue = [];\r\n      GlobalVars.nextMessageId = 0;\r\n      GlobalVars.callbacks = {};\r\n      GlobalVars.frameContext = null;\r\n      GlobalVars.hostClientType = null;\r\n      GlobalVars.isFramelessWindow = false;\r\n    };\r\n  }\r\n\r\n  // Handle the callback if specified:\r\n  // 1. If initialization has already completed then just call it right away\r\n  // 2. If initialization hasn't completed then add it to the array of callbacks\r\n  //    that should be invoked once initialization does complete\r\n  if (callback) {\r\n    GlobalVars.initializeCompleted ? callback() : GlobalVars.initializeCallbacks.push(callback);\r\n  }\r\n}\r\n\r\n/**\r\n * @private\r\n * Hide from docs.\r\n * ------\r\n * Undocumented function used to set a mock window for unit tests\r\n */\r\nexport function _initialize(hostWindow: any): void {\r\n  GlobalVars.currentWindow = hostWindow;\r\n}\r\n\r\n/**\r\n * @private\r\n * Hide from docs.\r\n * ------\r\n * Undocumented function used to clear state between unit tests\r\n */\r\nexport function _uninitialize(): void {}\r\n\r\n/**\r\n * Enable print capability to support printing page using Ctrl+P and cmd+P\r\n */\r\nexport function enablePrintCapability(): void {\r\n  if (!GlobalVars.printCapabilityEnabled) {\r\n    GlobalVars.printCapabilityEnabled = true;\r\n    ensureInitialized();\r\n    // adding ctrl+P and cmd+P handler\r\n    document.addEventListener('keydown', (event: KeyboardEvent) => {\r\n      if ((event.ctrlKey || event.metaKey) && event.keyCode === 80) {\r\n        print();\r\n        event.cancelBubble = true;\r\n        event.preventDefault();\r\n        event.stopImmediatePropagation();\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\n/**\r\n * default print handler\r\n */\r\nexport function print(): void {\r\n  window.print();\r\n}\r\n\r\n/**\r\n * Retrieves the current context the frame is running in.\r\n * @param callback The callback to invoke when the {@link Context} object is retrieved.\r\n */\r\nexport function getContext(callback: (context: Context) => void): void {\r\n  ensureInitialized();\r\n\r\n  const messageId = sendMessageRequest(GlobalVars.parentWindow, 'getContext');\r\n  GlobalVars.callbacks[messageId] = callback;\r\n}\r\n\r\n/**\r\n * Registers a handler for theme changes.\r\n * Only one handler can be registered at a time. A subsequent registration replaces an existing registration.\r\n * @param handler The handler to invoke when the user changes their theme.\r\n */\r\nexport function registerOnThemeChangeHandler(handler: (theme: string) => void): void {\r\n  ensureInitialized();\r\n  GlobalVars.themeChangeHandler = handler;\r\n  handler && sendMessageRequest(GlobalVars.parentWindow, 'registerHandler', ['themeChange']);\r\n}\r\n\r\n/**\r\n * Registers a handler for changes from or to full-screen view for a tab.\r\n * Only one handler can be registered at a time. A subsequent registration replaces an existing registration.\r\n * @param handler The handler to invoke when the user toggles full-screen view for a tab.\r\n */\r\nexport function registerFullScreenHandler(handler: (isFullScreen: boolean) => void): void {\r\n  ensureInitialized();\r\n\r\n  GlobalVars.fullScreenChangeHandler = handler;\r\n  handler && sendMessageRequest(GlobalVars.parentWindow, 'registerHandler', ['fullScreen']);\r\n}\r\n\r\n/**\r\n * Registers a handler for user presses of the Team client's back button. Experiences that maintain an internal\r\n * navigation stack should use this handler to navigate the user back within their frame. If an app finds\r\n * that after running its back button handler it cannot handle the event it should call the navigateBack\r\n * method to ask the Teams client to handle it instead.\r\n * @param handler The handler to invoke when the user presses their Team client's back button.\r\n */\r\nexport function registerBackButtonHandler(handler: () => boolean): void {\r\n  ensureInitialized();\r\n\r\n  GlobalVars.backButtonPressHandler = handler;\r\n  handler && sendMessageRequest(GlobalVars.parentWindow, 'registerHandler', ['backButton']);\r\n}\r\n\r\n/**\r\n * Navigates back in the Teams client. See registerBackButtonHandler for more information on when\r\n * it's appropriate to use this method.\r\n */\r\nexport function navigateBack(onComplete?: (status: boolean, reason?: string) => void): void {\r\n  ensureInitialized();\r\n\r\n  const messageId = sendMessageRequest(GlobalVars.parentWindow, 'navigateBack', []);\r\n  const errorMessage = 'Back navigation is not supported in the current client or context.';\r\n  GlobalVars.callbacks[messageId] = onComplete ? onComplete : getGenericOnCompleteHandler(errorMessage);\r\n}\r\n\r\n/**\r\n * @private\r\n * Registers a handler to be called before the page is unloaded.\r\n * @param handler The handler to invoke before the page is unloaded. If this handler returns true the page should\r\n * invoke the readyToUnload function provided to it once it's ready to be unloaded.\r\n */\r\nexport function registerBeforeUnloadHandler(handler: (readyToUnload: () => void) => boolean): void {\r\n  ensureInitialized();\r\n\r\n  GlobalVars.beforeUnloadHandler = handler;\r\n  handler && sendMessageRequest(GlobalVars.parentWindow, 'registerHandler', ['beforeUnload']);\r\n}\r\n\r\n/**\r\n * Registers a handler for when the user reconfigurated tab\r\n * @param handler The handler to invoke when the user click on Settings.\r\n */\r\nexport function registerChangeSettingsHandler(handler: () => void): void {\r\n  ensureInitialized(frameContexts.content);\r\n\r\n  GlobalVars.changeSettingsHandler = handler;\r\n  handler && sendMessageRequest(GlobalVars.parentWindow, 'registerHandler', ['changeSettings']);\r\n}\r\n\r\n/**\r\n * Navigates the frame to a new cross-domain URL. The domain of this URL must match at least one of the\r\n * valid domains specified in the validDomains block of the manifest; otherwise, an exception will be\r\n * thrown. This function needs to be used only when navigating the frame to a URL in a different domain\r\n * than the current one in a way that keeps the app informed of the change and allows the SDK to\r\n * continue working.\r\n * @param url The URL to navigate the frame to.\r\n */\r\nexport function navigateCrossDomain(url: string, onComplete?: (status: boolean, reason?: string) => void): void {\r\n  ensureInitialized(frameContexts.content, frameContexts.settings, frameContexts.remove, frameContexts.task);\r\n\r\n  const messageId = sendMessageRequest(GlobalVars.parentWindow, 'navigateCrossDomain', [url]);\r\n  const errorMessage =\r\n    'Cross-origin navigation is only supported for URLs matching the pattern registered in the manifest.';\r\n  GlobalVars.callbacks[messageId] = onComplete ? onComplete : getGenericOnCompleteHandler(errorMessage);\r\n}\r\n\r\n/**\r\n * Allows an app to retrieve for this user tabs that are owned by this app.\r\n * If no TabInstanceParameters are passed, the app defaults to favorite teams and favorite channels.\r\n * @param callback The callback to invoke when the {@link TabInstanceParameters} object is retrieved.\r\n * @param tabInstanceParameters OPTIONAL Flags that specify whether to scope call to favorite teams or channels.\r\n */\r\nexport function getTabInstances(\r\n  callback: (tabInfo: TabInformation) => void,\r\n  tabInstanceParameters?: TabInstanceParameters,\r\n): void {\r\n  ensureInitialized();\r\n\r\n  const messageId = sendMessageRequest(GlobalVars.parentWindow, 'getTabInstances', [tabInstanceParameters]);\r\n  GlobalVars.callbacks[messageId] = callback;\r\n}\r\n\r\n/**\r\n * Allows an app to retrieve the most recently used tabs for this user.\r\n * @param callback The callback to invoke when the {@link TabInformation} object is retrieved.\r\n * @param tabInstanceParameters OPTIONAL Ignored, kept for future use\r\n */\r\nexport function getMruTabInstances(\r\n  callback: (tabInfo: TabInformation) => void,\r\n  tabInstanceParameters?: TabInstanceParameters,\r\n): void {\r\n  ensureInitialized();\r\n\r\n  const messageId = sendMessageRequest(GlobalVars.parentWindow, 'getMruTabInstances', [tabInstanceParameters]);\r\n  GlobalVars.callbacks[messageId] = callback;\r\n}\r\n\r\n/**\r\n * Shares a deep link that a user can use to navigate back to a specific state in this page.\r\n * @param deepLinkParameters ID and label for the link and fallback URL.\r\n */\r\nexport function shareDeepLink(deepLinkParameters: DeepLinkParameters): void {\r\n  ensureInitialized(frameContexts.content);\r\n\r\n  sendMessageRequest(GlobalVars.parentWindow, 'shareDeepLink', [\r\n    deepLinkParameters.subEntityId,\r\n    deepLinkParameters.subEntityLabel,\r\n    deepLinkParameters.subEntityWebUrl,\r\n  ]);\r\n}\r\n\r\n/**\r\n * execute deep link API.\r\n * @param deepLink deep link.\r\n */\r\nexport function executeDeepLink(deepLink: string, onComplete?: (status: boolean, reason?: string) => void): void {\r\n  ensureInitialized(frameContexts.content, frameContexts.task);\r\n  const messageId = sendMessageRequest(GlobalVars.parentWindow, 'executeDeepLink', [deepLink]);\r\n  GlobalVars.callbacks[messageId] = onComplete ? onComplete : getGenericOnCompleteHandler();\r\n}\r\n\r\n/**\r\n * Navigates the Microsoft Teams app to the specified tab instance.\r\n * @param tabInstance The tab instance to navigate to.\r\n */\r\nexport function navigateToTab(tabInstance: TabInstance, onComplete?: (status: boolean, reason?: string) => void): void {\r\n  ensureInitialized();\r\n\r\n  const messageId = sendMessageRequest(GlobalVars.parentWindow, 'navigateToTab', [tabInstance]);\r\n\r\n  const errorMessage = 'Invalid internalTabInstanceId and/or channelId were/was provided';\r\n  GlobalVars.callbacks[messageId] = onComplete ? onComplete : getGenericOnCompleteHandler(errorMessage);\r\n}\r\n","import { ensureInitialized, sendMessageRequest } from '../internal/internalAPIs';\r\nimport { GlobalVars } from '../internal/globalVars';\r\nimport { frameContexts } from '../internal/constants';\r\nimport { getGenericOnCompleteHandler } from '../internal/utils';\r\n\r\n/**\r\n * Namespace to interact with the settings-specific part of the SDK.\r\n * This object is usable only on the settings frame.\r\n */\r\nexport namespace settings {\r\n  let saveHandler: (evt: SaveEvent) => void;\r\n  let removeHandler: (evt: RemoveEvent) => void;\r\n  GlobalVars.handlers['settings.save'] = handleSave;\r\n  GlobalVars.handlers['settings.remove'] = handleRemove;\r\n\r\n  /**\r\n   * Sets the validity state for the settings.\r\n   * The initial value is false, so the user cannot save the settings until this is called with true.\r\n   * @param validityState Indicates whether the save or remove button is enabled for the user.\r\n   */\r\n  export function setValidityState(validityState: boolean): void {\r\n    ensureInitialized(frameContexts.settings, frameContexts.remove);\r\n    sendMessageRequest(GlobalVars.parentWindow, 'settings.setValidityState', [validityState]);\r\n  }\r\n\r\n  /**\r\n   * Gets the settings for the current instance.\r\n   * @param callback The callback to invoke when the {@link Settings} object is retrieved.\r\n   */\r\n  export function getSettings(callback: (instanceSettings: Settings) => void): void {\r\n    ensureInitialized(frameContexts.content, frameContexts.settings, frameContexts.remove);\r\n    const messageId = sendMessageRequest(GlobalVars.parentWindow, 'settings.getSettings');\r\n    GlobalVars.callbacks[messageId] = callback;\r\n  }\r\n\r\n  /**\r\n   * Sets the settings for the current instance.\r\n   * This is an asynchronous operation; calls to getSettings are not guaranteed to reflect the changed state.\r\n   * @param settings The desired settings for this instance.\r\n   */\r\n  export function setSettings(\r\n    instanceSettings: Settings,\r\n    onComplete?: (status: boolean, reason?: string) => void,\r\n  ): void {\r\n    ensureInitialized(frameContexts.content, frameContexts.settings);\r\n    const messageId = sendMessageRequest(GlobalVars.parentWindow, 'settings.setSettings', [instanceSettings]);\r\n    GlobalVars.callbacks[messageId] = onComplete ? onComplete : getGenericOnCompleteHandler();\r\n  }\r\n\r\n  /**\r\n   * Registers a handler for when the user attempts to save the settings. This handler should be used\r\n   * to create or update the underlying resource powering the content.\r\n   * The object passed to the handler must be used to notify whether to proceed with the save.\r\n   * Only one handler can be registered at a time. A subsequent registration replaces an existing registration.\r\n   * @param handler The handler to invoke when the user selects the save button.\r\n   */\r\n  export function registerOnSaveHandler(handler: (evt: SaveEvent) => void): void {\r\n    ensureInitialized(frameContexts.settings);\r\n    saveHandler = handler;\r\n    handler && sendMessageRequest(GlobalVars.parentWindow, 'registerHandler', ['save']);\r\n  }\r\n\r\n  /**\r\n   * Registers a handler for user attempts to remove content. This handler should be used\r\n   * to remove the underlying resource powering the content.\r\n   * The object passed to the handler must be used to indicate whether to proceed with the removal.\r\n   * Only one handler may be registered at a time. Subsequent registrations will override the first.\r\n   * @param handler The handler to invoke when the user selects the remove button.\r\n   */\r\n  export function registerOnRemoveHandler(handler: (evt: RemoveEvent) => void): void {\r\n    ensureInitialized(frameContexts.remove);\r\n    removeHandler = handler;\r\n    handler && sendMessageRequest(GlobalVars.parentWindow, 'registerHandler', ['remove']);\r\n  }\r\n\r\n  function handleSave(result?: SaveParameters): void {\r\n    const saveEvent = new SaveEventImpl(result);\r\n    if (saveHandler) {\r\n      saveHandler(saveEvent);\r\n    } else {\r\n      // If no handler is registered, we assume success.\r\n      saveEvent.notifySuccess();\r\n    }\r\n  }\r\n\r\n  export interface Settings {\r\n    /**\r\n     * A suggested display name for the new content.\r\n     * In the settings for an existing instance being updated, this call has no effect.\r\n     */\r\n    suggestedDisplayName?: string;\r\n    /**\r\n     * Sets the URL to use for the content of this instance.\r\n     */\r\n    contentUrl: string;\r\n    /**\r\n     * Sets the URL for the removal configuration experience.\r\n     */\r\n    removeUrl?: string;\r\n    /**\r\n     * Sets the URL to use for the external link to view the underlying resource in a browser.\r\n     */\r\n    websiteUrl?: string;\r\n    /**\r\n     * The developer-defined unique ID for the entity to which this content points.\r\n     */\r\n    entityId: string;\r\n  }\r\n\r\n  export interface SaveEvent {\r\n    /**\r\n     * Object containing properties passed as arguments to the settings.save event.\r\n     */\r\n    result: SaveParameters;\r\n    /**\r\n     * Indicates that the underlying resource has been created and the settings can be saved.\r\n     */\r\n    notifySuccess(): void;\r\n    /**\r\n     * Indicates that creation of the underlying resource failed and that the settings cannot be saved.\r\n     * @param reason Specifies a reason for the failure. If provided, this string is displayed to the user; otherwise a generic error is displayed.\r\n     */\r\n    notifyFailure(reason?: string): void;\r\n  }\r\n\r\n  export interface RemoveEvent {\r\n    /**\r\n     * Indicates that the underlying resource has been removed and the content can be removed.\r\n     */\r\n    notifySuccess(): void;\r\n    /**\r\n     * Indicates that removal of the underlying resource failed and that the content cannot be removed.\r\n     * @param reason Specifies a reason for the failure. If provided, this string is displayed to the user; otherwise a generic error is displayed.\r\n     */\r\n    notifyFailure(reason?: string): void;\r\n  }\r\n\r\n  export interface SaveParameters {\r\n    /**\r\n     * Connector's webhook Url returned as arguments to settings.save event as part of user clicking on Save\r\n     */\r\n    webhookUrl?: string;\r\n  }\r\n\r\n  /**\r\n   * @private\r\n   * Hide from docs, since this class is not directly used.\r\n   */\r\n  class SaveEventImpl implements SaveEvent {\r\n    public notified: boolean = false;\r\n    public result: SaveParameters;\r\n    public constructor(result?: SaveParameters) {\r\n      this.result = result ? result : {};\r\n    }\r\n    public notifySuccess(): void {\r\n      this.ensureNotNotified();\r\n      sendMessageRequest(GlobalVars.parentWindow, 'settings.save.success');\r\n      this.notified = true;\r\n    }\r\n    public notifyFailure(reason?: string): void {\r\n      this.ensureNotNotified();\r\n      sendMessageRequest(GlobalVars.parentWindow, 'settings.save.failure', [reason]);\r\n      this.notified = true;\r\n    }\r\n    private ensureNotNotified(): void {\r\n      if (this.notified) {\r\n        throw new Error('The SaveEvent may only notify success or failure once.');\r\n      }\r\n    }\r\n  }\r\n\r\n  function handleRemove(): void {\r\n    const removeEvent = new RemoveEventImpl();\r\n    if (removeHandler) {\r\n      removeHandler(removeEvent);\r\n    } else {\r\n      // If no handler is registered, we assume success.\r\n      removeEvent.notifySuccess();\r\n    }\r\n  }\r\n\r\n  /**\r\n   * @private\r\n   * Hide from docs, since this class is not directly used.\r\n   */\r\n  class RemoveEventImpl implements RemoveEvent {\r\n    public notified: boolean = false;\r\n\r\n    public notifySuccess(): void {\r\n      this.ensureNotNotified();\r\n      sendMessageRequest(GlobalVars.parentWindow, 'settings.remove.success');\r\n      this.notified = true;\r\n    }\r\n\r\n    public notifyFailure(reason?: string): void {\r\n      this.ensureNotNotified();\r\n      sendMessageRequest(GlobalVars.parentWindow, 'settings.remove.failure', [reason]);\r\n      this.notified = true;\r\n    }\r\n\r\n    private ensureNotNotified(): void {\r\n      if (this.notified) {\r\n        throw new Error('The removeEvent may only notify success or failure once.');\r\n      }\r\n    }\r\n  }\r\n}\r\n","import { ensureInitialized, sendMessageRequest } from '../internal/internalAPIs';\r\nimport { GlobalVars } from '../internal/globalVars';\r\n\r\n/**\r\n * Namespace to interact with the logging part of the SDK.\r\n * This object is used to send the app logs on demand to the host client\r\n *\r\n * @private\r\n * Hide from docs\r\n */\r\nexport namespace logs {\r\n  GlobalVars.handlers['log.request'] = handleGetLogRequest;\r\n\r\n  function handleGetLogRequest(): void {\r\n    if (GlobalVars.getLogHandler) {\r\n      const log: string = GlobalVars.getLogHandler();\r\n      sendMessageRequest(GlobalVars.parentWindow, 'log.receive', [log]);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * @private\r\n   * Hide from docs\r\n   * ------\r\n   * Registers a handler for getting app log\r\n   * @param handler The handler to invoke to get the app log\r\n   */\r\n  export function registerGetLogHandler(handler: () => string): void {\r\n    ensureInitialized();\r\n\r\n    GlobalVars.getLogHandler = handler;\r\n    handler && sendMessageRequest(GlobalVars.parentWindow, 'registerHandler', ['log.request']);\r\n  }\r\n}\r\n","import { ensureInitialized, sendMessageRequest } from '../internal/internalAPIs';\r\nimport { GlobalVars } from '../internal/globalVars';\r\nimport { frameContexts } from '../internal/constants';\r\nimport { getGenericOnCompleteHandler } from '../internal/utils';\r\n\r\nexport interface IAppWindow {\r\n  postMessage(message): void;\r\n  addEventListener(type: string, listener: Function): void;\r\n}\r\n\r\nexport class ChildAppWindow implements IAppWindow {\r\n  public postMessage(message: any, onComplete?: (status: boolean, reason?: string) => void): void {\r\n    ensureInitialized();\r\n    const messageId = sendMessageRequest(GlobalVars.parentWindow, 'messageForChild', [message]);\r\n    GlobalVars.callbacks[messageId] = onComplete ? onComplete : getGenericOnCompleteHandler();\r\n  }\r\n\r\n  public addEventListener(type: string, listener: (message: any) => void): void {\r\n    if (type === 'message') {\r\n      GlobalVars.handlers['messageForParent'] = listener;\r\n    }\r\n  }\r\n}\r\n\r\nexport class ParentAppWindow implements IAppWindow {\r\n  private static _instance: ParentAppWindow;\r\n  public static get Instance(): IAppWindow {\r\n    // Do you need arguments? Make it a regular method instead.\r\n    return this._instance || (this._instance = new this());\r\n  }\r\n\r\n  public postMessage(message: any, onComplete?: (status: boolean, reason?: string) => void): void {\r\n    ensureInitialized(frameContexts.task);\r\n    const messageId = sendMessageRequest(GlobalVars.parentWindow, 'messageForParent', [message]);\r\n\r\n    GlobalVars.callbacks[messageId] = onComplete ? onComplete : getGenericOnCompleteHandler();\r\n  }\r\n\r\n  public addEventListener(type: string, listener: (message: any) => void): void {\r\n    if (type === 'message') {\r\n      GlobalVars.handlers['messageForChild'] = listener;\r\n    }\r\n  }\r\n}\r\n","export * from './private/index';\r\nexport * from './public/index';\r\n","export { bot } from './bot';\r\nexport { menus } from './menus';\r\nexport { logs } from './logs';\r\nexport {\r\n  ChatMembersInformation,\r\n  FilePreviewParameters,\r\n  NotificationTypes,\r\n  ShowNotificationParameters,\r\n  TeamInstanceParameters,\r\n  ThreadMember,\r\n  UserJoinedTeamsInformation,\r\n} from './interfaces';\r\nexport {\r\n  enterFullscreen,\r\n  exitFullscreen,\r\n  getChatMembers,\r\n  getConfigSetting,\r\n  getUserJoinedTeams,\r\n  openFilePreview,\r\n  sendCustomMessage,\r\n  showNotification,\r\n  uploadCustomApp,\r\n} from './privateAPIs';\r\nexport { conversations } from './conversations';\r\n","import { GlobalVars } from '../internal/globalVars';\r\nimport { ensureInitialized, sendMessageRequest } from '../internal/internalAPIs';\r\n\r\n/**\r\n * @private\r\n * Namespace to interact with bots using the SDK.\r\n */\r\nexport namespace bot {\r\n  /**\r\n   * @private\r\n   * Hide from docs until release.\r\n   * ------\r\n   * Sends query to bot in order to retrieve data.\r\n   * @param botRequest query to send to bot.\r\n   * @param onSuccess callback to invoke when data is retrieved from bot\r\n   * @param onError callback to invoke should an error occur\r\n   */\r\n  export function sendQuery(\r\n    botRequest: QueryRequest,\r\n    onSuccess?: (data: QueryResponse) => void,\r\n    onError?: (error: string) => void,\r\n  ): void {\r\n    ensureInitialized();\r\n\r\n    const messageId = sendMessageRequest(GlobalVars.parentWindow, 'bot.executeQuery', [botRequest]);\r\n\r\n    GlobalVars.callbacks[messageId] = (success: boolean, response: string | QueryResponse) => {\r\n      if (success) {\r\n        onSuccess(response as QueryResponse);\r\n      } else {\r\n        onError(response as string);\r\n      }\r\n    };\r\n  }\r\n  /**\r\n   * @private\r\n   * Hide from docs until release.\r\n   * -----\r\n   * Retrieves list of support commands from bot\r\n   * @param onSuccess callback to invoke when data is retrieved from bot\r\n   * @param onError callback to invoke should an error occur\r\n   */\r\n  export function getSupportedCommands(\r\n    onSuccess?: (response: Command[]) => void,\r\n    onError?: (error: string) => void,\r\n  ): void {\r\n    ensureInitialized();\r\n\r\n    const messageId = sendMessageRequest(GlobalVars.parentWindow, 'bot.getSupportedCommands');\r\n\r\n    GlobalVars.callbacks[messageId] = (success: boolean, response: string | Command[]) => {\r\n      if (success) {\r\n        onSuccess(response as Command[]);\r\n      } else {\r\n        onError(response as string);\r\n      }\r\n    };\r\n  }\r\n  /**\r\n   * @private\r\n   * Hide from docs until release.\r\n   * -----\r\n   * Authenticates a user for json tab\r\n   * @param authRequest callback to invoke when data is retrieved from bot\r\n   * @param onSuccess callback to invoke when user is authenticated\r\n   * @param onError callback to invoke should an error occur\r\n   */\r\n  export function authenticate(\r\n    authRequest: AuthQueryRequest,\r\n    onSuccess?: (results: Results) => void,\r\n    onError?: (error: string) => void,\r\n  ): void {\r\n    ensureInitialized();\r\n\r\n    const messageId = sendMessageRequest(GlobalVars.parentWindow, 'bot.authenticate', [authRequest]);\r\n\r\n    GlobalVars.callbacks[messageId] = (success: boolean, response: string | Results) => {\r\n      if (success) {\r\n        onSuccess(response as Results);\r\n      } else {\r\n        onError(response as string);\r\n      }\r\n    };\r\n  }\r\n\r\n  export interface QueryRequest {\r\n    /**\r\n     * Query to search for\r\n     */\r\n    query: string;\r\n    commandId?: string;\r\n    option?: {\r\n      skip: number;\r\n      count: number;\r\n    };\r\n  }\r\n\r\n  export interface QueryResponse {\r\n    data: Results | Auth;\r\n    type: ResponseType;\r\n  }\r\n\r\n  export interface Results {\r\n    attachments: Attachment[];\r\n    layout: any;\r\n    botId: string;\r\n  }\r\n\r\n  export interface Auth {\r\n    url: string;\r\n    title: string;\r\n  }\r\n\r\n  export interface AuthQueryRequest extends QueryRequest {\r\n    url: string;\r\n  }\r\n\r\n  export interface Attachment {\r\n    card: any;\r\n    previewCard: any;\r\n    previewRawPayload: any;\r\n    rawPayload: any;\r\n  }\r\n\r\n  export interface Command {\r\n    title: string;\r\n    id: string;\r\n    initialRun: boolean;\r\n  }\r\n\r\n  export enum ResponseType {\r\n    Results = 'Results',\r\n    Auth = 'Auth',\r\n  }\r\n}\r\n","import { ensureInitialized, sendMessageRequest } from '../internal/internalAPIs';\r\nimport { GlobalVars } from '../internal/globalVars';\r\n/**\r\n * Namespace to interact with the menu-specific part of the SDK.\r\n * This object is used to show View Configuration, Action Menu and Navigation Bar Menu.\r\n *\r\n * @private\r\n * Hide from docs until feature is complete\r\n */\r\nexport namespace menus {\r\n  /**\r\n   * Represents information about item in View Configuration.\r\n   */\r\n  export interface ViewConfiguration {\r\n    /**\r\n     * Unique identifier of view.\r\n     */\r\n    id: string;\r\n    /**\r\n     * Display title of the view.\r\n     */\r\n    title: string;\r\n    /**\r\n     * Additional information for accessibility.\r\n     */\r\n    contentDescription?: string;\r\n  }\r\n  /**\r\n   * Represents information about menu item for Action Menu and Navigation Bar Menu.\r\n   */\r\n  export class MenuItem {\r\n    /**\r\n     * Unique identifier for the menu item.\r\n     */\r\n    public id: string;\r\n    /**\r\n     * Display title of the menu item.\r\n     */\r\n    public title: string;\r\n    /**\r\n     * Display icon of the menu item. The icon value must be a string having SVG icon content.\r\n     */\r\n    public icon?: string;\r\n    /**\r\n     * Selected state display icon of the menu item. The icon value must be a string having SVG icon content.\r\n     */\r\n    public iconSelected?: string;\r\n    /**\r\n     * Additional information for accessibility.\r\n     */\r\n    public contentDescription?: string;\r\n    /**\r\n     * State of the menu item\r\n     */\r\n    public enabled: boolean = true;\r\n    /**\r\n     * Interface to show list of items on selection of menu item.\r\n     */\r\n    public viewData: ViewData;\r\n  }\r\n  /**\r\n   * Represents information about view to show on Navigation Bar Menu item selection\r\n   */\r\n  export interface ViewData {\r\n    /**\r\n     * Display header title of the item list.\r\n     */\r\n    listTitle?: string;\r\n    /**\r\n     * Type of the menu item.\r\n     */\r\n    listType: MenuListType;\r\n    /**\r\n     * Array of MenuItem. Icon value will be required for all items in the list.\r\n     */\r\n    listItems: MenuItem[];\r\n  }\r\n  /**\r\n   * Represents information about type of list to display in Navigation Bar Menu.\r\n   */\r\n  export enum MenuListType {\r\n    dropDown = 'dropDown',\r\n    popOver = 'popOver',\r\n  }\r\n  let navBarMenuItemPressHandler: (id: string) => boolean;\r\n  GlobalVars.handlers['navBarMenuItemPress'] = handleNavBarMenuItemPress;\r\n  let actionMenuItemPressHandler: (id: string) => boolean;\r\n  GlobalVars.handlers['actionMenuItemPress'] = handleActionMenuItemPress;\r\n  let viewConfigItemPressHandler: (id: string) => boolean;\r\n  GlobalVars.handlers['setModuleView'] = handleViewConfigItemPress;\r\n  /**\r\n   * Registers list of view configurations and it's handler.\r\n   * Handler is responsible for listening selection of View Configuration.\r\n   * @param viewConfig List of view configurations. Minimum 1 value is required.\r\n   * @param handler The handler to invoke when the user selects view configuration.\r\n   */\r\n  export function setUpViews(viewConfig: ViewConfiguration[], handler: (id: string) => boolean): void {\r\n    ensureInitialized();\r\n    viewConfigItemPressHandler = handler;\r\n    sendMessageRequest(GlobalVars.parentWindow, 'setUpViews', [viewConfig]);\r\n  }\r\n  function handleViewConfigItemPress(id: string): void {\r\n    if (!viewConfigItemPressHandler || !viewConfigItemPressHandler(id)) {\r\n      ensureInitialized();\r\n      sendMessageRequest(GlobalVars.parentWindow, 'viewConfigItemPress', [id]);\r\n    }\r\n  }\r\n  /**\r\n   * Used to set menu items on the Navigation Bar. If icon is available, icon will be shown, otherwise title will be shown.\r\n   * @param items List of MenuItems for Navigation Bar Menu.\r\n   * @param handler The handler to invoke when the user selects menu item.\r\n   */\r\n  export function setNavBarMenu(items: MenuItem[], handler: (id: string) => boolean): void {\r\n    ensureInitialized();\r\n    navBarMenuItemPressHandler = handler;\r\n    sendMessageRequest(GlobalVars.parentWindow, 'setNavBarMenu', [items]);\r\n  }\r\n  function handleNavBarMenuItemPress(id: string): void {\r\n    if (!navBarMenuItemPressHandler || !navBarMenuItemPressHandler(id)) {\r\n      ensureInitialized();\r\n      sendMessageRequest(GlobalVars.parentWindow, 'handleNavBarMenuItemPress', [id]);\r\n    }\r\n  }\r\n  export interface ActionMenuParameters {\r\n    /**\r\n     * Display title for Action Menu\r\n     */\r\n    title: string;\r\n    /**\r\n     * List of MenuItems for Action Menu\r\n     */\r\n    items: MenuItem[];\r\n  }\r\n  /**\r\n   * Used to show Action Menu.\r\n   * @param params Parameters for Menu Parameters\r\n   * @param handler The handler to invoke when the user selects menu item.\r\n   */\r\n  export function showActionMenu(params: ActionMenuParameters, handler: (id: string) => boolean): void {\r\n    ensureInitialized();\r\n    actionMenuItemPressHandler = handler;\r\n    sendMessageRequest(GlobalVars.parentWindow, 'showActionMenu', [params]);\r\n  }\r\n  function handleActionMenuItemPress(id: string): void {\r\n    if (!actionMenuItemPressHandler || !actionMenuItemPressHandler(id)) {\r\n      ensureInitialized();\r\n      sendMessageRequest(GlobalVars.parentWindow, 'handleActionMenuItemPress', [id]);\r\n    }\r\n  }\r\n}\r\n","import { ensureInitialized, sendMessageRequest } from '../internal/internalAPIs';\r\nimport { GlobalVars } from '../internal/globalVars';\r\nimport { frameContexts } from '../internal/constants';\r\nimport {\r\n  ChatMembersInformation,\r\n  ShowNotificationParameters,\r\n  FilePreviewParameters,\r\n  TeamInstanceParameters,\r\n  UserJoinedTeamsInformation,\r\n} from './interfaces';\r\nimport { getGenericOnCompleteHandler } from '../internal/utils';\r\n\r\n/**\r\n * @private\r\n * Hide from docs\r\n * ------\r\n * Allows an app to retrieve information of all user joined teams\r\n * @param callback The callback to invoke when the {@link TeamInstanceParameters} object is retrieved.\r\n * @param teamInstanceParameters OPTIONAL Flags that specify whether to scope call to favorite teams\r\n */\r\nexport function getUserJoinedTeams(\r\n  callback: (userJoinedTeamsInformation: UserJoinedTeamsInformation) => void,\r\n  teamInstanceParameters?: TeamInstanceParameters,\r\n): void {\r\n  ensureInitialized();\r\n\r\n  const messageId = sendMessageRequest(GlobalVars.parentWindow, 'getUserJoinedTeams', [teamInstanceParameters]);\r\n  GlobalVars.callbacks[messageId] = callback;\r\n}\r\n\r\n/**\r\n * @private\r\n * Hide from docs\r\n * ------\r\n * Place the tab into full-screen mode.\r\n */\r\nexport function enterFullscreen(): void {\r\n  ensureInitialized(frameContexts.content);\r\n  sendMessageRequest(GlobalVars.parentWindow, 'enterFullscreen', []);\r\n}\r\n\r\n/**\r\n * @private\r\n * Hide from docs\r\n * ------\r\n * Reverts the tab into normal-screen mode.\r\n */\r\nexport function exitFullscreen(): void {\r\n  ensureInitialized(frameContexts.content);\r\n  sendMessageRequest(GlobalVars.parentWindow, 'exitFullscreen', []);\r\n}\r\n\r\n/**\r\n * @private\r\n * Hide from docs.\r\n * ------\r\n * Opens a client-friendly preview of the specified file.\r\n * @param file The file to preview.\r\n */\r\nexport function openFilePreview(filePreviewParameters: FilePreviewParameters): void {\r\n  ensureInitialized(frameContexts.content);\r\n\r\n  const params = [\r\n    filePreviewParameters.entityId,\r\n    filePreviewParameters.title,\r\n    filePreviewParameters.description,\r\n    filePreviewParameters.type,\r\n    filePreviewParameters.objectUrl,\r\n    filePreviewParameters.downloadUrl,\r\n    filePreviewParameters.webPreviewUrl,\r\n    filePreviewParameters.webEditUrl,\r\n    filePreviewParameters.baseUrl,\r\n    filePreviewParameters.editFile,\r\n    filePreviewParameters.subEntityId,\r\n  ];\r\n\r\n  sendMessageRequest(GlobalVars.parentWindow, 'openFilePreview', params);\r\n}\r\n\r\n/**\r\n * @private\r\n * Hide from docs.\r\n * ------\r\n * display notification API.\r\n * @param message Notification message.\r\n * @param notificationType Notification type\r\n */\r\nexport function showNotification(showNotificationParameters: ShowNotificationParameters): void {\r\n  ensureInitialized(frameContexts.content);\r\n  const params = [showNotificationParameters.message, showNotificationParameters.notificationType];\r\n  sendMessageRequest(GlobalVars.parentWindow, 'showNotification', params);\r\n}\r\n\r\n/**\r\n * @private\r\n * Hide from docs.\r\n * ------\r\n * Upload a custom App manifest directly to both team and personal scopes.\r\n * This method works just for the first party Apps.\r\n */\r\nexport function uploadCustomApp(manifestBlob: Blob, onComplete?: (status: boolean, reason?: string) => void): void {\r\n  ensureInitialized();\r\n\r\n  const messageId = sendMessageRequest(GlobalVars.parentWindow, 'uploadCustomApp', [manifestBlob]);\r\n  GlobalVars.callbacks[messageId] = onComplete ? onComplete : getGenericOnCompleteHandler();\r\n}\r\n\r\n/**\r\n * @private\r\n * Internal use only\r\n * Sends a custom action message to Teams.\r\n * @param actionName Specifies name of the custom action to be sent\r\n * @param args Specifies additional arguments passed to the action\r\n * @returns id of sent message\r\n */\r\nexport function sendCustomMessage(\r\n  actionName: string,\r\n  // tslint:disable-next-line:no-any\r\n  args?: any[],\r\n): number {\r\n  ensureInitialized();\r\n  return sendMessageRequest(GlobalVars.parentWindow, actionName, args);\r\n}\r\n\r\n/**\r\n * @private\r\n * Hide from docs\r\n * ------\r\n * Allows an app to retrieve information of all chat members\r\n * Because a malicious party run your content in a browser, this value should\r\n * be used only as a hint as to who the members are and never as proof of membership.\r\n * @param callback The callback to invoke when the {@link ChatMembersInformation} object is retrieved.\r\n */\r\nexport function getChatMembers(callback: (chatMembersInformation: ChatMembersInformation) => void): void {\r\n  ensureInitialized();\r\n\r\n  const messageId = sendMessageRequest(GlobalVars.parentWindow, 'getChatMembers');\r\n  GlobalVars.callbacks[messageId] = callback;\r\n}\r\n\r\n/**\r\n * @private\r\n * Hide from docs\r\n * ------\r\n * Allows an app to get the configuration setting value\r\n * @param callback The callback to invoke when the value is retrieved.\r\n * @param key The key for the config setting\r\n */\r\nexport function getConfigSetting(callback: (value: string) => void, key: string): void {\r\n  ensureInitialized();\r\n\r\n  const messageId = sendMessageRequest(GlobalVars.parentWindow, 'getConfigSetting', [key]);\r\n  GlobalVars.callbacks[messageId] = callback;\r\n}\r\n","import { ensureInitialized, sendMessageRequest } from '../internal/internalAPIs';\r\nimport { GlobalVars } from '../internal/globalVars';\r\nimport { frameContexts } from '../internal/constants';\r\nimport { OpenConversationRequest } from '../public/interfaces';\r\n\r\n/**\r\n * Namespace to interact with the conversational subEntities inside the tab\r\n */\r\nexport namespace conversations {\r\n  /**\r\n   * @private\r\n   * Hide from docs\r\n   * --------------\r\n   * Allows the user to start or continue a conversation with each subentity inside the tab\r\n   */\r\n  export function openConversation(openConversationRequest: OpenConversationRequest): void {\r\n    ensureInitialized(frameContexts.content);\r\n    const messageId = sendMessageRequest(GlobalVars.parentWindow, 'conversations.openConversation', [\r\n      {\r\n        title: openConversationRequest.title,\r\n        subEntityId: openConversationRequest.subEntityId,\r\n        conversationId: openConversationRequest.conversationId,\r\n        channelId: openConversationRequest.channelId,\r\n        entityId: openConversationRequest.entityId,\r\n      },\r\n    ]);\r\n    GlobalVars.onCloseConversationHandler = openConversationRequest.onCloseConversation;\r\n    GlobalVars.onStartConversationHandler = openConversationRequest.onStartConversation;\r\n    GlobalVars.callbacks[messageId] = (status: boolean, reason: string) => {\r\n      if (!status) {\r\n        throw new Error(reason);\r\n      }\r\n    };\r\n  }\r\n\r\n  /**\r\n   * @private\r\n   * Hide from docs\r\n   * --------------\r\n   * Allows the user to close the conversation in the right pane\r\n   */\r\n  export function closeConversation(): void {\r\n    ensureInitialized(frameContexts.content);\r\n    sendMessageRequest(GlobalVars.parentWindow, 'conversations.closeConversation');\r\n    GlobalVars.onCloseConversationHandler = null;\r\n    GlobalVars.onStartConversationHandler = null;\r\n  }\r\n}\r\n","export { appInitialization } from './appInitialization';\r\nexport { authentication } from './authentication';\r\nexport { HostClientType, TaskModuleDimension, TeamType, UserTeamRole } from './constants';\r\nexport {\r\n  Context,\r\n  DeepLinkParameters,\r\n  TabInformation,\r\n  TabInstance,\r\n  TabInstanceParameters,\r\n  TaskInfo,\r\n  TeamInformation,\r\n} from './interfaces';\r\nexport {\r\n  enablePrintCapability,\r\n  executeDeepLink,\r\n  getContext,\r\n  getMruTabInstances,\r\n  getTabInstances,\r\n  initialize,\r\n  navigateBack,\r\n  navigateCrossDomain,\r\n  navigateToTab,\r\n  print,\r\n  registerBackButtonHandler,\r\n  registerBeforeUnloadHandler,\r\n  registerChangeSettingsHandler,\r\n  registerFullScreenHandler,\r\n  registerOnThemeChangeHandler,\r\n  shareDeepLink,\r\n} from './publicAPIs';\r\nexport { settings } from './settings';\r\nexport { tasks } from './tasks';\r\nexport { ChildAppWindow, IAppWindow, ParentAppWindow } from './appWindow';\r\n","import { ensureInitialized, sendMessageRequest } from '../internal/internalAPIs';\r\nimport { GlobalVars } from '../internal/globalVars';\r\nimport { version } from '../internal/constants';\r\n\r\nexport namespace appInitialization {\r\n  /**\r\n   * To notify app loaded to hide loading indicator\r\n   */\r\n  export function notifyAppLoaded(): void {\r\n    ensureInitialized();\r\n    sendMessageRequest(GlobalVars.parentWindow, 'appInitialization.appLoaded', [version]);\r\n  }\r\n\r\n  /**\r\n   * To notify app Initialization successs and ready for user interaction\r\n   */\r\n  export function notifySuccess(): void {\r\n    ensureInitialized();\r\n    sendMessageRequest(GlobalVars.parentWindow, 'appInitialization.success', [version]);\r\n  }\r\n\r\n  /**\r\n   * To notify app Initialization failed\r\n   */\r\n  export function notifyFailure(appInitializationFailedRequest: appInitialization.IFailedRequest): void {\r\n    ensureInitialized();\r\n    sendMessageRequest(GlobalVars.parentWindow, 'appInitialization.failure', [\r\n      appInitializationFailedRequest.reason,\r\n      appInitializationFailedRequest.message,\r\n    ]);\r\n  }\r\n\r\n  export const enum FailedReason {\r\n    AuthFailed = 'AuthFailed',\r\n    Timeout = 'Timeout',\r\n    Other = 'Other',\r\n  }\r\n\r\n  export interface IFailedRequest {\r\n    reason: appInitialization.FailedReason;\r\n    message?: string;\r\n  }\r\n}\r\n","import { ensureInitialized, sendMessageRequest, waitForMessageQueue } from '../internal/internalAPIs';\r\nimport { GlobalVars } from '../internal/globalVars';\r\nimport { frameContexts } from '../internal/constants';\r\nimport { HostClientType } from './constants';\r\n\r\n/**\r\n * Namespace to interact with the authentication-specific part of the SDK.\r\n * This object is used for starting or completing authentication flows.\r\n */\r\nexport namespace authentication {\r\n  let authParams: AuthenticateParameters;\r\n  let authWindowMonitor: number;\r\n  GlobalVars.handlers['authentication.authenticate.success'] = handleSuccess;\r\n  GlobalVars.handlers['authentication.authenticate.failure'] = handleFailure;\r\n\r\n  /**\r\n   * Registers the authentication GlobalVars.handlers\r\n   * @param authenticateParameters A set of values that configure the authentication pop-up.\r\n   */\r\n  export function registerAuthenticationHandlers(authenticateParameters: AuthenticateParameters): void {\r\n    authParams = authenticateParameters;\r\n  }\r\n\r\n  /**\r\n   * Initiates an authentication request, which opens a new window with the specified settings.\r\n   */\r\n  export function authenticate(authenticateParameters?: AuthenticateParameters): void {\r\n    const authenticateParams = authenticateParameters !== undefined ? authenticateParameters : authParams;\r\n    ensureInitialized(frameContexts.content, frameContexts.settings, frameContexts.remove, frameContexts.task);\r\n    if (\r\n      GlobalVars.hostClientType === HostClientType.desktop ||\r\n      GlobalVars.hostClientType === HostClientType.android ||\r\n      GlobalVars.hostClientType === HostClientType.ios ||\r\n      GlobalVars.hostClientType === HostClientType.rigel\r\n    ) {\r\n      // Convert any relative URLs into absolute URLs before sending them over to the parent window.\r\n      const link = document.createElement('a');\r\n      link.href = authenticateParams.url;\r\n      // Ask the parent window to open an authentication window with the parameters provided by the caller.\r\n      const messageId = sendMessageRequest(GlobalVars.parentWindow, 'authentication.authenticate', [\r\n        link.href,\r\n        authenticateParams.width,\r\n        authenticateParams.height,\r\n      ]);\r\n      GlobalVars.callbacks[messageId] = (success: boolean, response: string) => {\r\n        if (success) {\r\n          authenticateParams.successCallback(response);\r\n        } else {\r\n          authenticateParams.failureCallback(response);\r\n        }\r\n      };\r\n    } else {\r\n      // Open an authentication window with the parameters provided by the caller.\r\n      openAuthenticationWindow(authenticateParams);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * @private\r\n   * Hide from docs.\r\n   * ------\r\n   * Requests an Azure AD token to be issued on behalf of the app. The token is acquired from the cache\r\n   * if it is not expired. Otherwise a request is sent to Azure AD to obtain a new token.\r\n   * @param authTokenRequest A set of values that configure the token request.\r\n   */\r\n  export function getAuthToken(authTokenRequest: AuthTokenRequest): void {\r\n    ensureInitialized();\r\n    const messageId = sendMessageRequest(GlobalVars.parentWindow, 'authentication.getAuthToken', [\r\n      authTokenRequest.resources,\r\n    ]);\r\n    GlobalVars.callbacks[messageId] = (success: boolean, result: string) => {\r\n      if (success) {\r\n        authTokenRequest.successCallback(result);\r\n      } else {\r\n        authTokenRequest.failureCallback(result);\r\n      }\r\n    };\r\n  }\r\n\r\n  /**\r\n   * @private\r\n   * Hide from docs.\r\n   * ------\r\n   * Requests the decoded Azure AD user identity on behalf of the app.\r\n   */\r\n  export function getUser(userRequest: UserRequest): void {\r\n    ensureInitialized();\r\n    const messageId = sendMessageRequest(GlobalVars.parentWindow, 'authentication.getUser');\r\n    GlobalVars.callbacks[messageId] = (success: boolean, result: UserProfile | string) => {\r\n      if (success) {\r\n        userRequest.successCallback(result as UserProfile);\r\n      } else {\r\n        userRequest.failureCallback(result as string);\r\n      }\r\n    };\r\n  }\r\n\r\n  function closeAuthenticationWindow(): void {\r\n    // Stop monitoring the authentication window\r\n    stopAuthenticationWindowMonitor();\r\n    // Try to close the authentication window and clear all properties associated with it\r\n    try {\r\n      if (GlobalVars.childWindow) {\r\n        GlobalVars.childWindow.close();\r\n      }\r\n    } finally {\r\n      GlobalVars.childWindow = null;\r\n      GlobalVars.childOrigin = null;\r\n    }\r\n  }\r\n\r\n  function openAuthenticationWindow(authenticateParameters: AuthenticateParameters): void {\r\n    authParams = authenticateParameters;\r\n    // Close the previously opened window if we have one\r\n    closeAuthenticationWindow();\r\n    // Start with a sensible default size\r\n    let width = authParams.width || 600;\r\n    let height = authParams.height || 400;\r\n    // Ensure that the new window is always smaller than our app's window so that it never fully covers up our app\r\n    width = Math.min(width, GlobalVars.currentWindow.outerWidth - 400);\r\n    height = Math.min(height, GlobalVars.currentWindow.outerHeight - 200);\r\n    // Convert any relative URLs into absolute URLs before sending them over to the parent window\r\n    const link = document.createElement('a');\r\n    link.href = authParams.url;\r\n    // We are running in the browser, so we need to center the new window ourselves\r\n    let left: number =\r\n      typeof GlobalVars.currentWindow.screenLeft !== 'undefined'\r\n        ? GlobalVars.currentWindow.screenLeft\r\n        : GlobalVars.currentWindow.screenX;\r\n    let top: number =\r\n      typeof GlobalVars.currentWindow.screenTop !== 'undefined'\r\n        ? GlobalVars.currentWindow.screenTop\r\n        : GlobalVars.currentWindow.screenY;\r\n    left += GlobalVars.currentWindow.outerWidth / 2 - width / 2;\r\n    top += GlobalVars.currentWindow.outerHeight / 2 - height / 2;\r\n    // Open a child window with a desired set of standard browser features\r\n    GlobalVars.childWindow = GlobalVars.currentWindow.open(\r\n      link.href,\r\n      '_blank',\r\n      'toolbar=no, location=yes, status=no, menubar=no, scrollbars=yes, top=' +\r\n        top +\r\n        ', left=' +\r\n        left +\r\n        ', width=' +\r\n        width +\r\n        ', height=' +\r\n        height,\r\n    );\r\n    if (GlobalVars.childWindow) {\r\n      // Start monitoring the authentication window so that we can detect if it gets closed before the flow completes\r\n      startAuthenticationWindowMonitor();\r\n    } else {\r\n      // If we failed to open the window, fail the authentication flow\r\n      handleFailure('FailedToOpenWindow');\r\n    }\r\n  }\r\n\r\n  function stopAuthenticationWindowMonitor(): void {\r\n    if (authWindowMonitor) {\r\n      clearInterval(authWindowMonitor);\r\n      authWindowMonitor = 0;\r\n    }\r\n    delete GlobalVars.handlers['initialize'];\r\n    delete GlobalVars.handlers['navigateCrossDomain'];\r\n  }\r\n\r\n  function startAuthenticationWindowMonitor(): void {\r\n    // Stop the previous window monitor if one is running\r\n    stopAuthenticationWindowMonitor();\r\n    // Create an interval loop that\r\n    // - Notifies the caller of failure if it detects that the authentication window is closed\r\n    // - Keeps pinging the authentication window while it is open to re-establish\r\n    //   contact with any pages along the authentication flow that need to communicate\r\n    //   with us\r\n    authWindowMonitor = GlobalVars.currentWindow.setInterval(() => {\r\n      if (!GlobalVars.childWindow || GlobalVars.childWindow.closed) {\r\n        handleFailure('CancelledByUser');\r\n      } else {\r\n        const savedChildOrigin = GlobalVars.childOrigin;\r\n        try {\r\n          GlobalVars.childOrigin = '*';\r\n          sendMessageRequest(GlobalVars.childWindow, 'ping');\r\n        } finally {\r\n          GlobalVars.childOrigin = savedChildOrigin;\r\n        }\r\n      }\r\n    }, 100);\r\n    // Set up an initialize-message handler that gives the authentication window its frame context\r\n    GlobalVars.handlers['initialize'] = () => {\r\n      return [frameContexts.authentication, GlobalVars.hostClientType];\r\n    };\r\n    // Set up a navigateCrossDomain message handler that blocks cross-domain re-navigation attempts\r\n    // in the authentication window. We could at some point choose to implement this method via a call to\r\n    // authenticationWindow.location.href = url; however, we would first need to figure out how to\r\n    // validate the URL against the tab's list of valid domains.\r\n    GlobalVars.handlers['navigateCrossDomain'] = () => {\r\n      return false;\r\n    };\r\n  }\r\n\r\n  /**\r\n   * Notifies the frame that initiated this authentication request that the request was successful.\r\n   * This function is usable only on the authentication window.\r\n   * This call causes the authentication window to be closed.\r\n   * @param result Specifies a result for the authentication. If specified, the frame that initiated the authentication pop-up receives this value in its callback.\r\n   * @param callbackUrl Specifies the url to redirect back to if the client is Win32 Outlook.\r\n   */\r\n  export function notifySuccess(result?: string, callbackUrl?: string): void {\r\n    redirectIfWin32Outlook(callbackUrl, 'result', result);\r\n    ensureInitialized(frameContexts.authentication);\r\n    sendMessageRequest(GlobalVars.parentWindow, 'authentication.authenticate.success', [result]);\r\n    // Wait for the message to be sent before closing the window\r\n    waitForMessageQueue(GlobalVars.parentWindow, () => setTimeout(() => GlobalVars.currentWindow.close(), 200));\r\n  }\r\n\r\n  /**\r\n   * Notifies the frame that initiated this authentication request that the request failed.\r\n   * This function is usable only on the authentication window.\r\n   * This call causes the authentication window to be closed.\r\n   * @param result Specifies a result for the authentication. If specified, the frame that initiated the authentication pop-up receives this value in its callback.\r\n   * @param callbackUrl Specifies the url to redirect back to if the client is Win32 Outlook.\r\n   */\r\n  export function notifyFailure(reason?: string, callbackUrl?: string): void {\r\n    redirectIfWin32Outlook(callbackUrl, 'reason', reason);\r\n    ensureInitialized(frameContexts.authentication);\r\n    sendMessageRequest(GlobalVars.parentWindow, 'authentication.authenticate.failure', [reason]);\r\n    // Wait for the message to be sent before closing the window\r\n    waitForMessageQueue(GlobalVars.parentWindow, () => setTimeout(() => GlobalVars.currentWindow.close(), 200));\r\n  }\r\n\r\n  function handleSuccess(result?: string): void {\r\n    try {\r\n      if (authParams && authParams.successCallback) {\r\n        authParams.successCallback(result);\r\n      }\r\n    } finally {\r\n      authParams = null;\r\n      closeAuthenticationWindow();\r\n    }\r\n  }\r\n\r\n  function handleFailure(reason?: string): void {\r\n    try {\r\n      if (authParams && authParams.failureCallback) {\r\n        authParams.failureCallback(reason);\r\n      }\r\n    } finally {\r\n      authParams = null;\r\n      closeAuthenticationWindow();\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Validates that the callbackUrl param is a valid connector url, appends the result/reason and authSuccess/authFailure as URL fragments and redirects the window\r\n   * @param callbackUrl - the connectors url to redirect to\r\n   * @param key - \"result\" in case of success and \"reason\" in case of failure\r\n   * @param value - the value of the passed result/reason parameter\r\n   */\r\n  function redirectIfWin32Outlook(callbackUrl?: string, key?: string, value?: string): void {\r\n    if (callbackUrl) {\r\n      const link = document.createElement('a');\r\n      link.href = decodeURIComponent(callbackUrl);\r\n      if (\r\n        link.host &&\r\n        link.host !== window.location.host &&\r\n        link.host === 'outlook.office.com' &&\r\n        link.search.indexOf('client_type=Win32_Outlook') > -1\r\n      ) {\r\n        if (key && key === 'result') {\r\n          if (value) {\r\n            link.href = updateUrlParameter(link.href, 'result', value);\r\n          }\r\n          GlobalVars.currentWindow.location.assign(updateUrlParameter(link.href, 'authSuccess', ''));\r\n        }\r\n        if (key && key === 'reason') {\r\n          if (value) {\r\n            link.href = updateUrlParameter(link.href, 'reason', value);\r\n          }\r\n          GlobalVars.currentWindow.location.assign(updateUrlParameter(link.href, 'authFailure', ''));\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Appends either result or reason as a fragment to the 'callbackUrl'\r\n   * @param uri - the url to modify\r\n   * @param key - the fragment key\r\n   * @param value - the fragment value\r\n   */\r\n  function updateUrlParameter(uri: string, key: string, value: string): string {\r\n    const i = uri.indexOf('#');\r\n    let hash = i === -1 ? '#' : uri.substr(i);\r\n    hash = hash + '&' + key + (value !== '' ? '=' + value : '');\r\n    uri = i === -1 ? uri : uri.substr(0, i);\r\n    return uri + hash;\r\n  }\r\n\r\n  export interface AuthenticateParameters {\r\n    /**\r\n     * The URL for the authentication pop-up.\r\n     */\r\n    url: string;\r\n    /**\r\n     * The preferred width for the pop-up. This value can be ignored if outside the acceptable bounds.\r\n     */\r\n    width?: number;\r\n    /**\r\n     * The preferred height for the pop-up. This value can be ignored if outside the acceptable bounds.\r\n     */\r\n    height?: number;\r\n    /**\r\n     * A function that is called if the authentication succeeds, with the result returned from the authentication pop-up.\r\n     */\r\n    successCallback?: (result?: string) => void;\r\n    /**\r\n     * A function that is called if the authentication fails, with the reason for the failure returned from the authentication pop-up.\r\n     */\r\n    failureCallback?: (reason?: string) => void;\r\n  }\r\n  /**\r\n   * @private\r\n   * Hide from docs.\r\n   * ------\r\n   */\r\n  export interface AuthTokenRequest {\r\n    /**\r\n     * An array of resource URIs identifying the target resources for which the token should be requested.\r\n     */\r\n    resources: string[];\r\n    /**\r\n     * A function that is called if the token request succeeds, with the resulting token.\r\n     */\r\n    successCallback?: (token: string) => void;\r\n    /**\r\n     * A function that is called if the token request fails, with the reason for the failure.\r\n     */\r\n    failureCallback?: (reason: string) => void;\r\n  }\r\n  /**\r\n   * @private\r\n   * Hide from docs.\r\n   * ------\r\n   */\r\n  export interface UserRequest {\r\n    /**\r\n     * A function that is called if the token request succeeds, with the resulting token.\r\n     */\r\n    successCallback?: (user: UserProfile) => void;\r\n    /**\r\n     * A function that is called if the token request fails, with the reason for the failure.\r\n     */\r\n    failureCallback?: (reason: string) => void;\r\n  }\r\n  /**\r\n   * @private\r\n   * Hide from docs.\r\n   * ------\r\n   */\r\n  export interface UserProfile {\r\n    /**\r\n     * The intended recipient of the token. The application that receives the token must verify that the audience\r\n     * value is correct and reject any tokens intended for a different audience.\r\n     */\r\n    aud: string;\r\n    /**\r\n     * Identifies how the subject of the token was authenticated.\r\n     */\r\n    amr: string[];\r\n    /**\r\n     * Stores the time at which the token was issued. It is often used to measure token freshness.\r\n     */\r\n    iat: number;\r\n    /**\r\n     * Identifies the security token service (STS) that constructs and returns the token. In the tokens that Azure AD\r\n     * returns, the issuer is sts.windows.net. The GUID in the issuer claim value is the tenant ID of the Azure AD\r\n     * directory. The tenant ID is an immutable and reliable identifier of the directory.\r\n     */\r\n    iss: string;\r\n    /**\r\n     * Provides the last name, surname, or family name of the user as defined in the Azure AD user object.\r\n     */\r\n    family_name: string;\r\n    /**\r\n     * Provides the first or \"given\" name of the user, as set on the Azure AD user object.\r\n     */\r\n    given_name: string;\r\n    /**\r\n     * Provides a human-readable value that identifies the subject of the token. This value is not guaranteed to\r\n     * be unique within a tenant and is designed to be used only for display purposes.\r\n     */\r\n    unique_name: string;\r\n    /**\r\n     * Contains a unique identifier of an object in Azure AD. This value is immutable and cannot be reassigned or\r\n     * reused. Use the object ID to identify an object in queries to Azure AD.\r\n     */\r\n    oid: string;\r\n    /**\r\n     * Identifies the principal about which the token asserts information, such as the user of an application.\r\n     * This value is immutable and cannot be reassigned or reused, so it can be used to perform authorization\r\n     * checks safely. Because the subject is always present in the tokens the Azure AD issues, we recommended\r\n     * using this value in a general-purpose authorization system.\r\n     */\r\n    sub: string;\r\n    /**\r\n     * An immutable, non-reusable identifier that identifies the directory tenant that issued the token. You can\r\n     * use this value to access tenant-specific directory resources in a multitenant application. For example,\r\n     * you can use this value to identify the tenant in a call to the Graph API.\r\n     */\r\n    tid: string;\r\n    /**\r\n     * Defines the time interval within which a token is valid. The service that validates the token should verify\r\n     * that the current date is within the token lifetime; otherwise it should reject the token. The service might\r\n     * allow for up to five minutes beyond the token lifetime to account for any differences in clock time (\"time\r\n     * skew\") between Azure AD and the service.\r\n     */\r\n    exp: number;\r\n    nbf: number;\r\n    /**\r\n     * Stores the user name of the user principal.\r\n     */\r\n    upn: string;\r\n    /**\r\n     * Stores the version number of the token.\r\n     */\r\n    ver: string;\r\n  }\r\n}\r\n","import { TaskInfo } from './interfaces';\r\nimport { ensureInitialized, sendMessageRequest } from '../internal/internalAPIs';\r\nimport { GlobalVars } from '../internal/globalVars';\r\nimport { frameContexts } from '../internal/constants';\r\nimport { IAppWindow, ChildAppWindow } from './appWindow';\r\n\r\n/**\r\n * Namespace to interact with the task module-specific part of the SDK.\r\n * This object is usable only on the content frame.\r\n */\r\nexport namespace tasks {\r\n  /**\r\n   * Allows an app to open the task module.\r\n   * @param taskInfo An object containing the parameters of the task module\r\n   * @param submitHandler Handler to call when the task module is completed\r\n   */\r\n  export function startTask(taskInfo: TaskInfo, submitHandler?: (err: string, result: string) => void): IAppWindow {\r\n    ensureInitialized(frameContexts.content);\r\n\r\n    const messageId = sendMessageRequest(GlobalVars.parentWindow, 'tasks.startTask', [taskInfo]);\r\n    GlobalVars.callbacks[messageId] = submitHandler;\r\n    return new ChildAppWindow();\r\n  }\r\n\r\n  /**\r\n   * Update height/width task info properties.\r\n   * @param taskInfo An object containing width and height properties\r\n   */\r\n  export function updateTask(taskInfo: TaskInfo): void {\r\n    ensureInitialized(frameContexts.content, frameContexts.task);\r\n    const { width, height, ...extra } = taskInfo;\r\n\r\n    if (!Object.keys(extra).length) {\r\n      sendMessageRequest(GlobalVars.parentWindow, 'tasks.updateTask', [taskInfo]);\r\n    } else {\r\n      throw new Error('updateTask requires a taskInfo argument containing only width and height');\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Submit the task module.\r\n   * @param result Contains the result to be sent to the bot or the app. Typically a JSON object or a serialized version of it\r\n   * @param appIds Helps to validate that the call originates from the same appId as the one that invoked the task module\r\n   */\r\n  export function submitTask(result?: string | object, appIds?: string | string[]): void {\r\n    ensureInitialized(frameContexts.content, frameContexts.task);\r\n\r\n    // Send tasks.completeTask instead of tasks.submitTask message for backward compatibility with Mobile clients\r\n    sendMessageRequest(GlobalVars.parentWindow, 'tasks.completeTask', [\r\n      result,\r\n      Array.isArray(appIds) ? appIds : [appIds],\r\n    ]);\r\n  }\r\n}\r\n","// false -> Array#indexOf\n// true  -> Array#includes\nvar toIObject = require('./_to-iobject');\nvar toLength = require('./_to-length');\nvar toAbsoluteIndex = require('./_to-absolute-index');\nmodule.exports = function (IS_INCLUDES) {\n  return function ($this, el, fromIndex) {\n    var O = toIObject($this);\n    var length = toLength(O.length);\n    var index = toAbsoluteIndex(fromIndex, length);\n    var value;\n    // Array#includes uses SameValueZero equality algorithm\n    // eslint-disable-next-line no-self-compare\n    if (IS_INCLUDES && el != el) while (length > index) {\n      value = O[index++];\n      // eslint-disable-next-line no-self-compare\n      if (value != value) return true;\n    // Array#indexOf ignores holes, Array#includes - not\n    } else for (;length > index; index++) if (IS_INCLUDES || index in O) {\n      if (O[index] === el) return IS_INCLUDES || index || 0;\n    } return !IS_INCLUDES && -1;\n  };\n};\n","exports.f = Object.getOwnPropertySymbols;\n","// 7.2.2 IsArray(argument)\nvar cof = require('./_cof');\nmodule.exports = Array.isArray || function isArray(arg) {\n  return cof(arg) == 'Array';\n};\n","var toInteger = require('./_to-integer');\nvar defined = require('./_defined');\n// true  -> String#at\n// false -> String#codePointAt\nmodule.exports = function (TO_STRING) {\n  return function (that, pos) {\n    var s = String(defined(that));\n    var i = toInteger(pos);\n    var l = s.length;\n    var a, b;\n    if (i < 0 || i >= l) return TO_STRING ? '' : undefined;\n    a = s.charCodeAt(i);\n    return a < 0xd800 || a > 0xdbff || i + 1 === l || (b = s.charCodeAt(i + 1)) < 0xdc00 || b > 0xdfff\n      ? TO_STRING ? s.charAt(i) : a\n      : TO_STRING ? s.slice(i, i + 2) : (a - 0xd800 << 10) + (b - 0xdc00) + 0x10000;\n  };\n};\n","// 7.2.8 IsRegExp(argument)\nvar isObject = require('./_is-object');\nvar cof = require('./_cof');\nvar MATCH = require('./_wks')('match');\nmodule.exports = function (it) {\n  var isRegExp;\n  return isObject(it) && ((isRegExp = it[MATCH]) !== undefined ? !!isRegExp : cof(it) == 'RegExp');\n};\n","var ITERATOR = require('./_wks')('iterator');\nvar SAFE_CLOSING = false;\n\ntry {\n  var riter = [7][ITERATOR]();\n  riter['return'] = function () { SAFE_CLOSING = true; };\n  // eslint-disable-next-line no-throw-literal\n  Array.from(riter, function () { throw 2; });\n} catch (e) { /* empty */ }\n\nmodule.exports = function (exec, skipClosing) {\n  if (!skipClosing && !SAFE_CLOSING) return false;\n  var safe = false;\n  try {\n    var arr = [7];\n    var iter = arr[ITERATOR]();\n    iter.next = function () { return { done: safe = true }; };\n    arr[ITERATOR] = function () { return iter; };\n    exec(arr);\n  } catch (e) { /* empty */ }\n  return safe;\n};\n","'use strict';\n\nvar classof = require('./_classof');\nvar builtinExec = RegExp.prototype.exec;\n\n // `RegExpExec` abstract operation\n// https://tc39.github.io/ecma262/#sec-regexpexec\nmodule.exports = function (R, S) {\n  var exec = R.exec;\n  if (typeof exec === 'function') {\n    var result = exec.call(R, S);\n    if (typeof result !== 'object') {\n      throw new TypeError('RegExp exec method returned something other than an Object or null');\n    }\n    return result;\n  }\n  if (classof(R) !== 'RegExp') {\n    throw new TypeError('RegExp#exec called on incompatible receiver');\n  }\n  return builtinExec.call(R, S);\n};\n","'use strict';\nrequire('./es6.regexp.exec');\nvar redefine = require('./_redefine');\nvar hide = require('./_hide');\nvar fails = require('./_fails');\nvar defined = require('./_defined');\nvar wks = require('./_wks');\nvar regexpExec = require('./_regexp-exec');\n\nvar SPECIES = wks('species');\n\nvar REPLACE_SUPPORTS_NAMED_GROUPS = !fails(function () {\n  // #replace needs built-in support for named groups.\n  // #match works fine because it just return the exec results, even if it has\n  // a \"grops\" property.\n  var re = /./;\n  re.exec = function () {\n    var result = [];\n    result.groups = { a: '7' };\n    return result;\n  };\n  return ''.replace(re, '$<a>') !== '7';\n});\n\nvar SPLIT_WORKS_WITH_OVERWRITTEN_EXEC = (function () {\n  // Chrome 51 has a buggy \"split\" implementation when RegExp#exec !== nativeExec\n  var re = /(?:)/;\n  var originalExec = re.exec;\n  re.exec = function () { return originalExec.apply(this, arguments); };\n  var result = 'ab'.split(re);\n  return result.length === 2 && result[0] === 'a' && result[1] === 'b';\n})();\n\nmodule.exports = function (KEY, length, exec) {\n  var SYMBOL = wks(KEY);\n\n  var DELEGATES_TO_SYMBOL = !fails(function () {\n    // String methods call symbol-named RegEp methods\n    var O = {};\n    O[SYMBOL] = function () { return 7; };\n    return ''[KEY](O) != 7;\n  });\n\n  var DELEGATES_TO_EXEC = DELEGATES_TO_SYMBOL ? !fails(function () {\n    // Symbol-named RegExp methods call .exec\n    var execCalled = false;\n    var re = /a/;\n    re.exec = function () { execCalled = true; return null; };\n    if (KEY === 'split') {\n      // RegExp[@@split] doesn't call the regex's exec method, but first creates\n      // a new one. We need to return the patched regex when creating the new one.\n      re.constructor = {};\n      re.constructor[SPECIES] = function () { return re; };\n    }\n    re[SYMBOL]('');\n    return !execCalled;\n  }) : undefined;\n\n  if (\n    !DELEGATES_TO_SYMBOL ||\n    !DELEGATES_TO_EXEC ||\n    (KEY === 'replace' && !REPLACE_SUPPORTS_NAMED_GROUPS) ||\n    (KEY === 'split' && !SPLIT_WORKS_WITH_OVERWRITTEN_EXEC)\n  ) {\n    var nativeRegExpMethod = /./[SYMBOL];\n    var fns = exec(\n      defined,\n      SYMBOL,\n      ''[KEY],\n      function maybeCallNative(nativeMethod, regexp, str, arg2, forceStringMethod) {\n        if (regexp.exec === regexpExec) {\n          if (DELEGATES_TO_SYMBOL && !forceStringMethod) {\n            // The native String method already delegates to @@method (this\n            // polyfilled function), leasing to infinite recursion.\n            // We avoid it by directly calling the native @@method method.\n            return { done: true, value: nativeRegExpMethod.call(regexp, str, arg2) };\n          }\n          return { done: true, value: nativeMethod.call(str, regexp, arg2) };\n        }\n        return { done: false };\n      }\n    );\n    var strfn = fns[0];\n    var rxfn = fns[1];\n\n    redefine(String.prototype, KEY, strfn);\n    hide(RegExp.prototype, SYMBOL, length == 2\n      // 21.2.5.8 RegExp.prototype[@@replace](string, replaceValue)\n      // 21.2.5.11 RegExp.prototype[@@split](string, limit)\n      ? function (string, arg) { return rxfn.call(string, this, arg); }\n      // 21.2.5.6 RegExp.prototype[@@match](string)\n      // 21.2.5.9 RegExp.prototype[@@search](string)\n      : function (string) { return rxfn.call(string, this); }\n    );\n  }\n};\n","var global = require('./_global');\nvar navigator = global.navigator;\n\nmodule.exports = navigator && navigator.userAgent || '';\n","'use strict';\nvar global = require('./_global');\nvar $export = require('./_export');\nvar redefine = require('./_redefine');\nvar redefineAll = require('./_redefine-all');\nvar meta = require('./_meta');\nvar forOf = require('./_for-of');\nvar anInstance = require('./_an-instance');\nvar isObject = require('./_is-object');\nvar fails = require('./_fails');\nvar $iterDetect = require('./_iter-detect');\nvar setToStringTag = require('./_set-to-string-tag');\nvar inheritIfRequired = require('./_inherit-if-required');\n\nmodule.exports = function (NAME, wrapper, methods, common, IS_MAP, IS_WEAK) {\n  var Base = global[NAME];\n  var C = Base;\n  var ADDER = IS_MAP ? 'set' : 'add';\n  var proto = C && C.prototype;\n  var O = {};\n  var fixMethod = function (KEY) {\n    var fn = proto[KEY];\n    redefine(proto, KEY,\n      KEY == 'delete' ? function (a) {\n        return IS_WEAK && !isObject(a) ? false : fn.call(this, a === 0 ? 0 : a);\n      } : KEY == 'has' ? function has(a) {\n        return IS_WEAK && !isObject(a) ? false : fn.call(this, a === 0 ? 0 : a);\n      } : KEY == 'get' ? function get(a) {\n        return IS_WEAK && !isObject(a) ? undefined : fn.call(this, a === 0 ? 0 : a);\n      } : KEY == 'add' ? function add(a) { fn.call(this, a === 0 ? 0 : a); return this; }\n        : function set(a, b) { fn.call(this, a === 0 ? 0 : a, b); return this; }\n    );\n  };\n  if (typeof C != 'function' || !(IS_WEAK || proto.forEach && !fails(function () {\n    new C().entries().next();\n  }))) {\n    // create collection constructor\n    C = common.getConstructor(wrapper, NAME, IS_MAP, ADDER);\n    redefineAll(C.prototype, methods);\n    meta.NEED = true;\n  } else {\n    var instance = new C();\n    // early implementations not supports chaining\n    var HASNT_CHAINING = instance[ADDER](IS_WEAK ? {} : -0, 1) != instance;\n    // V8 ~  Chromium 40- weak-collections throws on primitives, but should return false\n    var THROWS_ON_PRIMITIVES = fails(function () { instance.has(1); });\n    // most early implementations doesn't supports iterables, most modern - not close it correctly\n    var ACCEPT_ITERABLES = $iterDetect(function (iter) { new C(iter); }); // eslint-disable-line no-new\n    // for early implementations -0 and +0 not the same\n    var BUGGY_ZERO = !IS_WEAK && fails(function () {\n      // V8 ~ Chromium 42- fails only with 5+ elements\n      var $instance = new C();\n      var index = 5;\n      while (index--) $instance[ADDER](index, index);\n      return !$instance.has(-0);\n    });\n    if (!ACCEPT_ITERABLES) {\n      C = wrapper(function (target, iterable) {\n        anInstance(target, C, NAME);\n        var that = inheritIfRequired(new Base(), target, C);\n        if (iterable != undefined) forOf(iterable, IS_MAP, that[ADDER], that);\n        return that;\n      });\n      C.prototype = proto;\n      proto.constructor = C;\n    }\n    if (THROWS_ON_PRIMITIVES || BUGGY_ZERO) {\n      fixMethod('delete');\n      fixMethod('has');\n      IS_MAP && fixMethod('get');\n    }\n    if (BUGGY_ZERO || HASNT_CHAINING) fixMethod(ADDER);\n    // weak collections should not contains .clear method\n    if (IS_WEAK && proto.clear) delete proto.clear;\n  }\n\n  setToStringTag(C, NAME);\n\n  O[NAME] = C;\n  $export($export.G + $export.W + $export.F * (C != Base), O);\n\n  if (!IS_WEAK) common.setStrong(C, NAME, IS_MAP);\n\n  return C;\n};\n","var global = require('./_global');\nvar hide = require('./_hide');\nvar uid = require('./_uid');\nvar TYPED = uid('typed_array');\nvar VIEW = uid('view');\nvar ABV = !!(global.ArrayBuffer && global.DataView);\nvar CONSTR = ABV;\nvar i = 0;\nvar l = 9;\nvar Typed;\n\nvar TypedArrayConstructors = (\n  'Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array'\n).split(',');\n\nwhile (i < l) {\n  if (Typed = global[TypedArrayConstructors[i++]]) {\n    hide(Typed.prototype, TYPED, true);\n    hide(Typed.prototype, VIEW, true);\n  } else CONSTR = false;\n}\n\nmodule.exports = {\n  ABV: ABV,\n  CONSTR: CONSTR,\n  TYPED: TYPED,\n  VIEW: VIEW\n};\n","'use strict';\n// Forced replacement prototype accessors methods\nmodule.exports = require('./_library') || !require('./_fails')(function () {\n  var K = Math.random();\n  // In FF throws only define methods\n  // eslint-disable-next-line no-undef, no-useless-call\n  __defineSetter__.call(null, K, function () { /* empty */ });\n  delete require('./_global')[K];\n});\n","'use strict';\n// https://tc39.github.io/proposal-setmap-offrom/\nvar $export = require('./_export');\n\nmodule.exports = function (COLLECTION) {\n  $export($export.S, COLLECTION, { of: function of() {\n    var length = arguments.length;\n    var A = new Array(length);\n    while (length--) A[length] = arguments[length];\n    return new this(A);\n  } });\n};\n","'use strict';\n// https://tc39.github.io/proposal-setmap-offrom/\nvar $export = require('./_export');\nvar aFunction = require('./_a-function');\nvar ctx = require('./_ctx');\nvar forOf = require('./_for-of');\n\nmodule.exports = function (COLLECTION) {\n  $export($export.S, COLLECTION, { from: function from(source /* , mapFn, thisArg */) {\n    var mapFn = arguments[1];\n    var mapping, A, n, cb;\n    aFunction(this);\n    mapping = mapFn !== undefined;\n    if (mapping) aFunction(mapFn);\n    if (source == undefined) return new this();\n    A = [];\n    if (mapping) {\n      n = 0;\n      cb = ctx(mapFn, arguments[2], 2);\n      forOf(source, false, function (nextItem) {\n        A.push(cb(nextItem, n++));\n      });\n    } else {\n      forOf(source, false, A.push, A);\n    }\n    return new this(A);\n  } });\n};\n","/**\r\n * -------------------------------------------------------------------------------------------\r\n * Copyright (c) Microsoft Corporation.  All Rights Reserved.  Licensed under the MIT License.\r\n * See License in the project root for license information.\r\n * -------------------------------------------------------------------------------------------\r\n */\r\n/**\r\n * @module Range\r\n */\r\n/**\r\n * @class\r\n * Class representing Range\r\n */\r\nexport class Range {\r\n    /**\r\n     * @public\r\n     * @constructor\r\n     * Creates a range for given min and max values\r\n     * @param {number} [minVal = -1] - The minimum value.\r\n     * @param {number} [maxVal = -1] - The maximum value.\r\n     * @returns An instance of a Range\r\n     */\r\n    constructor(minVal = -1, maxVal = -1) {\r\n        this.minValue = minVal;\r\n        this.maxValue = maxVal;\r\n    }\r\n}\r\n//# sourceMappingURL=Range.js.map","/**\r\n * -------------------------------------------------------------------------------------------\r\n * Copyright (c) Microsoft Corporation.  All Rights Reserved.  Licensed under the MIT License.\r\n * See License in the project root for license information.\r\n * -------------------------------------------------------------------------------------------\r\n */\r\nimport * as tslib_1 from \"tslib\";\r\nimport { Range } from \"../Range\";\r\n/**\r\n * @class\r\n * Class representing LargeFileUploadTask\r\n */\r\nexport class LargeFileUploadTask {\r\n    /**\r\n     * @public\r\n     * @constructor\r\n     * Constructs a LargeFileUploadTask\r\n     * @param {Client} client - The GraphClient instance\r\n     * @param {FileObject} file - The FileObject holding details of a file that needs to be uploaded\r\n     * @param {LargeFileUploadSession} uploadSession - The upload session to which the upload has to be done\r\n     * @param {LargeFileUploadTaskOptions} options - The upload task options\r\n     * @returns An instance of LargeFileUploadTask\r\n     */\r\n    constructor(client, file, uploadSession, options = {}) {\r\n        /**\r\n         * @private\r\n         * Default value for the rangeSize\r\n         */\r\n        this.DEFAULT_FILE_SIZE = 5 * 1024 * 1024;\r\n        this.client = client;\r\n        this.file = file;\r\n        if (options.rangeSize === undefined) {\r\n            options.rangeSize = this.DEFAULT_FILE_SIZE;\r\n        }\r\n        this.options = options;\r\n        this.uploadSession = uploadSession;\r\n        this.nextRange = new Range(0, this.options.rangeSize - 1);\r\n    }\r\n    /**\r\n     * @public\r\n     * @static\r\n     * @async\r\n     * Makes request to the server to create an upload session\r\n     * @param {Client} client - The GraphClient instance\r\n     * @param {any} payload - The payload that needs to be sent\r\n     * @param {KeyValuePairObjectStringNumber} headers - The headers that needs to be sent\r\n     * @returns The promise that resolves to LargeFileUploadSession\r\n     */\r\n    static createUploadSession(client, requestUrl, payload, headers = {}) {\r\n        return tslib_1.__awaiter(this, void 0, void 0, function* () {\r\n            try {\r\n                const session = yield client\r\n                    .api(requestUrl)\r\n                    .headers(headers)\r\n                    .post(payload);\r\n                const largeFileUploadSession = {\r\n                    url: session.uploadUrl,\r\n                    expiry: new Date(session.expirationDateTime),\r\n                };\r\n                return largeFileUploadSession;\r\n            }\r\n            catch (err) {\r\n                throw err;\r\n            }\r\n        });\r\n    }\r\n    /**\r\n     * @private\r\n     * Parses given range string to the Range instance\r\n     * @param {string[]} ranges - The ranges value\r\n     * @returns The range instance\r\n     */\r\n    parseRange(ranges) {\r\n        const rangeStr = ranges[0];\r\n        if (typeof rangeStr === \"undefined\" || rangeStr === \"\") {\r\n            return new Range();\r\n        }\r\n        const firstRange = rangeStr.split(\"-\");\r\n        const minVal = parseInt(firstRange[0], 10);\r\n        let maxVal = parseInt(firstRange[1], 10);\r\n        if (Number.isNaN(maxVal)) {\r\n            maxVal = this.file.size - 1;\r\n        }\r\n        return new Range(minVal, maxVal);\r\n    }\r\n    /**\r\n     * @private\r\n     * Updates the expiration date and the next range\r\n     * @param {UploadStatusResponse} response - The response of the upload status\r\n     * @returns Nothing\r\n     */\r\n    updateTaskStatus(response) {\r\n        this.uploadSession.expiry = new Date(response.expirationDateTime);\r\n        this.nextRange = this.parseRange(response.nextExpectedRanges);\r\n    }\r\n    /**\r\n     * @public\r\n     * Gets next range that needs to be uploaded\r\n     * @returns The range instance\r\n     */\r\n    getNextRange() {\r\n        if (this.nextRange.minValue === -1) {\r\n            return this.nextRange;\r\n        }\r\n        const minVal = this.nextRange.minValue;\r\n        let maxValue = minVal + this.options.rangeSize - 1;\r\n        if (maxValue >= this.file.size) {\r\n            maxValue = this.file.size - 1;\r\n        }\r\n        return new Range(minVal, maxValue);\r\n    }\r\n    /**\r\n     * @public\r\n     * Slices the file content to the given range\r\n     * @param {Range} range - The range value\r\n     * @returns The sliced ArrayBuffer or Blob\r\n     */\r\n    sliceFile(range) {\r\n        const blob = this.file.content.slice(range.minValue, range.maxValue + 1);\r\n        return blob;\r\n    }\r\n    /**\r\n     * @public\r\n     * @async\r\n     * Uploads file to the server in a sequential order by slicing the file\r\n     * @returns The promise resolves to uploaded response\r\n     */\r\n    upload() {\r\n        return tslib_1.__awaiter(this, void 0, void 0, function* () {\r\n            try {\r\n                while (true) {\r\n                    const nextRange = this.getNextRange();\r\n                    if (nextRange.maxValue === -1) {\r\n                        const err = new Error(\"Task with which you are trying to upload is already completed, Please check for your uploaded file\");\r\n                        err.name = \"Invalid Session\";\r\n                        throw err;\r\n                    }\r\n                    const fileSlice = this.sliceFile(nextRange);\r\n                    const response = yield this.uploadSlice(fileSlice, nextRange, this.file.size);\r\n                    // Upon completion of upload process incase of onedrive, driveItem is returned, which contains id\r\n                    if (response.id !== undefined) {\r\n                        return response;\r\n                    }\r\n                    else {\r\n                        this.updateTaskStatus(response);\r\n                    }\r\n                }\r\n            }\r\n            catch (err) {\r\n                throw err;\r\n            }\r\n        });\r\n    }\r\n    /**\r\n     * @public\r\n     * @async\r\n     * Uploads given slice to the server\r\n     * @param {ArrayBuffer | Blob | File} fileSlice - The file slice\r\n     * @param {Range} range - The range value\r\n     * @param {number} totalSize - The total size of a complete file\r\n     */\r\n    uploadSlice(fileSlice, range, totalSize) {\r\n        return tslib_1.__awaiter(this, void 0, void 0, function* () {\r\n            try {\r\n                return yield this.client\r\n                    .api(this.uploadSession.url)\r\n                    .headers({\r\n                    \"Content-Length\": `${range.maxValue - range.minValue + 1}`,\r\n                    \"Content-Range\": `bytes ${range.minValue}-${range.maxValue}/${totalSize}`,\r\n                })\r\n                    .put(fileSlice);\r\n            }\r\n            catch (err) {\r\n                throw err;\r\n            }\r\n        });\r\n    }\r\n    /**\r\n     * @public\r\n     * @async\r\n     * Deletes upload session in the server\r\n     * @returns The promise resolves to cancelled response\r\n     */\r\n    cancel() {\r\n        return tslib_1.__awaiter(this, void 0, void 0, function* () {\r\n            try {\r\n                return yield this.client.api(this.uploadSession.url).delete();\r\n            }\r\n            catch (err) {\r\n                throw err;\r\n            }\r\n        });\r\n    }\r\n    /**\r\n     * @public\r\n     * @async\r\n     * Gets status for the upload session\r\n     * @returns The promise resolves to the status enquiry response\r\n     */\r\n    getStatus() {\r\n        return tslib_1.__awaiter(this, void 0, void 0, function* () {\r\n            try {\r\n                const response = yield this.client.api(this.uploadSession.url).get();\r\n                this.updateTaskStatus(response);\r\n                return response;\r\n            }\r\n            catch (err) {\r\n                throw err;\r\n            }\r\n        });\r\n    }\r\n    /**\r\n     * @public\r\n     * @async\r\n     * Resumes upload session and continue uploading the file from the last sent range\r\n     * @returns The promise resolves to the uploaded response\r\n     */\r\n    resume() {\r\n        return tslib_1.__awaiter(this, void 0, void 0, function* () {\r\n            try {\r\n                yield this.getStatus();\r\n                return yield this.upload();\r\n            }\r\n            catch (err) {\r\n                throw err;\r\n            }\r\n        });\r\n    }\r\n}\r\n//# sourceMappingURL=LargeFileUploadTask.js.map","var g;\n\n// This works in non-strict mode\ng = (function() {\n\treturn this;\n})();\n\ntry {\n\t// This works if eval is allowed (see CSP)\n\tg = g || new Function(\"return this\")();\n} catch (e) {\n\t// This works if the window reference is available\n\tif (typeof window === \"object\") g = window;\n}\n\n// g can still be undefined, but nothing to do about it...\n// We return undefined, instead of nothing here, so it's\n// easier to handle this case. if(!global) { ...}\n\nmodule.exports = g;\n","var isObject = require('./_is-object');\nvar document = require('./_global').document;\n// typeof document.createElement is 'object' in old IE\nvar is = isObject(document) && isObject(document.createElement);\nmodule.exports = function (it) {\n  return is ? document.createElement(it) : {};\n};\n","var global = require('./_global');\nvar core = require('./_core');\nvar LIBRARY = require('./_library');\nvar wksExt = require('./_wks-ext');\nvar defineProperty = require('./_object-dp').f;\nmodule.exports = function (name) {\n  var $Symbol = core.Symbol || (core.Symbol = LIBRARY ? {} : global.Symbol || {});\n  if (name.charAt(0) != '_' && !(name in $Symbol)) defineProperty($Symbol, name, { value: wksExt.f(name) });\n};\n","var shared = require('./_shared')('keys');\nvar uid = require('./_uid');\nmodule.exports = function (key) {\n  return shared[key] || (shared[key] = uid(key));\n};\n","// IE 8- don't enum bug keys\nmodule.exports = (\n  'constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf'\n).split(',');\n","var document = require('./_global').document;\nmodule.exports = document && document.documentElement;\n","// Works with __proto__ only. Old v8 can't work with null proto objects.\n/* eslint-disable no-proto */\nvar isObject = require('./_is-object');\nvar anObject = require('./_an-object');\nvar check = function (O, proto) {\n  anObject(O);\n  if (!isObject(proto) && proto !== null) throw TypeError(proto + \": can't set as prototype!\");\n};\nmodule.exports = {\n  set: Object.setPrototypeOf || ('__proto__' in {} ? // eslint-disable-line\n    function (test, buggy, set) {\n      try {\n        set = require('./_ctx')(Function.call, require('./_object-gopd').f(Object.prototype, '__proto__').set, 2);\n        set(test, []);\n        buggy = !(test instanceof Array);\n      } catch (e) { buggy = true; }\n      return function setPrototypeOf(O, proto) {\n        check(O, proto);\n        if (buggy) O.__proto__ = proto;\n        else set(O, proto);\n        return O;\n      };\n    }({}, false) : undefined),\n  check: check\n};\n","module.exports = '\\x09\\x0A\\x0B\\x0C\\x0D\\x20\\xA0\\u1680\\u180E\\u2000\\u2001\\u2002\\u2003' +\n  '\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200A\\u202F\\u205F\\u3000\\u2028\\u2029\\uFEFF';\n","var isObject = require('./_is-object');\nvar setPrototypeOf = require('./_set-proto').set;\nmodule.exports = function (that, target, C) {\n  var S = target.constructor;\n  var P;\n  if (S !== C && typeof S == 'function' && (P = S.prototype) !== C.prototype && isObject(P) && setPrototypeOf) {\n    setPrototypeOf(that, P);\n  } return that;\n};\n","'use strict';\nvar toInteger = require('./_to-integer');\nvar defined = require('./_defined');\n\nmodule.exports = function repeat(count) {\n  var str = String(defined(this));\n  var res = '';\n  var n = toInteger(count);\n  if (n < 0 || n == Infinity) throw RangeError(\"Count can't be negative\");\n  for (;n > 0; (n >>>= 1) && (str += str)) if (n & 1) res += str;\n  return res;\n};\n","// 20.2.2.28 Math.sign(x)\nmodule.exports = Math.sign || function sign(x) {\n  // eslint-disable-next-line no-self-compare\n  return (x = +x) == 0 || x != x ? x : x < 0 ? -1 : 1;\n};\n","// 20.2.2.14 Math.expm1(x)\nvar $expm1 = Math.expm1;\nmodule.exports = (!$expm1\n  // Old FF bug\n  || $expm1(10) > 22025.465794806719 || $expm1(10) < 22025.4657948067165168\n  // Tor Browser bug\n  || $expm1(-2e-17) != -2e-17\n) ? function expm1(x) {\n  return (x = +x) == 0 ? x : x > -1e-6 && x < 1e-6 ? x + x * x / 2 : Math.exp(x) - 1;\n} : $expm1;\n","'use strict';\nvar LIBRARY = require('./_library');\nvar $export = require('./_export');\nvar redefine = require('./_redefine');\nvar hide = require('./_hide');\nvar Iterators = require('./_iterators');\nvar $iterCreate = require('./_iter-create');\nvar setToStringTag = require('./_set-to-string-tag');\nvar getPrototypeOf = require('./_object-gpo');\nvar ITERATOR = require('./_wks')('iterator');\nvar BUGGY = !([].keys && 'next' in [].keys()); // Safari has buggy iterators w/o `next`\nvar FF_ITERATOR = '@@iterator';\nvar KEYS = 'keys';\nvar VALUES = 'values';\n\nvar returnThis = function () { return this; };\n\nmodule.exports = function (Base, NAME, Constructor, next, DEFAULT, IS_SET, FORCED) {\n  $iterCreate(Constructor, NAME, next);\n  var getMethod = function (kind) {\n    if (!BUGGY && kind in proto) return proto[kind];\n    switch (kind) {\n      case KEYS: return function keys() { return new Constructor(this, kind); };\n      case VALUES: return function values() { return new Constructor(this, kind); };\n    } return function entries() { return new Constructor(this, kind); };\n  };\n  var TAG = NAME + ' Iterator';\n  var DEF_VALUES = DEFAULT == VALUES;\n  var VALUES_BUG = false;\n  var proto = Base.prototype;\n  var $native = proto[ITERATOR] || proto[FF_ITERATOR] || DEFAULT && proto[DEFAULT];\n  var $default = $native || getMethod(DEFAULT);\n  var $entries = DEFAULT ? !DEF_VALUES ? $default : getMethod('entries') : undefined;\n  var $anyNative = NAME == 'Array' ? proto.entries || $native : $native;\n  var methods, key, IteratorPrototype;\n  // Fix native\n  if ($anyNative) {\n    IteratorPrototype = getPrototypeOf($anyNative.call(new Base()));\n    if (IteratorPrototype !== Object.prototype && IteratorPrototype.next) {\n      // Set @@toStringTag to native iterators\n      setToStringTag(IteratorPrototype, TAG, true);\n      // fix for some old engines\n      if (!LIBRARY && typeof IteratorPrototype[ITERATOR] != 'function') hide(IteratorPrototype, ITERATOR, returnThis);\n    }\n  }\n  // fix Array#{values, @@iterator}.name in V8 / FF\n  if (DEF_VALUES && $native && $native.name !== VALUES) {\n    VALUES_BUG = true;\n    $default = function values() { return $native.call(this); };\n  }\n  // Define iterator\n  if ((!LIBRARY || FORCED) && (BUGGY || VALUES_BUG || !proto[ITERATOR])) {\n    hide(proto, ITERATOR, $default);\n  }\n  // Plug for library\n  Iterators[NAME] = $default;\n  Iterators[TAG] = returnThis;\n  if (DEFAULT) {\n    methods = {\n      values: DEF_VALUES ? $default : getMethod(VALUES),\n      keys: IS_SET ? $default : getMethod(KEYS),\n      entries: $entries\n    };\n    if (FORCED) for (key in methods) {\n      if (!(key in proto)) redefine(proto, key, methods[key]);\n    } else $export($export.P + $export.F * (BUGGY || VALUES_BUG), NAME, methods);\n  }\n  return methods;\n};\n","'use strict';\nvar create = require('./_object-create');\nvar descriptor = require('./_property-desc');\nvar setToStringTag = require('./_set-to-string-tag');\nvar IteratorPrototype = {};\n\n// 25.1.2.1.1 %IteratorPrototype%[@@iterator]()\nrequire('./_hide')(IteratorPrototype, require('./_wks')('iterator'), function () { return this; });\n\nmodule.exports = function (Constructor, NAME, next) {\n  Constructor.prototype = create(IteratorPrototype, { next: descriptor(1, next) });\n  setToStringTag(Constructor, NAME + ' Iterator');\n};\n","// helper for String#{startsWith, endsWith, includes}\nvar isRegExp = require('./_is-regexp');\nvar defined = require('./_defined');\n\nmodule.exports = function (that, searchString, NAME) {\n  if (isRegExp(searchString)) throw TypeError('String#' + NAME + \" doesn't accept regex!\");\n  return String(defined(that));\n};\n","var MATCH = require('./_wks')('match');\nmodule.exports = function (KEY) {\n  var re = /./;\n  try {\n    '/./'[KEY](re);\n  } catch (e) {\n    try {\n      re[MATCH] = false;\n      return !'/./'[KEY](re);\n    } catch (f) { /* empty */ }\n  } return true;\n};\n","// check on default Array iterator\nvar Iterators = require('./_iterators');\nvar ITERATOR = require('./_wks')('iterator');\nvar ArrayProto = Array.prototype;\n\nmodule.exports = function (it) {\n  return it !== undefined && (Iterators.Array === it || ArrayProto[ITERATOR] === it);\n};\n","'use strict';\nvar $defineProperty = require('./_object-dp');\nvar createDesc = require('./_property-desc');\n\nmodule.exports = function (object, index, value) {\n  if (index in object) $defineProperty.f(object, index, createDesc(0, value));\n  else object[index] = value;\n};\n","var classof = require('./_classof');\nvar ITERATOR = require('./_wks')('iterator');\nvar Iterators = require('./_iterators');\nmodule.exports = require('./_core').getIteratorMethod = function (it) {\n  if (it != undefined) return it[ITERATOR]\n    || it['@@iterator']\n    || Iterators[classof(it)];\n};\n","// 9.4.2.3 ArraySpeciesCreate(originalArray, length)\nvar speciesConstructor = require('./_array-species-constructor');\n\nmodule.exports = function (original, length) {\n  return new (speciesConstructor(original))(length);\n};\n","// 22.1.3.6 Array.prototype.fill(value, start = 0, end = this.length)\n'use strict';\nvar toObject = require('./_to-object');\nvar toAbsoluteIndex = require('./_to-absolute-index');\nvar toLength = require('./_to-length');\nmodule.exports = function fill(value /* , start = 0, end = @length */) {\n  var O = toObject(this);\n  var length = toLength(O.length);\n  var aLen = arguments.length;\n  var index = toAbsoluteIndex(aLen > 1 ? arguments[1] : undefined, length);\n  var end = aLen > 2 ? arguments[2] : undefined;\n  var endPos = end === undefined ? length : toAbsoluteIndex(end, length);\n  while (endPos > index) O[index++] = value;\n  return O;\n};\n","'use strict';\nvar addToUnscopables = require('./_add-to-unscopables');\nvar step = require('./_iter-step');\nvar Iterators = require('./_iterators');\nvar toIObject = require('./_to-iobject');\n\n// 22.1.3.4 Array.prototype.entries()\n// 22.1.3.13 Array.prototype.keys()\n// 22.1.3.29 Array.prototype.values()\n// 22.1.3.30 Array.prototype[@@iterator]()\nmodule.exports = require('./_iter-define')(Array, 'Array', function (iterated, kind) {\n  this._t = toIObject(iterated); // target\n  this._i = 0;                   // next index\n  this._k = kind;                // kind\n// 22.1.5.2.1 %ArrayIteratorPrototype%.next()\n}, function () {\n  var O = this._t;\n  var kind = this._k;\n  var index = this._i++;\n  if (!O || index >= O.length) {\n    this._t = undefined;\n    return step(1);\n  }\n  if (kind == 'keys') return step(0, index);\n  if (kind == 'values') return step(0, O[index]);\n  return step(0, [index, O[index]]);\n}, 'values');\n\n// argumentsList[@@iterator] is %ArrayProto_values% (9.4.4.6, 9.4.4.7)\nIterators.Arguments = Iterators.Array;\n\naddToUnscopables('keys');\naddToUnscopables('values');\naddToUnscopables('entries');\n","'use strict';\n\nvar regexpFlags = require('./_flags');\n\nvar nativeExec = RegExp.prototype.exec;\n// This always refers to the native implementation, because the\n// String#replace polyfill uses ./fix-regexp-well-known-symbol-logic.js,\n// which loads this file before patching the method.\nvar nativeReplace = String.prototype.replace;\n\nvar patchedExec = nativeExec;\n\nvar LAST_INDEX = 'lastIndex';\n\nvar UPDATES_LAST_INDEX_WRONG = (function () {\n  var re1 = /a/,\n      re2 = /b*/g;\n  nativeExec.call(re1, 'a');\n  nativeExec.call(re2, 'a');\n  return re1[LAST_INDEX] !== 0 || re2[LAST_INDEX] !== 0;\n})();\n\n// nonparticipating capturing group, copied from es5-shim's String#split patch.\nvar NPCG_INCLUDED = /()??/.exec('')[1] !== undefined;\n\nvar PATCH = UPDATES_LAST_INDEX_WRONG || NPCG_INCLUDED;\n\nif (PATCH) {\n  patchedExec = function exec(str) {\n    var re = this;\n    var lastIndex, reCopy, match, i;\n\n    if (NPCG_INCLUDED) {\n      reCopy = new RegExp('^' + re.source + '$(?!\\\\s)', regexpFlags.call(re));\n    }\n    if (UPDATES_LAST_INDEX_WRONG) lastIndex = re[LAST_INDEX];\n\n    match = nativeExec.call(re, str);\n\n    if (UPDATES_LAST_INDEX_WRONG && match) {\n      re[LAST_INDEX] = re.global ? match.index + match[0].length : lastIndex;\n    }\n    if (NPCG_INCLUDED && match && match.length > 1) {\n      // Fix browsers whose `exec` methods don't consistently return `undefined`\n      // for NPCG, like IE8. NOTE: This doesn' work for /(.?)?/\n      // eslint-disable-next-line no-loop-func\n      nativeReplace.call(match[0], reCopy, function () {\n        for (i = 1; i < arguments.length - 2; i++) {\n          if (arguments[i] === undefined) match[i] = undefined;\n        }\n      });\n    }\n\n    return match;\n  };\n}\n\nmodule.exports = patchedExec;\n","'use strict';\nvar at = require('./_string-at')(true);\n\n // `AdvanceStringIndex` abstract operation\n// https://tc39.github.io/ecma262/#sec-advancestringindex\nmodule.exports = function (S, index, unicode) {\n  return index + (unicode ? at(S, index).length : 1);\n};\n","var ctx = require('./_ctx');\nvar invoke = require('./_invoke');\nvar html = require('./_html');\nvar cel = require('./_dom-create');\nvar global = require('./_global');\nvar process = global.process;\nvar setTask = global.setImmediate;\nvar clearTask = global.clearImmediate;\nvar MessageChannel = global.MessageChannel;\nvar Dispatch = global.Dispatch;\nvar counter = 0;\nvar queue = {};\nvar ONREADYSTATECHANGE = 'onreadystatechange';\nvar defer, channel, port;\nvar run = function () {\n  var id = +this;\n  // eslint-disable-next-line no-prototype-builtins\n  if (queue.hasOwnProperty(id)) {\n    var fn = queue[id];\n    delete queue[id];\n    fn();\n  }\n};\nvar listener = function (event) {\n  run.call(event.data);\n};\n// Node.js 0.9+ & IE10+ has setImmediate, otherwise:\nif (!setTask || !clearTask) {\n  setTask = function setImmediate(fn) {\n    var args = [];\n    var i = 1;\n    while (arguments.length > i) args.push(arguments[i++]);\n    queue[++counter] = function () {\n      // eslint-disable-next-line no-new-func\n      invoke(typeof fn == 'function' ? fn : Function(fn), args);\n    };\n    defer(counter);\n    return counter;\n  };\n  clearTask = function clearImmediate(id) {\n    delete queue[id];\n  };\n  // Node.js 0.8-\n  if (require('./_cof')(process) == 'process') {\n    defer = function (id) {\n      process.nextTick(ctx(run, id, 1));\n    };\n  // Sphere (JS game engine) Dispatch API\n  } else if (Dispatch && Dispatch.now) {\n    defer = function (id) {\n      Dispatch.now(ctx(run, id, 1));\n    };\n  // Browsers with MessageChannel, includes WebWorkers\n  } else if (MessageChannel) {\n    channel = new MessageChannel();\n    port = channel.port2;\n    channel.port1.onmessage = listener;\n    defer = ctx(port.postMessage, port, 1);\n  // Browsers with postMessage, skip WebWorkers\n  // IE8 has postMessage, but it's sync & typeof its postMessage is 'object'\n  } else if (global.addEventListener && typeof postMessage == 'function' && !global.importScripts) {\n    defer = function (id) {\n      global.postMessage(id + '', '*');\n    };\n    global.addEventListener('message', listener, false);\n  // IE8-\n  } else if (ONREADYSTATECHANGE in cel('script')) {\n    defer = function (id) {\n      html.appendChild(cel('script'))[ONREADYSTATECHANGE] = function () {\n        html.removeChild(this);\n        run.call(id);\n      };\n    };\n  // Rest old browsers\n  } else {\n    defer = function (id) {\n      setTimeout(ctx(run, id, 1), 0);\n    };\n  }\n}\nmodule.exports = {\n  set: setTask,\n  clear: clearTask\n};\n","var global = require('./_global');\nvar macrotask = require('./_task').set;\nvar Observer = global.MutationObserver || global.WebKitMutationObserver;\nvar process = global.process;\nvar Promise = global.Promise;\nvar isNode = require('./_cof')(process) == 'process';\n\nmodule.exports = function () {\n  var head, last, notify;\n\n  var flush = function () {\n    var parent, fn;\n    if (isNode && (parent = process.domain)) parent.exit();\n    while (head) {\n      fn = head.fn;\n      head = head.next;\n      try {\n        fn();\n      } catch (e) {\n        if (head) notify();\n        else last = undefined;\n        throw e;\n      }\n    } last = undefined;\n    if (parent) parent.enter();\n  };\n\n  // Node.js\n  if (isNode) {\n    notify = function () {\n      process.nextTick(flush);\n    };\n  // browsers with MutationObserver, except iOS Safari - https://github.com/zloirock/core-js/issues/339\n  } else if (Observer && !(global.navigator && global.navigator.standalone)) {\n    var toggle = true;\n    var node = document.createTextNode('');\n    new Observer(flush).observe(node, { characterData: true }); // eslint-disable-line no-new\n    notify = function () {\n      node.data = toggle = !toggle;\n    };\n  // environments with maybe non-completely correct, but existent Promise\n  } else if (Promise && Promise.resolve) {\n    // Promise.resolve without an argument throws an error in LG WebOS 2\n    var promise = Promise.resolve(undefined);\n    notify = function () {\n      promise.then(flush);\n    };\n  // for other environments - macrotask based on:\n  // - setImmediate\n  // - MessageChannel\n  // - window.postMessag\n  // - onreadystatechange\n  // - setTimeout\n  } else {\n    notify = function () {\n      // strange IE + webpack dev server bug - use .call(global)\n      macrotask.call(global, flush);\n    };\n  }\n\n  return function (fn) {\n    var task = { fn: fn, next: undefined };\n    if (last) last.next = task;\n    if (!head) {\n      head = task;\n      notify();\n    } last = task;\n  };\n};\n","'use strict';\n// 25.4.1.5 NewPromiseCapability(C)\nvar aFunction = require('./_a-function');\n\nfunction PromiseCapability(C) {\n  var resolve, reject;\n  this.promise = new C(function ($$resolve, $$reject) {\n    if (resolve !== undefined || reject !== undefined) throw TypeError('Bad Promise constructor');\n    resolve = $$resolve;\n    reject = $$reject;\n  });\n  this.resolve = aFunction(resolve);\n  this.reject = aFunction(reject);\n}\n\nmodule.exports.f = function (C) {\n  return new PromiseCapability(C);\n};\n","'use strict';\nvar global = require('./_global');\nvar DESCRIPTORS = require('./_descriptors');\nvar LIBRARY = require('./_library');\nvar $typed = require('./_typed');\nvar hide = require('./_hide');\nvar redefineAll = require('./_redefine-all');\nvar fails = require('./_fails');\nvar anInstance = require('./_an-instance');\nvar toInteger = require('./_to-integer');\nvar toLength = require('./_to-length');\nvar toIndex = require('./_to-index');\nvar gOPN = require('./_object-gopn').f;\nvar dP = require('./_object-dp').f;\nvar arrayFill = require('./_array-fill');\nvar setToStringTag = require('./_set-to-string-tag');\nvar ARRAY_BUFFER = 'ArrayBuffer';\nvar DATA_VIEW = 'DataView';\nvar PROTOTYPE = 'prototype';\nvar WRONG_LENGTH = 'Wrong length!';\nvar WRONG_INDEX = 'Wrong index!';\nvar $ArrayBuffer = global[ARRAY_BUFFER];\nvar $DataView = global[DATA_VIEW];\nvar Math = global.Math;\nvar RangeError = global.RangeError;\n// eslint-disable-next-line no-shadow-restricted-names\nvar Infinity = global.Infinity;\nvar BaseBuffer = $ArrayBuffer;\nvar abs = Math.abs;\nvar pow = Math.pow;\nvar floor = Math.floor;\nvar log = Math.log;\nvar LN2 = Math.LN2;\nvar BUFFER = 'buffer';\nvar BYTE_LENGTH = 'byteLength';\nvar BYTE_OFFSET = 'byteOffset';\nvar $BUFFER = DESCRIPTORS ? '_b' : BUFFER;\nvar $LENGTH = DESCRIPTORS ? '_l' : BYTE_LENGTH;\nvar $OFFSET = DESCRIPTORS ? '_o' : BYTE_OFFSET;\n\n// IEEE754 conversions based on https://github.com/feross/ieee754\nfunction packIEEE754(value, mLen, nBytes) {\n  var buffer = new Array(nBytes);\n  var eLen = nBytes * 8 - mLen - 1;\n  var eMax = (1 << eLen) - 1;\n  var eBias = eMax >> 1;\n  var rt = mLen === 23 ? pow(2, -24) - pow(2, -77) : 0;\n  var i = 0;\n  var s = value < 0 || value === 0 && 1 / value < 0 ? 1 : 0;\n  var e, m, c;\n  value = abs(value);\n  // eslint-disable-next-line no-self-compare\n  if (value != value || value === Infinity) {\n    // eslint-disable-next-line no-self-compare\n    m = value != value ? 1 : 0;\n    e = eMax;\n  } else {\n    e = floor(log(value) / LN2);\n    if (value * (c = pow(2, -e)) < 1) {\n      e--;\n      c *= 2;\n    }\n    if (e + eBias >= 1) {\n      value += rt / c;\n    } else {\n      value += rt * pow(2, 1 - eBias);\n    }\n    if (value * c >= 2) {\n      e++;\n      c /= 2;\n    }\n    if (e + eBias >= eMax) {\n      m = 0;\n      e = eMax;\n    } else if (e + eBias >= 1) {\n      m = (value * c - 1) * pow(2, mLen);\n      e = e + eBias;\n    } else {\n      m = value * pow(2, eBias - 1) * pow(2, mLen);\n      e = 0;\n    }\n  }\n  for (; mLen >= 8; buffer[i++] = m & 255, m /= 256, mLen -= 8);\n  e = e << mLen | m;\n  eLen += mLen;\n  for (; eLen > 0; buffer[i++] = e & 255, e /= 256, eLen -= 8);\n  buffer[--i] |= s * 128;\n  return buffer;\n}\nfunction unpackIEEE754(buffer, mLen, nBytes) {\n  var eLen = nBytes * 8 - mLen - 1;\n  var eMax = (1 << eLen) - 1;\n  var eBias = eMax >> 1;\n  var nBits = eLen - 7;\n  var i = nBytes - 1;\n  var s = buffer[i--];\n  var e = s & 127;\n  var m;\n  s >>= 7;\n  for (; nBits > 0; e = e * 256 + buffer[i], i--, nBits -= 8);\n  m = e & (1 << -nBits) - 1;\n  e >>= -nBits;\n  nBits += mLen;\n  for (; nBits > 0; m = m * 256 + buffer[i], i--, nBits -= 8);\n  if (e === 0) {\n    e = 1 - eBias;\n  } else if (e === eMax) {\n    return m ? NaN : s ? -Infinity : Infinity;\n  } else {\n    m = m + pow(2, mLen);\n    e = e - eBias;\n  } return (s ? -1 : 1) * m * pow(2, e - mLen);\n}\n\nfunction unpackI32(bytes) {\n  return bytes[3] << 24 | bytes[2] << 16 | bytes[1] << 8 | bytes[0];\n}\nfunction packI8(it) {\n  return [it & 0xff];\n}\nfunction packI16(it) {\n  return [it & 0xff, it >> 8 & 0xff];\n}\nfunction packI32(it) {\n  return [it & 0xff, it >> 8 & 0xff, it >> 16 & 0xff, it >> 24 & 0xff];\n}\nfunction packF64(it) {\n  return packIEEE754(it, 52, 8);\n}\nfunction packF32(it) {\n  return packIEEE754(it, 23, 4);\n}\n\nfunction addGetter(C, key, internal) {\n  dP(C[PROTOTYPE], key, { get: function () { return this[internal]; } });\n}\n\nfunction get(view, bytes, index, isLittleEndian) {\n  var numIndex = +index;\n  var intIndex = toIndex(numIndex);\n  if (intIndex + bytes > view[$LENGTH]) throw RangeError(WRONG_INDEX);\n  var store = view[$BUFFER]._b;\n  var start = intIndex + view[$OFFSET];\n  var pack = store.slice(start, start + bytes);\n  return isLittleEndian ? pack : pack.reverse();\n}\nfunction set(view, bytes, index, conversion, value, isLittleEndian) {\n  var numIndex = +index;\n  var intIndex = toIndex(numIndex);\n  if (intIndex + bytes > view[$LENGTH]) throw RangeError(WRONG_INDEX);\n  var store = view[$BUFFER]._b;\n  var start = intIndex + view[$OFFSET];\n  var pack = conversion(+value);\n  for (var i = 0; i < bytes; i++) store[start + i] = pack[isLittleEndian ? i : bytes - i - 1];\n}\n\nif (!$typed.ABV) {\n  $ArrayBuffer = function ArrayBuffer(length) {\n    anInstance(this, $ArrayBuffer, ARRAY_BUFFER);\n    var byteLength = toIndex(length);\n    this._b = arrayFill.call(new Array(byteLength), 0);\n    this[$LENGTH] = byteLength;\n  };\n\n  $DataView = function DataView(buffer, byteOffset, byteLength) {\n    anInstance(this, $DataView, DATA_VIEW);\n    anInstance(buffer, $ArrayBuffer, DATA_VIEW);\n    var bufferLength = buffer[$LENGTH];\n    var offset = toInteger(byteOffset);\n    if (offset < 0 || offset > bufferLength) throw RangeError('Wrong offset!');\n    byteLength = byteLength === undefined ? bufferLength - offset : toLength(byteLength);\n    if (offset + byteLength > bufferLength) throw RangeError(WRONG_LENGTH);\n    this[$BUFFER] = buffer;\n    this[$OFFSET] = offset;\n    this[$LENGTH] = byteLength;\n  };\n\n  if (DESCRIPTORS) {\n    addGetter($ArrayBuffer, BYTE_LENGTH, '_l');\n    addGetter($DataView, BUFFER, '_b');\n    addGetter($DataView, BYTE_LENGTH, '_l');\n    addGetter($DataView, BYTE_OFFSET, '_o');\n  }\n\n  redefineAll($DataView[PROTOTYPE], {\n    getInt8: function getInt8(byteOffset) {\n      return get(this, 1, byteOffset)[0] << 24 >> 24;\n    },\n    getUint8: function getUint8(byteOffset) {\n      return get(this, 1, byteOffset)[0];\n    },\n    getInt16: function getInt16(byteOffset /* , littleEndian */) {\n      var bytes = get(this, 2, byteOffset, arguments[1]);\n      return (bytes[1] << 8 | bytes[0]) << 16 >> 16;\n    },\n    getUint16: function getUint16(byteOffset /* , littleEndian */) {\n      var bytes = get(this, 2, byteOffset, arguments[1]);\n      return bytes[1] << 8 | bytes[0];\n    },\n    getInt32: function getInt32(byteOffset /* , littleEndian */) {\n      return unpackI32(get(this, 4, byteOffset, arguments[1]));\n    },\n    getUint32: function getUint32(byteOffset /* , littleEndian */) {\n      return unpackI32(get(this, 4, byteOffset, arguments[1])) >>> 0;\n    },\n    getFloat32: function getFloat32(byteOffset /* , littleEndian */) {\n      return unpackIEEE754(get(this, 4, byteOffset, arguments[1]), 23, 4);\n    },\n    getFloat64: function getFloat64(byteOffset /* , littleEndian */) {\n      return unpackIEEE754(get(this, 8, byteOffset, arguments[1]), 52, 8);\n    },\n    setInt8: function setInt8(byteOffset, value) {\n      set(this, 1, byteOffset, packI8, value);\n    },\n    setUint8: function setUint8(byteOffset, value) {\n      set(this, 1, byteOffset, packI8, value);\n    },\n    setInt16: function setInt16(byteOffset, value /* , littleEndian */) {\n      set(this, 2, byteOffset, packI16, value, arguments[2]);\n    },\n    setUint16: function setUint16(byteOffset, value /* , littleEndian */) {\n      set(this, 2, byteOffset, packI16, value, arguments[2]);\n    },\n    setInt32: function setInt32(byteOffset, value /* , littleEndian */) {\n      set(this, 4, byteOffset, packI32, value, arguments[2]);\n    },\n    setUint32: function setUint32(byteOffset, value /* , littleEndian */) {\n      set(this, 4, byteOffset, packI32, value, arguments[2]);\n    },\n    setFloat32: function setFloat32(byteOffset, value /* , littleEndian */) {\n      set(this, 4, byteOffset, packF32, value, arguments[2]);\n    },\n    setFloat64: function setFloat64(byteOffset, value /* , littleEndian */) {\n      set(this, 8, byteOffset, packF64, value, arguments[2]);\n    }\n  });\n} else {\n  if (!fails(function () {\n    $ArrayBuffer(1);\n  }) || !fails(function () {\n    new $ArrayBuffer(-1); // eslint-disable-line no-new\n  }) || fails(function () {\n    new $ArrayBuffer(); // eslint-disable-line no-new\n    new $ArrayBuffer(1.5); // eslint-disable-line no-new\n    new $ArrayBuffer(NaN); // eslint-disable-line no-new\n    return $ArrayBuffer.name != ARRAY_BUFFER;\n  })) {\n    $ArrayBuffer = function ArrayBuffer(length) {\n      anInstance(this, $ArrayBuffer);\n      return new BaseBuffer(toIndex(length));\n    };\n    var ArrayBufferProto = $ArrayBuffer[PROTOTYPE] = BaseBuffer[PROTOTYPE];\n    for (var keys = gOPN(BaseBuffer), j = 0, key; keys.length > j;) {\n      if (!((key = keys[j++]) in $ArrayBuffer)) hide($ArrayBuffer, key, BaseBuffer[key]);\n    }\n    if (!LIBRARY) ArrayBufferProto.constructor = $ArrayBuffer;\n  }\n  // iOS Safari 7.x bug\n  var view = new $DataView(new $ArrayBuffer(2));\n  var $setInt8 = $DataView[PROTOTYPE].setInt8;\n  view.setInt8(0, 2147483648);\n  view.setInt8(1, 2147483649);\n  if (view.getInt8(0) || !view.getInt8(1)) redefineAll($DataView[PROTOTYPE], {\n    setInt8: function setInt8(byteOffset, value) {\n      $setInt8.call(this, byteOffset, value << 24 >> 24);\n    },\n    setUint8: function setUint8(byteOffset, value) {\n      $setInt8.call(this, byteOffset, value << 24 >> 24);\n    }\n  }, true);\n}\nsetToStringTag($ArrayBuffer, ARRAY_BUFFER);\nsetToStringTag($DataView, DATA_VIEW);\nhide($DataView[PROTOTYPE], $typed.VIEW, true);\nexports[ARRAY_BUFFER] = $ArrayBuffer;\nexports[DATA_VIEW] = $DataView;\n","/*!\n * The buffer module from node.js, for the browser.\n *\n * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>\n * @license  MIT\n */\n/* eslint-disable no-proto */\n\n'use strict'\n\nvar base64 = require('base64-js')\nvar ieee754 = require('ieee754')\nvar isArray = require('isarray')\n\nexports.Buffer = Buffer\nexports.SlowBuffer = SlowBuffer\nexports.INSPECT_MAX_BYTES = 50\n\n/**\n * If `Buffer.TYPED_ARRAY_SUPPORT`:\n *   === true    Use Uint8Array implementation (fastest)\n *   === false   Use Object implementation (most compatible, even IE6)\n *\n * Browsers that support typed arrays are IE 10+, Firefox 4+, Chrome 7+, Safari 5.1+,\n * Opera 11.6+, iOS 4.2+.\n *\n * Due to various browser bugs, sometimes the Object implementation will be used even\n * when the browser supports typed arrays.\n *\n * Note:\n *\n *   - Firefox 4-29 lacks support for adding new properties to `Uint8Array` instances,\n *     See: https://bugzilla.mozilla.org/show_bug.cgi?id=695438.\n *\n *   - Chrome 9-10 is missing the `TypedArray.prototype.subarray` function.\n *\n *   - IE10 has a broken `TypedArray.prototype.subarray` function which returns arrays of\n *     incorrect length in some situations.\n\n * We detect these buggy browsers and set `Buffer.TYPED_ARRAY_SUPPORT` to `false` so they\n * get the Object implementation, which is slower but behaves correctly.\n */\nBuffer.TYPED_ARRAY_SUPPORT = global.TYPED_ARRAY_SUPPORT !== undefined\n  ? global.TYPED_ARRAY_SUPPORT\n  : typedArraySupport()\n\n/*\n * Export kMaxLength after typed array support is determined.\n */\nexports.kMaxLength = kMaxLength()\n\nfunction typedArraySupport () {\n  try {\n    var arr = new Uint8Array(1)\n    arr.__proto__ = {__proto__: Uint8Array.prototype, foo: function () { return 42 }}\n    return arr.foo() === 42 && // typed array instances can be augmented\n        typeof arr.subarray === 'function' && // chrome 9-10 lack `subarray`\n        arr.subarray(1, 1).byteLength === 0 // ie10 has broken `subarray`\n  } catch (e) {\n    return false\n  }\n}\n\nfunction kMaxLength () {\n  return Buffer.TYPED_ARRAY_SUPPORT\n    ? 0x7fffffff\n    : 0x3fffffff\n}\n\nfunction createBuffer (that, length) {\n  if (kMaxLength() < length) {\n    throw new RangeError('Invalid typed array length')\n  }\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    // Return an augmented `Uint8Array` instance, for best performance\n    that = new Uint8Array(length)\n    that.__proto__ = Buffer.prototype\n  } else {\n    // Fallback: Return an object instance of the Buffer class\n    if (that === null) {\n      that = new Buffer(length)\n    }\n    that.length = length\n  }\n\n  return that\n}\n\n/**\n * The Buffer constructor returns instances of `Uint8Array` that have their\n * prototype changed to `Buffer.prototype`. Furthermore, `Buffer` is a subclass of\n * `Uint8Array`, so the returned instances will have all the node `Buffer` methods\n * and the `Uint8Array` methods. Square bracket notation works as expected -- it\n * returns a single octet.\n *\n * The `Uint8Array` prototype remains unmodified.\n */\n\nfunction Buffer (arg, encodingOrOffset, length) {\n  if (!Buffer.TYPED_ARRAY_SUPPORT && !(this instanceof Buffer)) {\n    return new Buffer(arg, encodingOrOffset, length)\n  }\n\n  // Common case.\n  if (typeof arg === 'number') {\n    if (typeof encodingOrOffset === 'string') {\n      throw new Error(\n        'If encoding is specified then the first argument must be a string'\n      )\n    }\n    return allocUnsafe(this, arg)\n  }\n  return from(this, arg, encodingOrOffset, length)\n}\n\nBuffer.poolSize = 8192 // not used by this implementation\n\n// TODO: Legacy, not needed anymore. Remove in next major version.\nBuffer._augment = function (arr) {\n  arr.__proto__ = Buffer.prototype\n  return arr\n}\n\nfunction from (that, value, encodingOrOffset, length) {\n  if (typeof value === 'number') {\n    throw new TypeError('\"value\" argument must not be a number')\n  }\n\n  if (typeof ArrayBuffer !== 'undefined' && value instanceof ArrayBuffer) {\n    return fromArrayBuffer(that, value, encodingOrOffset, length)\n  }\n\n  if (typeof value === 'string') {\n    return fromString(that, value, encodingOrOffset)\n  }\n\n  return fromObject(that, value)\n}\n\n/**\n * Functionally equivalent to Buffer(arg, encoding) but throws a TypeError\n * if value is a number.\n * Buffer.from(str[, encoding])\n * Buffer.from(array)\n * Buffer.from(buffer)\n * Buffer.from(arrayBuffer[, byteOffset[, length]])\n **/\nBuffer.from = function (value, encodingOrOffset, length) {\n  return from(null, value, encodingOrOffset, length)\n}\n\nif (Buffer.TYPED_ARRAY_SUPPORT) {\n  Buffer.prototype.__proto__ = Uint8Array.prototype\n  Buffer.__proto__ = Uint8Array\n  if (typeof Symbol !== 'undefined' && Symbol.species &&\n      Buffer[Symbol.species] === Buffer) {\n    // Fix subarray() in ES2016. See: https://github.com/feross/buffer/pull/97\n    Object.defineProperty(Buffer, Symbol.species, {\n      value: null,\n      configurable: true\n    })\n  }\n}\n\nfunction assertSize (size) {\n  if (typeof size !== 'number') {\n    throw new TypeError('\"size\" argument must be a number')\n  } else if (size < 0) {\n    throw new RangeError('\"size\" argument must not be negative')\n  }\n}\n\nfunction alloc (that, size, fill, encoding) {\n  assertSize(size)\n  if (size <= 0) {\n    return createBuffer(that, size)\n  }\n  if (fill !== undefined) {\n    // Only pay attention to encoding if it's a string. This\n    // prevents accidentally sending in a number that would\n    // be interpretted as a start offset.\n    return typeof encoding === 'string'\n      ? createBuffer(that, size).fill(fill, encoding)\n      : createBuffer(that, size).fill(fill)\n  }\n  return createBuffer(that, size)\n}\n\n/**\n * Creates a new filled Buffer instance.\n * alloc(size[, fill[, encoding]])\n **/\nBuffer.alloc = function (size, fill, encoding) {\n  return alloc(null, size, fill, encoding)\n}\n\nfunction allocUnsafe (that, size) {\n  assertSize(size)\n  that = createBuffer(that, size < 0 ? 0 : checked(size) | 0)\n  if (!Buffer.TYPED_ARRAY_SUPPORT) {\n    for (var i = 0; i < size; ++i) {\n      that[i] = 0\n    }\n  }\n  return that\n}\n\n/**\n * Equivalent to Buffer(num), by default creates a non-zero-filled Buffer instance.\n * */\nBuffer.allocUnsafe = function (size) {\n  return allocUnsafe(null, size)\n}\n/**\n * Equivalent to SlowBuffer(num), by default creates a non-zero-filled Buffer instance.\n */\nBuffer.allocUnsafeSlow = function (size) {\n  return allocUnsafe(null, size)\n}\n\nfunction fromString (that, string, encoding) {\n  if (typeof encoding !== 'string' || encoding === '') {\n    encoding = 'utf8'\n  }\n\n  if (!Buffer.isEncoding(encoding)) {\n    throw new TypeError('\"encoding\" must be a valid string encoding')\n  }\n\n  var length = byteLength(string, encoding) | 0\n  that = createBuffer(that, length)\n\n  var actual = that.write(string, encoding)\n\n  if (actual !== length) {\n    // Writing a hex string, for example, that contains invalid characters will\n    // cause everything after the first invalid character to be ignored. (e.g.\n    // 'abxxcd' will be treated as 'ab')\n    that = that.slice(0, actual)\n  }\n\n  return that\n}\n\nfunction fromArrayLike (that, array) {\n  var length = array.length < 0 ? 0 : checked(array.length) | 0\n  that = createBuffer(that, length)\n  for (var i = 0; i < length; i += 1) {\n    that[i] = array[i] & 255\n  }\n  return that\n}\n\nfunction fromArrayBuffer (that, array, byteOffset, length) {\n  array.byteLength // this throws if `array` is not a valid ArrayBuffer\n\n  if (byteOffset < 0 || array.byteLength < byteOffset) {\n    throw new RangeError('\\'offset\\' is out of bounds')\n  }\n\n  if (array.byteLength < byteOffset + (length || 0)) {\n    throw new RangeError('\\'length\\' is out of bounds')\n  }\n\n  if (byteOffset === undefined && length === undefined) {\n    array = new Uint8Array(array)\n  } else if (length === undefined) {\n    array = new Uint8Array(array, byteOffset)\n  } else {\n    array = new Uint8Array(array, byteOffset, length)\n  }\n\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    // Return an augmented `Uint8Array` instance, for best performance\n    that = array\n    that.__proto__ = Buffer.prototype\n  } else {\n    // Fallback: Return an object instance of the Buffer class\n    that = fromArrayLike(that, array)\n  }\n  return that\n}\n\nfunction fromObject (that, obj) {\n  if (Buffer.isBuffer(obj)) {\n    var len = checked(obj.length) | 0\n    that = createBuffer(that, len)\n\n    if (that.length === 0) {\n      return that\n    }\n\n    obj.copy(that, 0, 0, len)\n    return that\n  }\n\n  if (obj) {\n    if ((typeof ArrayBuffer !== 'undefined' &&\n        obj.buffer instanceof ArrayBuffer) || 'length' in obj) {\n      if (typeof obj.length !== 'number' || isnan(obj.length)) {\n        return createBuffer(that, 0)\n      }\n      return fromArrayLike(that, obj)\n    }\n\n    if (obj.type === 'Buffer' && isArray(obj.data)) {\n      return fromArrayLike(that, obj.data)\n    }\n  }\n\n  throw new TypeError('First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.')\n}\n\nfunction checked (length) {\n  // Note: cannot use `length < kMaxLength()` here because that fails when\n  // length is NaN (which is otherwise coerced to zero.)\n  if (length >= kMaxLength()) {\n    throw new RangeError('Attempt to allocate Buffer larger than maximum ' +\n                         'size: 0x' + kMaxLength().toString(16) + ' bytes')\n  }\n  return length | 0\n}\n\nfunction SlowBuffer (length) {\n  if (+length != length) { // eslint-disable-line eqeqeq\n    length = 0\n  }\n  return Buffer.alloc(+length)\n}\n\nBuffer.isBuffer = function isBuffer (b) {\n  return !!(b != null && b._isBuffer)\n}\n\nBuffer.compare = function compare (a, b) {\n  if (!Buffer.isBuffer(a) || !Buffer.isBuffer(b)) {\n    throw new TypeError('Arguments must be Buffers')\n  }\n\n  if (a === b) return 0\n\n  var x = a.length\n  var y = b.length\n\n  for (var i = 0, len = Math.min(x, y); i < len; ++i) {\n    if (a[i] !== b[i]) {\n      x = a[i]\n      y = b[i]\n      break\n    }\n  }\n\n  if (x < y) return -1\n  if (y < x) return 1\n  return 0\n}\n\nBuffer.isEncoding = function isEncoding (encoding) {\n  switch (String(encoding).toLowerCase()) {\n    case 'hex':\n    case 'utf8':\n    case 'utf-8':\n    case 'ascii':\n    case 'latin1':\n    case 'binary':\n    case 'base64':\n    case 'ucs2':\n    case 'ucs-2':\n    case 'utf16le':\n    case 'utf-16le':\n      return true\n    default:\n      return false\n  }\n}\n\nBuffer.concat = function concat (list, length) {\n  if (!isArray(list)) {\n    throw new TypeError('\"list\" argument must be an Array of Buffers')\n  }\n\n  if (list.length === 0) {\n    return Buffer.alloc(0)\n  }\n\n  var i\n  if (length === undefined) {\n    length = 0\n    for (i = 0; i < list.length; ++i) {\n      length += list[i].length\n    }\n  }\n\n  var buffer = Buffer.allocUnsafe(length)\n  var pos = 0\n  for (i = 0; i < list.length; ++i) {\n    var buf = list[i]\n    if (!Buffer.isBuffer(buf)) {\n      throw new TypeError('\"list\" argument must be an Array of Buffers')\n    }\n    buf.copy(buffer, pos)\n    pos += buf.length\n  }\n  return buffer\n}\n\nfunction byteLength (string, encoding) {\n  if (Buffer.isBuffer(string)) {\n    return string.length\n  }\n  if (typeof ArrayBuffer !== 'undefined' && typeof ArrayBuffer.isView === 'function' &&\n      (ArrayBuffer.isView(string) || string instanceof ArrayBuffer)) {\n    return string.byteLength\n  }\n  if (typeof string !== 'string') {\n    string = '' + string\n  }\n\n  var len = string.length\n  if (len === 0) return 0\n\n  // Use a for loop to avoid recursion\n  var loweredCase = false\n  for (;;) {\n    switch (encoding) {\n      case 'ascii':\n      case 'latin1':\n      case 'binary':\n        return len\n      case 'utf8':\n      case 'utf-8':\n      case undefined:\n        return utf8ToBytes(string).length\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return len * 2\n      case 'hex':\n        return len >>> 1\n      case 'base64':\n        return base64ToBytes(string).length\n      default:\n        if (loweredCase) return utf8ToBytes(string).length // assume utf8\n        encoding = ('' + encoding).toLowerCase()\n        loweredCase = true\n    }\n  }\n}\nBuffer.byteLength = byteLength\n\nfunction slowToString (encoding, start, end) {\n  var loweredCase = false\n\n  // No need to verify that \"this.length <= MAX_UINT32\" since it's a read-only\n  // property of a typed array.\n\n  // This behaves neither like String nor Uint8Array in that we set start/end\n  // to their upper/lower bounds if the value passed is out of range.\n  // undefined is handled specially as per ECMA-262 6th Edition,\n  // Section 13.3.3.7 Runtime Semantics: KeyedBindingInitialization.\n  if (start === undefined || start < 0) {\n    start = 0\n  }\n  // Return early if start > this.length. Done here to prevent potential uint32\n  // coercion fail below.\n  if (start > this.length) {\n    return ''\n  }\n\n  if (end === undefined || end > this.length) {\n    end = this.length\n  }\n\n  if (end <= 0) {\n    return ''\n  }\n\n  // Force coersion to uint32. This will also coerce falsey/NaN values to 0.\n  end >>>= 0\n  start >>>= 0\n\n  if (end <= start) {\n    return ''\n  }\n\n  if (!encoding) encoding = 'utf8'\n\n  while (true) {\n    switch (encoding) {\n      case 'hex':\n        return hexSlice(this, start, end)\n\n      case 'utf8':\n      case 'utf-8':\n        return utf8Slice(this, start, end)\n\n      case 'ascii':\n        return asciiSlice(this, start, end)\n\n      case 'latin1':\n      case 'binary':\n        return latin1Slice(this, start, end)\n\n      case 'base64':\n        return base64Slice(this, start, end)\n\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return utf16leSlice(this, start, end)\n\n      default:\n        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)\n        encoding = (encoding + '').toLowerCase()\n        loweredCase = true\n    }\n  }\n}\n\n// The property is used by `Buffer.isBuffer` and `is-buffer` (in Safari 5-7) to detect\n// Buffer instances.\nBuffer.prototype._isBuffer = true\n\nfunction swap (b, n, m) {\n  var i = b[n]\n  b[n] = b[m]\n  b[m] = i\n}\n\nBuffer.prototype.swap16 = function swap16 () {\n  var len = this.length\n  if (len % 2 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 16-bits')\n  }\n  for (var i = 0; i < len; i += 2) {\n    swap(this, i, i + 1)\n  }\n  return this\n}\n\nBuffer.prototype.swap32 = function swap32 () {\n  var len = this.length\n  if (len % 4 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 32-bits')\n  }\n  for (var i = 0; i < len; i += 4) {\n    swap(this, i, i + 3)\n    swap(this, i + 1, i + 2)\n  }\n  return this\n}\n\nBuffer.prototype.swap64 = function swap64 () {\n  var len = this.length\n  if (len % 8 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 64-bits')\n  }\n  for (var i = 0; i < len; i += 8) {\n    swap(this, i, i + 7)\n    swap(this, i + 1, i + 6)\n    swap(this, i + 2, i + 5)\n    swap(this, i + 3, i + 4)\n  }\n  return this\n}\n\nBuffer.prototype.toString = function toString () {\n  var length = this.length | 0\n  if (length === 0) return ''\n  if (arguments.length === 0) return utf8Slice(this, 0, length)\n  return slowToString.apply(this, arguments)\n}\n\nBuffer.prototype.equals = function equals (b) {\n  if (!Buffer.isBuffer(b)) throw new TypeError('Argument must be a Buffer')\n  if (this === b) return true\n  return Buffer.compare(this, b) === 0\n}\n\nBuffer.prototype.inspect = function inspect () {\n  var str = ''\n  var max = exports.INSPECT_MAX_BYTES\n  if (this.length > 0) {\n    str = this.toString('hex', 0, max).match(/.{2}/g).join(' ')\n    if (this.length > max) str += ' ... '\n  }\n  return '<Buffer ' + str + '>'\n}\n\nBuffer.prototype.compare = function compare (target, start, end, thisStart, thisEnd) {\n  if (!Buffer.isBuffer(target)) {\n    throw new TypeError('Argument must be a Buffer')\n  }\n\n  if (start === undefined) {\n    start = 0\n  }\n  if (end === undefined) {\n    end = target ? target.length : 0\n  }\n  if (thisStart === undefined) {\n    thisStart = 0\n  }\n  if (thisEnd === undefined) {\n    thisEnd = this.length\n  }\n\n  if (start < 0 || end > target.length || thisStart < 0 || thisEnd > this.length) {\n    throw new RangeError('out of range index')\n  }\n\n  if (thisStart >= thisEnd && start >= end) {\n    return 0\n  }\n  if (thisStart >= thisEnd) {\n    return -1\n  }\n  if (start >= end) {\n    return 1\n  }\n\n  start >>>= 0\n  end >>>= 0\n  thisStart >>>= 0\n  thisEnd >>>= 0\n\n  if (this === target) return 0\n\n  var x = thisEnd - thisStart\n  var y = end - start\n  var len = Math.min(x, y)\n\n  var thisCopy = this.slice(thisStart, thisEnd)\n  var targetCopy = target.slice(start, end)\n\n  for (var i = 0; i < len; ++i) {\n    if (thisCopy[i] !== targetCopy[i]) {\n      x = thisCopy[i]\n      y = targetCopy[i]\n      break\n    }\n  }\n\n  if (x < y) return -1\n  if (y < x) return 1\n  return 0\n}\n\n// Finds either the first index of `val` in `buffer` at offset >= `byteOffset`,\n// OR the last index of `val` in `buffer` at offset <= `byteOffset`.\n//\n// Arguments:\n// - buffer - a Buffer to search\n// - val - a string, Buffer, or number\n// - byteOffset - an index into `buffer`; will be clamped to an int32\n// - encoding - an optional encoding, relevant is val is a string\n// - dir - true for indexOf, false for lastIndexOf\nfunction bidirectionalIndexOf (buffer, val, byteOffset, encoding, dir) {\n  // Empty buffer means no match\n  if (buffer.length === 0) return -1\n\n  // Normalize byteOffset\n  if (typeof byteOffset === 'string') {\n    encoding = byteOffset\n    byteOffset = 0\n  } else if (byteOffset > 0x7fffffff) {\n    byteOffset = 0x7fffffff\n  } else if (byteOffset < -0x80000000) {\n    byteOffset = -0x80000000\n  }\n  byteOffset = +byteOffset  // Coerce to Number.\n  if (isNaN(byteOffset)) {\n    // byteOffset: it it's undefined, null, NaN, \"foo\", etc, search whole buffer\n    byteOffset = dir ? 0 : (buffer.length - 1)\n  }\n\n  // Normalize byteOffset: negative offsets start from the end of the buffer\n  if (byteOffset < 0) byteOffset = buffer.length + byteOffset\n  if (byteOffset >= buffer.length) {\n    if (dir) return -1\n    else byteOffset = buffer.length - 1\n  } else if (byteOffset < 0) {\n    if (dir) byteOffset = 0\n    else return -1\n  }\n\n  // Normalize val\n  if (typeof val === 'string') {\n    val = Buffer.from(val, encoding)\n  }\n\n  // Finally, search either indexOf (if dir is true) or lastIndexOf\n  if (Buffer.isBuffer(val)) {\n    // Special case: looking for empty string/buffer always fails\n    if (val.length === 0) {\n      return -1\n    }\n    return arrayIndexOf(buffer, val, byteOffset, encoding, dir)\n  } else if (typeof val === 'number') {\n    val = val & 0xFF // Search for a byte value [0-255]\n    if (Buffer.TYPED_ARRAY_SUPPORT &&\n        typeof Uint8Array.prototype.indexOf === 'function') {\n      if (dir) {\n        return Uint8Array.prototype.indexOf.call(buffer, val, byteOffset)\n      } else {\n        return Uint8Array.prototype.lastIndexOf.call(buffer, val, byteOffset)\n      }\n    }\n    return arrayIndexOf(buffer, [ val ], byteOffset, encoding, dir)\n  }\n\n  throw new TypeError('val must be string, number or Buffer')\n}\n\nfunction arrayIndexOf (arr, val, byteOffset, encoding, dir) {\n  var indexSize = 1\n  var arrLength = arr.length\n  var valLength = val.length\n\n  if (encoding !== undefined) {\n    encoding = String(encoding).toLowerCase()\n    if (encoding === 'ucs2' || encoding === 'ucs-2' ||\n        encoding === 'utf16le' || encoding === 'utf-16le') {\n      if (arr.length < 2 || val.length < 2) {\n        return -1\n      }\n      indexSize = 2\n      arrLength /= 2\n      valLength /= 2\n      byteOffset /= 2\n    }\n  }\n\n  function read (buf, i) {\n    if (indexSize === 1) {\n      return buf[i]\n    } else {\n      return buf.readUInt16BE(i * indexSize)\n    }\n  }\n\n  var i\n  if (dir) {\n    var foundIndex = -1\n    for (i = byteOffset; i < arrLength; i++) {\n      if (read(arr, i) === read(val, foundIndex === -1 ? 0 : i - foundIndex)) {\n        if (foundIndex === -1) foundIndex = i\n        if (i - foundIndex + 1 === valLength) return foundIndex * indexSize\n      } else {\n        if (foundIndex !== -1) i -= i - foundIndex\n        foundIndex = -1\n      }\n    }\n  } else {\n    if (byteOffset + valLength > arrLength) byteOffset = arrLength - valLength\n    for (i = byteOffset; i >= 0; i--) {\n      var found = true\n      for (var j = 0; j < valLength; j++) {\n        if (read(arr, i + j) !== read(val, j)) {\n          found = false\n          break\n        }\n      }\n      if (found) return i\n    }\n  }\n\n  return -1\n}\n\nBuffer.prototype.includes = function includes (val, byteOffset, encoding) {\n  return this.indexOf(val, byteOffset, encoding) !== -1\n}\n\nBuffer.prototype.indexOf = function indexOf (val, byteOffset, encoding) {\n  return bidirectionalIndexOf(this, val, byteOffset, encoding, true)\n}\n\nBuffer.prototype.lastIndexOf = function lastIndexOf (val, byteOffset, encoding) {\n  return bidirectionalIndexOf(this, val, byteOffset, encoding, false)\n}\n\nfunction hexWrite (buf, string, offset, length) {\n  offset = Number(offset) || 0\n  var remaining = buf.length - offset\n  if (!length) {\n    length = remaining\n  } else {\n    length = Number(length)\n    if (length > remaining) {\n      length = remaining\n    }\n  }\n\n  // must be an even number of digits\n  var strLen = string.length\n  if (strLen % 2 !== 0) throw new TypeError('Invalid hex string')\n\n  if (length > strLen / 2) {\n    length = strLen / 2\n  }\n  for (var i = 0; i < length; ++i) {\n    var parsed = parseInt(string.substr(i * 2, 2), 16)\n    if (isNaN(parsed)) return i\n    buf[offset + i] = parsed\n  }\n  return i\n}\n\nfunction utf8Write (buf, string, offset, length) {\n  return blitBuffer(utf8ToBytes(string, buf.length - offset), buf, offset, length)\n}\n\nfunction asciiWrite (buf, string, offset, length) {\n  return blitBuffer(asciiToBytes(string), buf, offset, length)\n}\n\nfunction latin1Write (buf, string, offset, length) {\n  return asciiWrite(buf, string, offset, length)\n}\n\nfunction base64Write (buf, string, offset, length) {\n  return blitBuffer(base64ToBytes(string), buf, offset, length)\n}\n\nfunction ucs2Write (buf, string, offset, length) {\n  return blitBuffer(utf16leToBytes(string, buf.length - offset), buf, offset, length)\n}\n\nBuffer.prototype.write = function write (string, offset, length, encoding) {\n  // Buffer#write(string)\n  if (offset === undefined) {\n    encoding = 'utf8'\n    length = this.length\n    offset = 0\n  // Buffer#write(string, encoding)\n  } else if (length === undefined && typeof offset === 'string') {\n    encoding = offset\n    length = this.length\n    offset = 0\n  // Buffer#write(string, offset[, length][, encoding])\n  } else if (isFinite(offset)) {\n    offset = offset | 0\n    if (isFinite(length)) {\n      length = length | 0\n      if (encoding === undefined) encoding = 'utf8'\n    } else {\n      encoding = length\n      length = undefined\n    }\n  // legacy write(string, encoding, offset, length) - remove in v0.13\n  } else {\n    throw new Error(\n      'Buffer.write(string, encoding, offset[, length]) is no longer supported'\n    )\n  }\n\n  var remaining = this.length - offset\n  if (length === undefined || length > remaining) length = remaining\n\n  if ((string.length > 0 && (length < 0 || offset < 0)) || offset > this.length) {\n    throw new RangeError('Attempt to write outside buffer bounds')\n  }\n\n  if (!encoding) encoding = 'utf8'\n\n  var loweredCase = false\n  for (;;) {\n    switch (encoding) {\n      case 'hex':\n        return hexWrite(this, string, offset, length)\n\n      case 'utf8':\n      case 'utf-8':\n        return utf8Write(this, string, offset, length)\n\n      case 'ascii':\n        return asciiWrite(this, string, offset, length)\n\n      case 'latin1':\n      case 'binary':\n        return latin1Write(this, string, offset, length)\n\n      case 'base64':\n        // Warning: maxLength not taken into account in base64Write\n        return base64Write(this, string, offset, length)\n\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return ucs2Write(this, string, offset, length)\n\n      default:\n        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)\n        encoding = ('' + encoding).toLowerCase()\n        loweredCase = true\n    }\n  }\n}\n\nBuffer.prototype.toJSON = function toJSON () {\n  return {\n    type: 'Buffer',\n    data: Array.prototype.slice.call(this._arr || this, 0)\n  }\n}\n\nfunction base64Slice (buf, start, end) {\n  if (start === 0 && end === buf.length) {\n    return base64.fromByteArray(buf)\n  } else {\n    return base64.fromByteArray(buf.slice(start, end))\n  }\n}\n\nfunction utf8Slice (buf, start, end) {\n  end = Math.min(buf.length, end)\n  var res = []\n\n  var i = start\n  while (i < end) {\n    var firstByte = buf[i]\n    var codePoint = null\n    var bytesPerSequence = (firstByte > 0xEF) ? 4\n      : (firstByte > 0xDF) ? 3\n      : (firstByte > 0xBF) ? 2\n      : 1\n\n    if (i + bytesPerSequence <= end) {\n      var secondByte, thirdByte, fourthByte, tempCodePoint\n\n      switch (bytesPerSequence) {\n        case 1:\n          if (firstByte < 0x80) {\n            codePoint = firstByte\n          }\n          break\n        case 2:\n          secondByte = buf[i + 1]\n          if ((secondByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0x1F) << 0x6 | (secondByte & 0x3F)\n            if (tempCodePoint > 0x7F) {\n              codePoint = tempCodePoint\n            }\n          }\n          break\n        case 3:\n          secondByte = buf[i + 1]\n          thirdByte = buf[i + 2]\n          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0xF) << 0xC | (secondByte & 0x3F) << 0x6 | (thirdByte & 0x3F)\n            if (tempCodePoint > 0x7FF && (tempCodePoint < 0xD800 || tempCodePoint > 0xDFFF)) {\n              codePoint = tempCodePoint\n            }\n          }\n          break\n        case 4:\n          secondByte = buf[i + 1]\n          thirdByte = buf[i + 2]\n          fourthByte = buf[i + 3]\n          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80 && (fourthByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0xF) << 0x12 | (secondByte & 0x3F) << 0xC | (thirdByte & 0x3F) << 0x6 | (fourthByte & 0x3F)\n            if (tempCodePoint > 0xFFFF && tempCodePoint < 0x110000) {\n              codePoint = tempCodePoint\n            }\n          }\n      }\n    }\n\n    if (codePoint === null) {\n      // we did not generate a valid codePoint so insert a\n      // replacement char (U+FFFD) and advance only 1 byte\n      codePoint = 0xFFFD\n      bytesPerSequence = 1\n    } else if (codePoint > 0xFFFF) {\n      // encode to utf16 (surrogate pair dance)\n      codePoint -= 0x10000\n      res.push(codePoint >>> 10 & 0x3FF | 0xD800)\n      codePoint = 0xDC00 | codePoint & 0x3FF\n    }\n\n    res.push(codePoint)\n    i += bytesPerSequence\n  }\n\n  return decodeCodePointsArray(res)\n}\n\n// Based on http://stackoverflow.com/a/22747272/680742, the browser with\n// the lowest limit is Chrome, with 0x10000 args.\n// We go 1 magnitude less, for safety\nvar MAX_ARGUMENTS_LENGTH = 0x1000\n\nfunction decodeCodePointsArray (codePoints) {\n  var len = codePoints.length\n  if (len <= MAX_ARGUMENTS_LENGTH) {\n    return String.fromCharCode.apply(String, codePoints) // avoid extra slice()\n  }\n\n  // Decode in chunks to avoid \"call stack size exceeded\".\n  var res = ''\n  var i = 0\n  while (i < len) {\n    res += String.fromCharCode.apply(\n      String,\n      codePoints.slice(i, i += MAX_ARGUMENTS_LENGTH)\n    )\n  }\n  return res\n}\n\nfunction asciiSlice (buf, start, end) {\n  var ret = ''\n  end = Math.min(buf.length, end)\n\n  for (var i = start; i < end; ++i) {\n    ret += String.fromCharCode(buf[i] & 0x7F)\n  }\n  return ret\n}\n\nfunction latin1Slice (buf, start, end) {\n  var ret = ''\n  end = Math.min(buf.length, end)\n\n  for (var i = start; i < end; ++i) {\n    ret += String.fromCharCode(buf[i])\n  }\n  return ret\n}\n\nfunction hexSlice (buf, start, end) {\n  var len = buf.length\n\n  if (!start || start < 0) start = 0\n  if (!end || end < 0 || end > len) end = len\n\n  var out = ''\n  for (var i = start; i < end; ++i) {\n    out += toHex(buf[i])\n  }\n  return out\n}\n\nfunction utf16leSlice (buf, start, end) {\n  var bytes = buf.slice(start, end)\n  var res = ''\n  for (var i = 0; i < bytes.length; i += 2) {\n    res += String.fromCharCode(bytes[i] + bytes[i + 1] * 256)\n  }\n  return res\n}\n\nBuffer.prototype.slice = function slice (start, end) {\n  var len = this.length\n  start = ~~start\n  end = end === undefined ? len : ~~end\n\n  if (start < 0) {\n    start += len\n    if (start < 0) start = 0\n  } else if (start > len) {\n    start = len\n  }\n\n  if (end < 0) {\n    end += len\n    if (end < 0) end = 0\n  } else if (end > len) {\n    end = len\n  }\n\n  if (end < start) end = start\n\n  var newBuf\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    newBuf = this.subarray(start, end)\n    newBuf.__proto__ = Buffer.prototype\n  } else {\n    var sliceLen = end - start\n    newBuf = new Buffer(sliceLen, undefined)\n    for (var i = 0; i < sliceLen; ++i) {\n      newBuf[i] = this[i + start]\n    }\n  }\n\n  return newBuf\n}\n\n/*\n * Need to make sure that buffer isn't trying to write out of bounds.\n */\nfunction checkOffset (offset, ext, length) {\n  if ((offset % 1) !== 0 || offset < 0) throw new RangeError('offset is not uint')\n  if (offset + ext > length) throw new RangeError('Trying to access beyond buffer length')\n}\n\nBuffer.prototype.readUIntLE = function readUIntLE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var val = this[offset]\n  var mul = 1\n  var i = 0\n  while (++i < byteLength && (mul *= 0x100)) {\n    val += this[offset + i] * mul\n  }\n\n  return val\n}\n\nBuffer.prototype.readUIntBE = function readUIntBE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) {\n    checkOffset(offset, byteLength, this.length)\n  }\n\n  var val = this[offset + --byteLength]\n  var mul = 1\n  while (byteLength > 0 && (mul *= 0x100)) {\n    val += this[offset + --byteLength] * mul\n  }\n\n  return val\n}\n\nBuffer.prototype.readUInt8 = function readUInt8 (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 1, this.length)\n  return this[offset]\n}\n\nBuffer.prototype.readUInt16LE = function readUInt16LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  return this[offset] | (this[offset + 1] << 8)\n}\n\nBuffer.prototype.readUInt16BE = function readUInt16BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  return (this[offset] << 8) | this[offset + 1]\n}\n\nBuffer.prototype.readUInt32LE = function readUInt32LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return ((this[offset]) |\n      (this[offset + 1] << 8) |\n      (this[offset + 2] << 16)) +\n      (this[offset + 3] * 0x1000000)\n}\n\nBuffer.prototype.readUInt32BE = function readUInt32BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset] * 0x1000000) +\n    ((this[offset + 1] << 16) |\n    (this[offset + 2] << 8) |\n    this[offset + 3])\n}\n\nBuffer.prototype.readIntLE = function readIntLE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var val = this[offset]\n  var mul = 1\n  var i = 0\n  while (++i < byteLength && (mul *= 0x100)) {\n    val += this[offset + i] * mul\n  }\n  mul *= 0x80\n\n  if (val >= mul) val -= Math.pow(2, 8 * byteLength)\n\n  return val\n}\n\nBuffer.prototype.readIntBE = function readIntBE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var i = byteLength\n  var mul = 1\n  var val = this[offset + --i]\n  while (i > 0 && (mul *= 0x100)) {\n    val += this[offset + --i] * mul\n  }\n  mul *= 0x80\n\n  if (val >= mul) val -= Math.pow(2, 8 * byteLength)\n\n  return val\n}\n\nBuffer.prototype.readInt8 = function readInt8 (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 1, this.length)\n  if (!(this[offset] & 0x80)) return (this[offset])\n  return ((0xff - this[offset] + 1) * -1)\n}\n\nBuffer.prototype.readInt16LE = function readInt16LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  var val = this[offset] | (this[offset + 1] << 8)\n  return (val & 0x8000) ? val | 0xFFFF0000 : val\n}\n\nBuffer.prototype.readInt16BE = function readInt16BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  var val = this[offset + 1] | (this[offset] << 8)\n  return (val & 0x8000) ? val | 0xFFFF0000 : val\n}\n\nBuffer.prototype.readInt32LE = function readInt32LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset]) |\n    (this[offset + 1] << 8) |\n    (this[offset + 2] << 16) |\n    (this[offset + 3] << 24)\n}\n\nBuffer.prototype.readInt32BE = function readInt32BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset] << 24) |\n    (this[offset + 1] << 16) |\n    (this[offset + 2] << 8) |\n    (this[offset + 3])\n}\n\nBuffer.prototype.readFloatLE = function readFloatLE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n  return ieee754.read(this, offset, true, 23, 4)\n}\n\nBuffer.prototype.readFloatBE = function readFloatBE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n  return ieee754.read(this, offset, false, 23, 4)\n}\n\nBuffer.prototype.readDoubleLE = function readDoubleLE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 8, this.length)\n  return ieee754.read(this, offset, true, 52, 8)\n}\n\nBuffer.prototype.readDoubleBE = function readDoubleBE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 8, this.length)\n  return ieee754.read(this, offset, false, 52, 8)\n}\n\nfunction checkInt (buf, value, offset, ext, max, min) {\n  if (!Buffer.isBuffer(buf)) throw new TypeError('\"buffer\" argument must be a Buffer instance')\n  if (value > max || value < min) throw new RangeError('\"value\" argument is out of bounds')\n  if (offset + ext > buf.length) throw new RangeError('Index out of range')\n}\n\nBuffer.prototype.writeUIntLE = function writeUIntLE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) {\n    var maxBytes = Math.pow(2, 8 * byteLength) - 1\n    checkInt(this, value, offset, byteLength, maxBytes, 0)\n  }\n\n  var mul = 1\n  var i = 0\n  this[offset] = value & 0xFF\n  while (++i < byteLength && (mul *= 0x100)) {\n    this[offset + i] = (value / mul) & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeUIntBE = function writeUIntBE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) {\n    var maxBytes = Math.pow(2, 8 * byteLength) - 1\n    checkInt(this, value, offset, byteLength, maxBytes, 0)\n  }\n\n  var i = byteLength - 1\n  var mul = 1\n  this[offset + i] = value & 0xFF\n  while (--i >= 0 && (mul *= 0x100)) {\n    this[offset + i] = (value / mul) & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeUInt8 = function writeUInt8 (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 1, 0xff, 0)\n  if (!Buffer.TYPED_ARRAY_SUPPORT) value = Math.floor(value)\n  this[offset] = (value & 0xff)\n  return offset + 1\n}\n\nfunction objectWriteUInt16 (buf, value, offset, littleEndian) {\n  if (value < 0) value = 0xffff + value + 1\n  for (var i = 0, j = Math.min(buf.length - offset, 2); i < j; ++i) {\n    buf[offset + i] = (value & (0xff << (8 * (littleEndian ? i : 1 - i)))) >>>\n      (littleEndian ? i : 1 - i) * 8\n  }\n}\n\nBuffer.prototype.writeUInt16LE = function writeUInt16LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value & 0xff)\n    this[offset + 1] = (value >>> 8)\n  } else {\n    objectWriteUInt16(this, value, offset, true)\n  }\n  return offset + 2\n}\n\nBuffer.prototype.writeUInt16BE = function writeUInt16BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 8)\n    this[offset + 1] = (value & 0xff)\n  } else {\n    objectWriteUInt16(this, value, offset, false)\n  }\n  return offset + 2\n}\n\nfunction objectWriteUInt32 (buf, value, offset, littleEndian) {\n  if (value < 0) value = 0xffffffff + value + 1\n  for (var i = 0, j = Math.min(buf.length - offset, 4); i < j; ++i) {\n    buf[offset + i] = (value >>> (littleEndian ? i : 3 - i) * 8) & 0xff\n  }\n}\n\nBuffer.prototype.writeUInt32LE = function writeUInt32LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset + 3] = (value >>> 24)\n    this[offset + 2] = (value >>> 16)\n    this[offset + 1] = (value >>> 8)\n    this[offset] = (value & 0xff)\n  } else {\n    objectWriteUInt32(this, value, offset, true)\n  }\n  return offset + 4\n}\n\nBuffer.prototype.writeUInt32BE = function writeUInt32BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 24)\n    this[offset + 1] = (value >>> 16)\n    this[offset + 2] = (value >>> 8)\n    this[offset + 3] = (value & 0xff)\n  } else {\n    objectWriteUInt32(this, value, offset, false)\n  }\n  return offset + 4\n}\n\nBuffer.prototype.writeIntLE = function writeIntLE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) {\n    var limit = Math.pow(2, 8 * byteLength - 1)\n\n    checkInt(this, value, offset, byteLength, limit - 1, -limit)\n  }\n\n  var i = 0\n  var mul = 1\n  var sub = 0\n  this[offset] = value & 0xFF\n  while (++i < byteLength && (mul *= 0x100)) {\n    if (value < 0 && sub === 0 && this[offset + i - 1] !== 0) {\n      sub = 1\n    }\n    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeIntBE = function writeIntBE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) {\n    var limit = Math.pow(2, 8 * byteLength - 1)\n\n    checkInt(this, value, offset, byteLength, limit - 1, -limit)\n  }\n\n  var i = byteLength - 1\n  var mul = 1\n  var sub = 0\n  this[offset + i] = value & 0xFF\n  while (--i >= 0 && (mul *= 0x100)) {\n    if (value < 0 && sub === 0 && this[offset + i + 1] !== 0) {\n      sub = 1\n    }\n    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeInt8 = function writeInt8 (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 1, 0x7f, -0x80)\n  if (!Buffer.TYPED_ARRAY_SUPPORT) value = Math.floor(value)\n  if (value < 0) value = 0xff + value + 1\n  this[offset] = (value & 0xff)\n  return offset + 1\n}\n\nBuffer.prototype.writeInt16LE = function writeInt16LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value & 0xff)\n    this[offset + 1] = (value >>> 8)\n  } else {\n    objectWriteUInt16(this, value, offset, true)\n  }\n  return offset + 2\n}\n\nBuffer.prototype.writeInt16BE = function writeInt16BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 8)\n    this[offset + 1] = (value & 0xff)\n  } else {\n    objectWriteUInt16(this, value, offset, false)\n  }\n  return offset + 2\n}\n\nBuffer.prototype.writeInt32LE = function writeInt32LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value & 0xff)\n    this[offset + 1] = (value >>> 8)\n    this[offset + 2] = (value >>> 16)\n    this[offset + 3] = (value >>> 24)\n  } else {\n    objectWriteUInt32(this, value, offset, true)\n  }\n  return offset + 4\n}\n\nBuffer.prototype.writeInt32BE = function writeInt32BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)\n  if (value < 0) value = 0xffffffff + value + 1\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 24)\n    this[offset + 1] = (value >>> 16)\n    this[offset + 2] = (value >>> 8)\n    this[offset + 3] = (value & 0xff)\n  } else {\n    objectWriteUInt32(this, value, offset, false)\n  }\n  return offset + 4\n}\n\nfunction checkIEEE754 (buf, value, offset, ext, max, min) {\n  if (offset + ext > buf.length) throw new RangeError('Index out of range')\n  if (offset < 0) throw new RangeError('Index out of range')\n}\n\nfunction writeFloat (buf, value, offset, littleEndian, noAssert) {\n  if (!noAssert) {\n    checkIEEE754(buf, value, offset, 4, 3.4028234663852886e+38, -3.4028234663852886e+38)\n  }\n  ieee754.write(buf, value, offset, littleEndian, 23, 4)\n  return offset + 4\n}\n\nBuffer.prototype.writeFloatLE = function writeFloatLE (value, offset, noAssert) {\n  return writeFloat(this, value, offset, true, noAssert)\n}\n\nBuffer.prototype.writeFloatBE = function writeFloatBE (value, offset, noAssert) {\n  return writeFloat(this, value, offset, false, noAssert)\n}\n\nfunction writeDouble (buf, value, offset, littleEndian, noAssert) {\n  if (!noAssert) {\n    checkIEEE754(buf, value, offset, 8, 1.7976931348623157E+308, -1.7976931348623157E+308)\n  }\n  ieee754.write(buf, value, offset, littleEndian, 52, 8)\n  return offset + 8\n}\n\nBuffer.prototype.writeDoubleLE = function writeDoubleLE (value, offset, noAssert) {\n  return writeDouble(this, value, offset, true, noAssert)\n}\n\nBuffer.prototype.writeDoubleBE = function writeDoubleBE (value, offset, noAssert) {\n  return writeDouble(this, value, offset, false, noAssert)\n}\n\n// copy(targetBuffer, targetStart=0, sourceStart=0, sourceEnd=buffer.length)\nBuffer.prototype.copy = function copy (target, targetStart, start, end) {\n  if (!start) start = 0\n  if (!end && end !== 0) end = this.length\n  if (targetStart >= target.length) targetStart = target.length\n  if (!targetStart) targetStart = 0\n  if (end > 0 && end < start) end = start\n\n  // Copy 0 bytes; we're done\n  if (end === start) return 0\n  if (target.length === 0 || this.length === 0) return 0\n\n  // Fatal error conditions\n  if (targetStart < 0) {\n    throw new RangeError('targetStart out of bounds')\n  }\n  if (start < 0 || start >= this.length) throw new RangeError('sourceStart out of bounds')\n  if (end < 0) throw new RangeError('sourceEnd out of bounds')\n\n  // Are we oob?\n  if (end > this.length) end = this.length\n  if (target.length - targetStart < end - start) {\n    end = target.length - targetStart + start\n  }\n\n  var len = end - start\n  var i\n\n  if (this === target && start < targetStart && targetStart < end) {\n    // descending copy from end\n    for (i = len - 1; i >= 0; --i) {\n      target[i + targetStart] = this[i + start]\n    }\n  } else if (len < 1000 || !Buffer.TYPED_ARRAY_SUPPORT) {\n    // ascending copy from start\n    for (i = 0; i < len; ++i) {\n      target[i + targetStart] = this[i + start]\n    }\n  } else {\n    Uint8Array.prototype.set.call(\n      target,\n      this.subarray(start, start + len),\n      targetStart\n    )\n  }\n\n  return len\n}\n\n// Usage:\n//    buffer.fill(number[, offset[, end]])\n//    buffer.fill(buffer[, offset[, end]])\n//    buffer.fill(string[, offset[, end]][, encoding])\nBuffer.prototype.fill = function fill (val, start, end, encoding) {\n  // Handle string cases:\n  if (typeof val === 'string') {\n    if (typeof start === 'string') {\n      encoding = start\n      start = 0\n      end = this.length\n    } else if (typeof end === 'string') {\n      encoding = end\n      end = this.length\n    }\n    if (val.length === 1) {\n      var code = val.charCodeAt(0)\n      if (code < 256) {\n        val = code\n      }\n    }\n    if (encoding !== undefined && typeof encoding !== 'string') {\n      throw new TypeError('encoding must be a string')\n    }\n    if (typeof encoding === 'string' && !Buffer.isEncoding(encoding)) {\n      throw new TypeError('Unknown encoding: ' + encoding)\n    }\n  } else if (typeof val === 'number') {\n    val = val & 255\n  }\n\n  // Invalid ranges are not set to a default, so can range check early.\n  if (start < 0 || this.length < start || this.length < end) {\n    throw new RangeError('Out of range index')\n  }\n\n  if (end <= start) {\n    return this\n  }\n\n  start = start >>> 0\n  end = end === undefined ? this.length : end >>> 0\n\n  if (!val) val = 0\n\n  var i\n  if (typeof val === 'number') {\n    for (i = start; i < end; ++i) {\n      this[i] = val\n    }\n  } else {\n    var bytes = Buffer.isBuffer(val)\n      ? val\n      : utf8ToBytes(new Buffer(val, encoding).toString())\n    var len = bytes.length\n    for (i = 0; i < end - start; ++i) {\n      this[i + start] = bytes[i % len]\n    }\n  }\n\n  return this\n}\n\n// HELPER FUNCTIONS\n// ================\n\nvar INVALID_BASE64_RE = /[^+\\/0-9A-Za-z-_]/g\n\nfunction base64clean (str) {\n  // Node strips out invalid characters like \\n and \\t from the string, base64-js does not\n  str = stringtrim(str).replace(INVALID_BASE64_RE, '')\n  // Node converts strings with length < 2 to ''\n  if (str.length < 2) return ''\n  // Node allows for non-padded base64 strings (missing trailing ===), base64-js does not\n  while (str.length % 4 !== 0) {\n    str = str + '='\n  }\n  return str\n}\n\nfunction stringtrim (str) {\n  if (str.trim) return str.trim()\n  return str.replace(/^\\s+|\\s+$/g, '')\n}\n\nfunction toHex (n) {\n  if (n < 16) return '0' + n.toString(16)\n  return n.toString(16)\n}\n\nfunction utf8ToBytes (string, units) {\n  units = units || Infinity\n  var codePoint\n  var length = string.length\n  var leadSurrogate = null\n  var bytes = []\n\n  for (var i = 0; i < length; ++i) {\n    codePoint = string.charCodeAt(i)\n\n    // is surrogate component\n    if (codePoint > 0xD7FF && codePoint < 0xE000) {\n      // last char was a lead\n      if (!leadSurrogate) {\n        // no lead yet\n        if (codePoint > 0xDBFF) {\n          // unexpected trail\n          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n          continue\n        } else if (i + 1 === length) {\n          // unpaired lead\n          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n          continue\n        }\n\n        // valid lead\n        leadSurrogate = codePoint\n\n        continue\n      }\n\n      // 2 leads in a row\n      if (codePoint < 0xDC00) {\n        if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n        leadSurrogate = codePoint\n        continue\n      }\n\n      // valid surrogate pair\n      codePoint = (leadSurrogate - 0xD800 << 10 | codePoint - 0xDC00) + 0x10000\n    } else if (leadSurrogate) {\n      // valid bmp char, but last char was a lead\n      if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n    }\n\n    leadSurrogate = null\n\n    // encode utf8\n    if (codePoint < 0x80) {\n      if ((units -= 1) < 0) break\n      bytes.push(codePoint)\n    } else if (codePoint < 0x800) {\n      if ((units -= 2) < 0) break\n      bytes.push(\n        codePoint >> 0x6 | 0xC0,\n        codePoint & 0x3F | 0x80\n      )\n    } else if (codePoint < 0x10000) {\n      if ((units -= 3) < 0) break\n      bytes.push(\n        codePoint >> 0xC | 0xE0,\n        codePoint >> 0x6 & 0x3F | 0x80,\n        codePoint & 0x3F | 0x80\n      )\n    } else if (codePoint < 0x110000) {\n      if ((units -= 4) < 0) break\n      bytes.push(\n        codePoint >> 0x12 | 0xF0,\n        codePoint >> 0xC & 0x3F | 0x80,\n        codePoint >> 0x6 & 0x3F | 0x80,\n        codePoint & 0x3F | 0x80\n      )\n    } else {\n      throw new Error('Invalid code point')\n    }\n  }\n\n  return bytes\n}\n\nfunction asciiToBytes (str) {\n  var byteArray = []\n  for (var i = 0; i < str.length; ++i) {\n    // Node's code seems to be doing this and not & 0x7F..\n    byteArray.push(str.charCodeAt(i) & 0xFF)\n  }\n  return byteArray\n}\n\nfunction utf16leToBytes (str, units) {\n  var c, hi, lo\n  var byteArray = []\n  for (var i = 0; i < str.length; ++i) {\n    if ((units -= 2) < 0) break\n\n    c = str.charCodeAt(i)\n    hi = c >> 8\n    lo = c % 256\n    byteArray.push(lo)\n    byteArray.push(hi)\n  }\n\n  return byteArray\n}\n\nfunction base64ToBytes (str) {\n  return base64.toByteArray(base64clean(str))\n}\n\nfunction blitBuffer (src, dst, offset, length) {\n  for (var i = 0; i < length; ++i) {\n    if ((i + offset >= dst.length) || (i >= src.length)) break\n    dst[i + offset] = src[i]\n  }\n  return i\n}\n\nfunction isnan (val) {\n  return val !== val // eslint-disable-line no-self-compare\n}\n","module.exports = !require('./_descriptors') && !require('./_fails')(function () {\n  return Object.defineProperty(require('./_dom-create')('div'), 'a', { get: function () { return 7; } }).a != 7;\n});\n","exports.f = require('./_wks');\n","var has = require('./_has');\nvar toIObject = require('./_to-iobject');\nvar arrayIndexOf = require('./_array-includes')(false);\nvar IE_PROTO = require('./_shared-key')('IE_PROTO');\n\nmodule.exports = function (object, names) {\n  var O = toIObject(object);\n  var i = 0;\n  var result = [];\n  var key;\n  for (key in O) if (key != IE_PROTO) has(O, key) && result.push(key);\n  // Don't enum bug & hidden keys\n  while (names.length > i) if (has(O, key = names[i++])) {\n    ~arrayIndexOf(result, key) || result.push(key);\n  }\n  return result;\n};\n","var dP = require('./_object-dp');\nvar anObject = require('./_an-object');\nvar getKeys = require('./_object-keys');\n\nmodule.exports = require('./_descriptors') ? Object.defineProperties : function defineProperties(O, Properties) {\n  anObject(O);\n  var keys = getKeys(Properties);\n  var length = keys.length;\n  var i = 0;\n  var P;\n  while (length > i) dP.f(O, P = keys[i++], Properties[P]);\n  return O;\n};\n","// fallback for IE11 buggy Object.getOwnPropertyNames with iframe and window\nvar toIObject = require('./_to-iobject');\nvar gOPN = require('./_object-gopn').f;\nvar toString = {}.toString;\n\nvar windowNames = typeof window == 'object' && window && Object.getOwnPropertyNames\n  ? Object.getOwnPropertyNames(window) : [];\n\nvar getWindowNames = function (it) {\n  try {\n    return gOPN(it);\n  } catch (e) {\n    return windowNames.slice();\n  }\n};\n\nmodule.exports.f = function getOwnPropertyNames(it) {\n  return windowNames && toString.call(it) == '[object Window]' ? getWindowNames(it) : gOPN(toIObject(it));\n};\n","'use strict';\n// 19.1.2.1 Object.assign(target, source, ...)\nvar DESCRIPTORS = require('./_descriptors');\nvar getKeys = require('./_object-keys');\nvar gOPS = require('./_object-gops');\nvar pIE = require('./_object-pie');\nvar toObject = require('./_to-object');\nvar IObject = require('./_iobject');\nvar $assign = Object.assign;\n\n// should work with symbols and should have deterministic property order (V8 bug)\nmodule.exports = !$assign || require('./_fails')(function () {\n  var A = {};\n  var B = {};\n  // eslint-disable-next-line no-undef\n  var S = Symbol();\n  var K = 'abcdefghijklmnopqrst';\n  A[S] = 7;\n  K.split('').forEach(function (k) { B[k] = k; });\n  return $assign({}, A)[S] != 7 || Object.keys($assign({}, B)).join('') != K;\n}) ? function assign(target, source) { // eslint-disable-line no-unused-vars\n  var T = toObject(target);\n  var aLen = arguments.length;\n  var index = 1;\n  var getSymbols = gOPS.f;\n  var isEnum = pIE.f;\n  while (aLen > index) {\n    var S = IObject(arguments[index++]);\n    var keys = getSymbols ? getKeys(S).concat(getSymbols(S)) : getKeys(S);\n    var length = keys.length;\n    var j = 0;\n    var key;\n    while (length > j) {\n      key = keys[j++];\n      if (!DESCRIPTORS || isEnum.call(S, key)) T[key] = S[key];\n    }\n  } return T;\n} : $assign;\n","// 7.2.9 SameValue(x, y)\nmodule.exports = Object.is || function is(x, y) {\n  // eslint-disable-next-line no-self-compare\n  return x === y ? x !== 0 || 1 / x === 1 / y : x != x && y != y;\n};\n","'use strict';\nvar aFunction = require('./_a-function');\nvar isObject = require('./_is-object');\nvar invoke = require('./_invoke');\nvar arraySlice = [].slice;\nvar factories = {};\n\nvar construct = function (F, len, args) {\n  if (!(len in factories)) {\n    for (var n = [], i = 0; i < len; i++) n[i] = 'a[' + i + ']';\n    // eslint-disable-next-line no-new-func\n    factories[len] = Function('F,a', 'return new F(' + n.join(',') + ')');\n  } return factories[len](F, args);\n};\n\nmodule.exports = Function.bind || function bind(that /* , ...args */) {\n  var fn = aFunction(this);\n  var partArgs = arraySlice.call(arguments, 1);\n  var bound = function (/* args... */) {\n    var args = partArgs.concat(arraySlice.call(arguments));\n    return this instanceof bound ? construct(fn, args.length, args) : invoke(fn, args, that);\n  };\n  if (isObject(fn.prototype)) bound.prototype = fn.prototype;\n  return bound;\n};\n","// fast apply, http://jsperf.lnkit.com/fast-apply/5\nmodule.exports = function (fn, args, that) {\n  var un = that === undefined;\n  switch (args.length) {\n    case 0: return un ? fn()\n                      : fn.call(that);\n    case 1: return un ? fn(args[0])\n                      : fn.call(that, args[0]);\n    case 2: return un ? fn(args[0], args[1])\n                      : fn.call(that, args[0], args[1]);\n    case 3: return un ? fn(args[0], args[1], args[2])\n                      : fn.call(that, args[0], args[1], args[2]);\n    case 4: return un ? fn(args[0], args[1], args[2], args[3])\n                      : fn.call(that, args[0], args[1], args[2], args[3]);\n  } return fn.apply(that, args);\n};\n","var $parseInt = require('./_global').parseInt;\nvar $trim = require('./_string-trim').trim;\nvar ws = require('./_string-ws');\nvar hex = /^[-+]?0[xX]/;\n\nmodule.exports = $parseInt(ws + '08') !== 8 || $parseInt(ws + '0x16') !== 22 ? function parseInt(str, radix) {\n  var string = $trim(String(str), 3);\n  return $parseInt(string, (radix >>> 0) || (hex.test(string) ? 16 : 10));\n} : $parseInt;\n","var $parseFloat = require('./_global').parseFloat;\nvar $trim = require('./_string-trim').trim;\n\nmodule.exports = 1 / $parseFloat(require('./_string-ws') + '-0') !== -Infinity ? function parseFloat(str) {\n  var string = $trim(String(str), 3);\n  var result = $parseFloat(string);\n  return result === 0 && string.charAt(0) == '-' ? -0 : result;\n} : $parseFloat;\n","var cof = require('./_cof');\nmodule.exports = function (it, msg) {\n  if (typeof it != 'number' && cof(it) != 'Number') throw TypeError(msg);\n  return +it;\n};\n","// 20.1.2.3 Number.isInteger(number)\nvar isObject = require('./_is-object');\nvar floor = Math.floor;\nmodule.exports = function isInteger(it) {\n  return !isObject(it) && isFinite(it) && floor(it) === it;\n};\n","// 20.2.2.20 Math.log1p(x)\nmodule.exports = Math.log1p || function log1p(x) {\n  return (x = +x) > -1e-8 && x < 1e-8 ? x - x * x / 2 : Math.log(1 + x);\n};\n","// 20.2.2.16 Math.fround(x)\nvar sign = require('./_math-sign');\nvar pow = Math.pow;\nvar EPSILON = pow(2, -52);\nvar EPSILON32 = pow(2, -23);\nvar MAX32 = pow(2, 127) * (2 - EPSILON32);\nvar MIN32 = pow(2, -126);\n\nvar roundTiesToEven = function (n) {\n  return n + 1 / EPSILON - 1 / EPSILON;\n};\n\nmodule.exports = Math.fround || function fround(x) {\n  var $abs = Math.abs(x);\n  var $sign = sign(x);\n  var a, result;\n  if ($abs < MIN32) return $sign * roundTiesToEven($abs / MIN32 / EPSILON32) * MIN32 * EPSILON32;\n  a = (1 + EPSILON32 / EPSILON) * $abs;\n  result = a - (a - $abs);\n  // eslint-disable-next-line no-self-compare\n  if (result > MAX32 || result != result) return $sign * Infinity;\n  return $sign * result;\n};\n","// call something on iterator step with safe closing on error\nvar anObject = require('./_an-object');\nmodule.exports = function (iterator, fn, value, entries) {\n  try {\n    return entries ? fn(anObject(value)[0], value[1]) : fn(value);\n  // 7.4.6 IteratorClose(iterator, completion)\n  } catch (e) {\n    var ret = iterator['return'];\n    if (ret !== undefined) anObject(ret.call(iterator));\n    throw e;\n  }\n};\n","var aFunction = require('./_a-function');\nvar toObject = require('./_to-object');\nvar IObject = require('./_iobject');\nvar toLength = require('./_to-length');\n\nmodule.exports = function (that, callbackfn, aLen, memo, isRight) {\n  aFunction(callbackfn);\n  var O = toObject(that);\n  var self = IObject(O);\n  var length = toLength(O.length);\n  var index = isRight ? length - 1 : 0;\n  var i = isRight ? -1 : 1;\n  if (aLen < 2) for (;;) {\n    if (index in self) {\n      memo = self[index];\n      index += i;\n      break;\n    }\n    index += i;\n    if (isRight ? index < 0 : length <= index) {\n      throw TypeError('Reduce of empty array with no initial value');\n    }\n  }\n  for (;isRight ? index >= 0 : length > index; index += i) if (index in self) {\n    memo = callbackfn(memo, self[index], index, O);\n  }\n  return memo;\n};\n","// 22.1.3.3 Array.prototype.copyWithin(target, start, end = this.length)\n'use strict';\nvar toObject = require('./_to-object');\nvar toAbsoluteIndex = require('./_to-absolute-index');\nvar toLength = require('./_to-length');\n\nmodule.exports = [].copyWithin || function copyWithin(target /* = 0 */, start /* = 0, end = @length */) {\n  var O = toObject(this);\n  var len = toLength(O.length);\n  var to = toAbsoluteIndex(target, len);\n  var from = toAbsoluteIndex(start, len);\n  var end = arguments.length > 2 ? arguments[2] : undefined;\n  var count = Math.min((end === undefined ? len : toAbsoluteIndex(end, len)) - from, len - to);\n  var inc = 1;\n  if (from < to && to < from + count) {\n    inc = -1;\n    from += count - 1;\n    to += count - 1;\n  }\n  while (count-- > 0) {\n    if (from in O) O[to] = O[from];\n    else delete O[to];\n    to += inc;\n    from += inc;\n  } return O;\n};\n","module.exports = function (done, value) {\n  return { value: value, done: !!done };\n};\n","'use strict';\nvar regexpExec = require('./_regexp-exec');\nrequire('./_export')({\n  target: 'RegExp',\n  proto: true,\n  forced: regexpExec !== /./.exec\n}, {\n  exec: regexpExec\n});\n","// 21.2.5.3 get RegExp.prototype.flags()\nif (require('./_descriptors') && /./g.flags != 'g') require('./_object-dp').f(RegExp.prototype, 'flags', {\n  configurable: true,\n  get: require('./_flags')\n});\n","module.exports = function (exec) {\n  try {\n    return { e: false, v: exec() };\n  } catch (e) {\n    return { e: true, v: e };\n  }\n};\n","var anObject = require('./_an-object');\nvar isObject = require('./_is-object');\nvar newPromiseCapability = require('./_new-promise-capability');\n\nmodule.exports = function (C, x) {\n  anObject(C);\n  if (isObject(x) && x.constructor === C) return x;\n  var promiseCapability = newPromiseCapability.f(C);\n  var resolve = promiseCapability.resolve;\n  resolve(x);\n  return promiseCapability.promise;\n};\n","'use strict';\nvar strong = require('./_collection-strong');\nvar validate = require('./_validate-collection');\nvar MAP = 'Map';\n\n// 23.1 Map Objects\nmodule.exports = require('./_collection')(MAP, function (get) {\n  return function Map() { return get(this, arguments.length > 0 ? arguments[0] : undefined); };\n}, {\n  // 23.1.3.6 Map.prototype.get(key)\n  get: function get(key) {\n    var entry = strong.getEntry(validate(this, MAP), key);\n    return entry && entry.v;\n  },\n  // 23.1.3.9 Map.prototype.set(key, value)\n  set: function set(key, value) {\n    return strong.def(validate(this, MAP), key === 0 ? 0 : key, value);\n  }\n}, strong, true);\n","'use strict';\nvar dP = require('./_object-dp').f;\nvar create = require('./_object-create');\nvar redefineAll = require('./_redefine-all');\nvar ctx = require('./_ctx');\nvar anInstance = require('./_an-instance');\nvar forOf = require('./_for-of');\nvar $iterDefine = require('./_iter-define');\nvar step = require('./_iter-step');\nvar setSpecies = require('./_set-species');\nvar DESCRIPTORS = require('./_descriptors');\nvar fastKey = require('./_meta').fastKey;\nvar validate = require('./_validate-collection');\nvar SIZE = DESCRIPTORS ? '_s' : 'size';\n\nvar getEntry = function (that, key) {\n  // fast case\n  var index = fastKey(key);\n  var entry;\n  if (index !== 'F') return that._i[index];\n  // frozen object case\n  for (entry = that._f; entry; entry = entry.n) {\n    if (entry.k == key) return entry;\n  }\n};\n\nmodule.exports = {\n  getConstructor: function (wrapper, NAME, IS_MAP, ADDER) {\n    var C = wrapper(function (that, iterable) {\n      anInstance(that, C, NAME, '_i');\n      that._t = NAME;         // collection type\n      that._i = create(null); // index\n      that._f = undefined;    // first entry\n      that._l = undefined;    // last entry\n      that[SIZE] = 0;         // size\n      if (iterable != undefined) forOf(iterable, IS_MAP, that[ADDER], that);\n    });\n    redefineAll(C.prototype, {\n      // 23.1.3.1 Map.prototype.clear()\n      // 23.2.3.2 Set.prototype.clear()\n      clear: function clear() {\n        for (var that = validate(this, NAME), data = that._i, entry = that._f; entry; entry = entry.n) {\n          entry.r = true;\n          if (entry.p) entry.p = entry.p.n = undefined;\n          delete data[entry.i];\n        }\n        that._f = that._l = undefined;\n        that[SIZE] = 0;\n      },\n      // 23.1.3.3 Map.prototype.delete(key)\n      // 23.2.3.4 Set.prototype.delete(value)\n      'delete': function (key) {\n        var that = validate(this, NAME);\n        var entry = getEntry(that, key);\n        if (entry) {\n          var next = entry.n;\n          var prev = entry.p;\n          delete that._i[entry.i];\n          entry.r = true;\n          if (prev) prev.n = next;\n          if (next) next.p = prev;\n          if (that._f == entry) that._f = next;\n          if (that._l == entry) that._l = prev;\n          that[SIZE]--;\n        } return !!entry;\n      },\n      // 23.2.3.6 Set.prototype.forEach(callbackfn, thisArg = undefined)\n      // 23.1.3.5 Map.prototype.forEach(callbackfn, thisArg = undefined)\n      forEach: function forEach(callbackfn /* , that = undefined */) {\n        validate(this, NAME);\n        var f = ctx(callbackfn, arguments.length > 1 ? arguments[1] : undefined, 3);\n        var entry;\n        while (entry = entry ? entry.n : this._f) {\n          f(entry.v, entry.k, this);\n          // revert to the last existing entry\n          while (entry && entry.r) entry = entry.p;\n        }\n      },\n      // 23.1.3.7 Map.prototype.has(key)\n      // 23.2.3.7 Set.prototype.has(value)\n      has: function has(key) {\n        return !!getEntry(validate(this, NAME), key);\n      }\n    });\n    if (DESCRIPTORS) dP(C.prototype, 'size', {\n      get: function () {\n        return validate(this, NAME)[SIZE];\n      }\n    });\n    return C;\n  },\n  def: function (that, key, value) {\n    var entry = getEntry(that, key);\n    var prev, index;\n    // change existing entry\n    if (entry) {\n      entry.v = value;\n    // create new entry\n    } else {\n      that._l = entry = {\n        i: index = fastKey(key, true), // <- index\n        k: key,                        // <- key\n        v: value,                      // <- value\n        p: prev = that._l,             // <- previous entry\n        n: undefined,                  // <- next entry\n        r: false                       // <- removed\n      };\n      if (!that._f) that._f = entry;\n      if (prev) prev.n = entry;\n      that[SIZE]++;\n      // add to index\n      if (index !== 'F') that._i[index] = entry;\n    } return that;\n  },\n  getEntry: getEntry,\n  setStrong: function (C, NAME, IS_MAP) {\n    // add .keys, .values, .entries, [@@iterator]\n    // 23.1.3.4, 23.1.3.8, 23.1.3.11, 23.1.3.12, 23.2.3.5, 23.2.3.8, 23.2.3.10, 23.2.3.11\n    $iterDefine(C, NAME, function (iterated, kind) {\n      this._t = validate(iterated, NAME); // target\n      this._k = kind;                     // kind\n      this._l = undefined;                // previous\n    }, function () {\n      var that = this;\n      var kind = that._k;\n      var entry = that._l;\n      // revert to the last existing entry\n      while (entry && entry.r) entry = entry.p;\n      // get next entry\n      if (!that._t || !(that._l = entry = entry ? entry.n : that._t._f)) {\n        // or finish the iteration\n        that._t = undefined;\n        return step(1);\n      }\n      // return step by kind\n      if (kind == 'keys') return step(0, entry.k);\n      if (kind == 'values') return step(0, entry.v);\n      return step(0, [entry.k, entry.v]);\n    }, IS_MAP ? 'entries' : 'values', !IS_MAP, true);\n\n    // add [@@species], 23.1.2.2, 23.2.2.2\n    setSpecies(NAME);\n  }\n};\n","'use strict';\nvar strong = require('./_collection-strong');\nvar validate = require('./_validate-collection');\nvar SET = 'Set';\n\n// 23.2 Set Objects\nmodule.exports = require('./_collection')(SET, function (get) {\n  return function Set() { return get(this, arguments.length > 0 ? arguments[0] : undefined); };\n}, {\n  // 23.2.3.1 Set.prototype.add(value)\n  add: function add(value) {\n    return strong.def(validate(this, SET), value = value === 0 ? 0 : value, value);\n  }\n}, strong);\n","'use strict';\nvar global = require('./_global');\nvar each = require('./_array-methods')(0);\nvar redefine = require('./_redefine');\nvar meta = require('./_meta');\nvar assign = require('./_object-assign');\nvar weak = require('./_collection-weak');\nvar isObject = require('./_is-object');\nvar validate = require('./_validate-collection');\nvar NATIVE_WEAK_MAP = require('./_validate-collection');\nvar IS_IE11 = !global.ActiveXObject && 'ActiveXObject' in global;\nvar WEAK_MAP = 'WeakMap';\nvar getWeak = meta.getWeak;\nvar isExtensible = Object.isExtensible;\nvar uncaughtFrozenStore = weak.ufstore;\nvar InternalMap;\n\nvar wrapper = function (get) {\n  return function WeakMap() {\n    return get(this, arguments.length > 0 ? arguments[0] : undefined);\n  };\n};\n\nvar methods = {\n  // 23.3.3.3 WeakMap.prototype.get(key)\n  get: function get(key) {\n    if (isObject(key)) {\n      var data = getWeak(key);\n      if (data === true) return uncaughtFrozenStore(validate(this, WEAK_MAP)).get(key);\n      return data ? data[this._i] : undefined;\n    }\n  },\n  // 23.3.3.5 WeakMap.prototype.set(key, value)\n  set: function set(key, value) {\n    return weak.def(validate(this, WEAK_MAP), key, value);\n  }\n};\n\n// 23.3 WeakMap Objects\nvar $WeakMap = module.exports = require('./_collection')(WEAK_MAP, wrapper, methods, weak, true, true);\n\n// IE11 WeakMap frozen keys fix\nif (NATIVE_WEAK_MAP && IS_IE11) {\n  InternalMap = weak.getConstructor(wrapper, WEAK_MAP);\n  assign(InternalMap.prototype, methods);\n  meta.NEED = true;\n  each(['delete', 'has', 'get', 'set'], function (key) {\n    var proto = $WeakMap.prototype;\n    var method = proto[key];\n    redefine(proto, key, function (a, b) {\n      // store frozen objects on internal weakmap shim\n      if (isObject(a) && !isExtensible(a)) {\n        if (!this._f) this._f = new InternalMap();\n        var result = this._f[key](a, b);\n        return key == 'set' ? this : result;\n      // store all the rest on native weakmap\n      } return method.call(this, a, b);\n    });\n  });\n}\n","'use strict';\nvar redefineAll = require('./_redefine-all');\nvar getWeak = require('./_meta').getWeak;\nvar anObject = require('./_an-object');\nvar isObject = require('./_is-object');\nvar anInstance = require('./_an-instance');\nvar forOf = require('./_for-of');\nvar createArrayMethod = require('./_array-methods');\nvar $has = require('./_has');\nvar validate = require('./_validate-collection');\nvar arrayFind = createArrayMethod(5);\nvar arrayFindIndex = createArrayMethod(6);\nvar id = 0;\n\n// fallback for uncaught frozen keys\nvar uncaughtFrozenStore = function (that) {\n  return that._l || (that._l = new UncaughtFrozenStore());\n};\nvar UncaughtFrozenStore = function () {\n  this.a = [];\n};\nvar findUncaughtFrozen = function (store, key) {\n  return arrayFind(store.a, function (it) {\n    return it[0] === key;\n  });\n};\nUncaughtFrozenStore.prototype = {\n  get: function (key) {\n    var entry = findUncaughtFrozen(this, key);\n    if (entry) return entry[1];\n  },\n  has: function (key) {\n    return !!findUncaughtFrozen(this, key);\n  },\n  set: function (key, value) {\n    var entry = findUncaughtFrozen(this, key);\n    if (entry) entry[1] = value;\n    else this.a.push([key, value]);\n  },\n  'delete': function (key) {\n    var index = arrayFindIndex(this.a, function (it) {\n      return it[0] === key;\n    });\n    if (~index) this.a.splice(index, 1);\n    return !!~index;\n  }\n};\n\nmodule.exports = {\n  getConstructor: function (wrapper, NAME, IS_MAP, ADDER) {\n    var C = wrapper(function (that, iterable) {\n      anInstance(that, C, NAME, '_i');\n      that._t = NAME;      // collection type\n      that._i = id++;      // collection id\n      that._l = undefined; // leak store for uncaught frozen objects\n      if (iterable != undefined) forOf(iterable, IS_MAP, that[ADDER], that);\n    });\n    redefineAll(C.prototype, {\n      // 23.3.3.2 WeakMap.prototype.delete(key)\n      // 23.4.3.3 WeakSet.prototype.delete(value)\n      'delete': function (key) {\n        if (!isObject(key)) return false;\n        var data = getWeak(key);\n        if (data === true) return uncaughtFrozenStore(validate(this, NAME))['delete'](key);\n        return data && $has(data, this._i) && delete data[this._i];\n      },\n      // 23.3.3.4 WeakMap.prototype.has(key)\n      // 23.4.3.4 WeakSet.prototype.has(value)\n      has: function has(key) {\n        if (!isObject(key)) return false;\n        var data = getWeak(key);\n        if (data === true) return uncaughtFrozenStore(validate(this, NAME)).has(key);\n        return data && $has(data, this._i);\n      }\n    });\n    return C;\n  },\n  def: function (that, key, value) {\n    var data = getWeak(anObject(key), true);\n    if (data === true) uncaughtFrozenStore(that).set(key, value);\n    else data[that._i] = value;\n    return that;\n  },\n  ufstore: uncaughtFrozenStore\n};\n","// https://tc39.github.io/ecma262/#sec-toindex\nvar toInteger = require('./_to-integer');\nvar toLength = require('./_to-length');\nmodule.exports = function (it) {\n  if (it === undefined) return 0;\n  var number = toInteger(it);\n  var length = toLength(number);\n  if (number !== length) throw RangeError('Wrong length!');\n  return length;\n};\n","// all object keys, includes non-enumerable and symbols\nvar gOPN = require('./_object-gopn');\nvar gOPS = require('./_object-gops');\nvar anObject = require('./_an-object');\nvar Reflect = require('./_global').Reflect;\nmodule.exports = Reflect && Reflect.ownKeys || function ownKeys(it) {\n  var keys = gOPN.f(anObject(it));\n  var getSymbols = gOPS.f;\n  return getSymbols ? keys.concat(getSymbols(it)) : keys;\n};\n","'use strict';\n// https://tc39.github.io/proposal-flatMap/#sec-FlattenIntoArray\nvar isArray = require('./_is-array');\nvar isObject = require('./_is-object');\nvar toLength = require('./_to-length');\nvar ctx = require('./_ctx');\nvar IS_CONCAT_SPREADABLE = require('./_wks')('isConcatSpreadable');\n\nfunction flattenIntoArray(target, original, source, sourceLen, start, depth, mapper, thisArg) {\n  var targetIndex = start;\n  var sourceIndex = 0;\n  var mapFn = mapper ? ctx(mapper, thisArg, 3) : false;\n  var element, spreadable;\n\n  while (sourceIndex < sourceLen) {\n    if (sourceIndex in source) {\n      element = mapFn ? mapFn(source[sourceIndex], sourceIndex, original) : source[sourceIndex];\n\n      spreadable = false;\n      if (isObject(element)) {\n        spreadable = element[IS_CONCAT_SPREADABLE];\n        spreadable = spreadable !== undefined ? !!spreadable : isArray(element);\n      }\n\n      if (spreadable && depth > 0) {\n        targetIndex = flattenIntoArray(target, original, element, toLength(element.length), targetIndex, depth - 1) - 1;\n      } else {\n        if (targetIndex >= 0x1fffffffffffff) throw TypeError();\n        target[targetIndex] = element;\n      }\n\n      targetIndex++;\n    }\n    sourceIndex++;\n  }\n  return targetIndex;\n}\n\nmodule.exports = flattenIntoArray;\n","// https://github.com/tc39/proposal-string-pad-start-end\nvar toLength = require('./_to-length');\nvar repeat = require('./_string-repeat');\nvar defined = require('./_defined');\n\nmodule.exports = function (that, maxLength, fillString, left) {\n  var S = String(defined(that));\n  var stringLength = S.length;\n  var fillStr = fillString === undefined ? ' ' : String(fillString);\n  var intMaxLength = toLength(maxLength);\n  if (intMaxLength <= stringLength || fillStr == '') return S;\n  var fillLen = intMaxLength - stringLength;\n  var stringFiller = repeat.call(fillStr, Math.ceil(fillLen / fillStr.length));\n  if (stringFiller.length > fillLen) stringFiller = stringFiller.slice(0, fillLen);\n  return left ? stringFiller + S : S + stringFiller;\n};\n","var DESCRIPTORS = require('./_descriptors');\nvar getKeys = require('./_object-keys');\nvar toIObject = require('./_to-iobject');\nvar isEnum = require('./_object-pie').f;\nmodule.exports = function (isEntries) {\n  return function (it) {\n    var O = toIObject(it);\n    var keys = getKeys(O);\n    var length = keys.length;\n    var i = 0;\n    var result = [];\n    var key;\n    while (length > i) {\n      key = keys[i++];\n      if (!DESCRIPTORS || isEnum.call(O, key)) {\n        result.push(isEntries ? [key, O[key]] : O[key]);\n      }\n    }\n    return result;\n  };\n};\n","// https://github.com/DavidBruant/Map-Set.prototype.toJSON\nvar classof = require('./_classof');\nvar from = require('./_array-from-iterable');\nmodule.exports = function (NAME) {\n  return function toJSON() {\n    if (classof(this) != NAME) throw TypeError(NAME + \"#toJSON isn't generic\");\n    return from(this);\n  };\n};\n","var forOf = require('./_for-of');\n\nmodule.exports = function (iter, ITERATOR) {\n  var result = [];\n  forOf(iter, false, result.push, result, ITERATOR);\n  return result;\n};\n","// https://rwaldron.github.io/proposal-math-extensions/\nmodule.exports = Math.scale || function scale(x, inLow, inHigh, outLow, outHigh) {\n  if (\n    arguments.length === 0\n      // eslint-disable-next-line no-self-compare\n      || x != x\n      // eslint-disable-next-line no-self-compare\n      || inLow != inLow\n      // eslint-disable-next-line no-self-compare\n      || inHigh != inHigh\n      // eslint-disable-next-line no-self-compare\n      || outLow != outLow\n      // eslint-disable-next-line no-self-compare\n      || outHigh != outHigh\n  ) return NaN;\n  if (x === Infinity || x === -Infinity) return x;\n  return (x - inLow) * (outHigh - outLow) / (inHigh - inLow) + outLow;\n};\n","module.exports = function(module) {\n\tif (!module.webpackPolyfill) {\n\t\tmodule.deprecate = function() {};\n\t\tmodule.paths = [];\n\t\t// module.parent = undefined by default\n\t\tif (!module.children) module.children = [];\n\t\tObject.defineProperty(module, \"loaded\", {\n\t\t\tenumerable: true,\n\t\t\tget: function() {\n\t\t\t\treturn module.l;\n\t\t\t}\n\t\t});\n\t\tObject.defineProperty(module, \"id\", {\n\t\t\tenumerable: true,\n\t\t\tget: function() {\n\t\t\t\treturn module.i;\n\t\t\t}\n\t\t});\n\t\tmodule.webpackPolyfill = 1;\n\t}\n\treturn module;\n};\n","const BaseViewElement = require(\"./base-view\");\n\nclass SignInViewElement extends BaseViewElement {\n\n    static tagName = 'sign-in-view';\n\n    constructor() {\n        super(SignInViewElement.tagName);\n\n        let studentButton = this.shadowRoot.querySelector('.student-button');\n        studentButton.addEventListener('click', this.handleStudentClick.bind(this));\n\n        let teacherButton = this.shadowRoot.querySelector('.teacher-button');\n        teacherButton.addEventListener('click', this.handleTeacherClick.bind(this));\n    }\n\n    initialize(parameter) {\n\n    }\n\n    unload() {\n\n    }\n\n    handleStudentClick() {\n\n        window.location.href = \"/\";\n    }\n\n    handleTeacherClick() {\n        console.log(\"You're a teacher.\");\n    }\n}\n\ncustomElements.define(SignInViewElement.tagName, SignInViewElement);\nmodule.exports = SignInViewElement;","/**\r\n * -------------------------------------------------------------------------------------------\r\n * Copyright (c) Microsoft Corporation.  All Rights Reserved.  Licensed under the MIT License.\r\n * See License in the project root for license information.\r\n * -------------------------------------------------------------------------------------------\r\n */\r\nimport * as tslib_1 from \"tslib\";\r\n/**\r\n * @module BatchRequestContent\r\n */\r\nimport { RequestMethod } from \"../RequestMethod\";\r\n/**\r\n * @class\r\n * Class for handling BatchRequestContent\r\n */\r\nexport class BatchRequestContent {\r\n    /**\r\n     * @public\r\n     * @constructor\r\n     * Constructs a BatchRequestContent instance\r\n     * @param {BatchRequestStep[]} [requests] - Array of requests value\r\n     * @returns An instance of a BatchRequestContent\r\n     */\r\n    constructor(requests) {\r\n        this.requests = new Map();\r\n        if (typeof requests !== \"undefined\") {\r\n            const limit = BatchRequestContent.requestLimit;\r\n            if (requests.length > limit) {\r\n                const error = new Error(`Maximum requests limit exceeded, Max allowed number of requests are ${limit}`);\r\n                error.name = \"Limit Exceeded Error\";\r\n                throw error;\r\n            }\r\n            for (const req of requests) {\r\n                this.addRequest(req);\r\n            }\r\n        }\r\n    }\r\n    /**\r\n     * @private\r\n     * @static\r\n     * Validates the dependency chain of the requests\r\n     *\r\n     * Note:\r\n     * Individual requests can depend on other individual requests. Currently, requests can only depend on a single other request, and must follow one of these three patterns:\r\n     * 1. Parallel - no individual request states a dependency in the dependsOn property.\r\n     * 2. Serial - all individual requests depend on the previous individual request.\r\n     * 3. Same - all individual requests that state a dependency in the dependsOn property, state the same dependency.\r\n     * As JSON batching matures, these limitations will be removed.\r\n     * @see {@link https://developer.microsoft.com/en-us/graph/docs/concepts/known_issues#json-batching}\r\n     *\r\n     * @param {Map<string, BatchRequestStep>} requests - The map of requests.\r\n     * @returns The boolean indicating the validation status\r\n     */\r\n    static validateDependencies(requests) {\r\n        const isParallel = (reqs) => {\r\n            const iterator = reqs.entries();\r\n            let cur = iterator.next();\r\n            while (!cur.done) {\r\n                const curReq = cur.value[1];\r\n                if (curReq.dependsOn !== undefined && curReq.dependsOn.length > 0) {\r\n                    return false;\r\n                }\r\n                cur = iterator.next();\r\n            }\r\n            return true;\r\n        };\r\n        const isSerial = (reqs) => {\r\n            const iterator = reqs.entries();\r\n            let cur = iterator.next();\r\n            const firstRequest = cur.value[1];\r\n            if (firstRequest.dependsOn !== undefined && firstRequest.dependsOn.length > 0) {\r\n                return false;\r\n            }\r\n            let prev = cur;\r\n            cur = iterator.next();\r\n            while (!cur.done) {\r\n                const curReq = cur.value[1];\r\n                if (curReq.dependsOn === undefined || curReq.dependsOn.length !== 1 || curReq.dependsOn[0] !== prev.value[1].id) {\r\n                    return false;\r\n                }\r\n                prev = cur;\r\n                cur = iterator.next();\r\n            }\r\n            return true;\r\n        };\r\n        const isSame = (reqs) => {\r\n            const iterator = reqs.entries();\r\n            let cur = iterator.next();\r\n            const firstRequest = cur.value[1];\r\n            let dependencyId;\r\n            if (firstRequest.dependsOn === undefined || firstRequest.dependsOn.length === 0) {\r\n                dependencyId = firstRequest.id;\r\n            }\r\n            else {\r\n                if (firstRequest.dependsOn.length === 1) {\r\n                    const fDependencyId = firstRequest.dependsOn[0];\r\n                    if (fDependencyId !== firstRequest.id && reqs.has(fDependencyId)) {\r\n                        dependencyId = fDependencyId;\r\n                    }\r\n                    else {\r\n                        return false;\r\n                    }\r\n                }\r\n                else {\r\n                    return false;\r\n                }\r\n            }\r\n            cur = iterator.next();\r\n            while (!cur.done) {\r\n                const curReq = cur.value[1];\r\n                if ((curReq.dependsOn === undefined || curReq.dependsOn.length === 0) && dependencyId !== curReq.id) {\r\n                    return false;\r\n                }\r\n                if (curReq.dependsOn !== undefined && curReq.dependsOn.length !== 0) {\r\n                    if (curReq.dependsOn.length === 1 && (curReq.id === dependencyId || curReq.dependsOn[0] !== dependencyId)) {\r\n                        return false;\r\n                    }\r\n                    if (curReq.dependsOn.length > 1) {\r\n                        return false;\r\n                    }\r\n                }\r\n                cur = iterator.next();\r\n            }\r\n            return true;\r\n        };\r\n        if (requests.size === 0) {\r\n            const error = new Error(\"Empty requests map, Please provide at least one request.\");\r\n            error.name = \"Empty Requests Error\";\r\n            throw error;\r\n        }\r\n        return isParallel(requests) || isSerial(requests) || isSame(requests);\r\n    }\r\n    /**\r\n     * @private\r\n     * @static\r\n     * @async\r\n     * Converts Request Object instance to a JSON\r\n     * @param {IsomorphicRequest} request - The IsomorphicRequest Object instance\r\n     * @returns A promise that resolves to JSON representation of a request\r\n     */\r\n    static getRequestData(request) {\r\n        return tslib_1.__awaiter(this, void 0, void 0, function* () {\r\n            const requestData = {\r\n                url: \"\",\r\n            };\r\n            const hasHttpRegex = new RegExp(\"^https?://\");\r\n            // Stripping off hostname, port and url scheme\r\n            requestData.url = hasHttpRegex.test(request.url) ? \"/\" + request.url.split(/.*?\\/\\/.*?\\//)[1] : request.url;\r\n            requestData.method = request.method;\r\n            const headers = {};\r\n            request.headers.forEach((value, key) => {\r\n                headers[key] = value;\r\n            });\r\n            if (Object.keys(headers).length) {\r\n                requestData.headers = headers;\r\n            }\r\n            if (request.method === RequestMethod.PATCH || request.method === RequestMethod.POST || request.method === RequestMethod.PUT) {\r\n                requestData.body = yield BatchRequestContent.getRequestBody(request);\r\n            }\r\n            /**\r\n             * TODO: Check any other property needs to be used from the Request object and add them\r\n             */\r\n            return requestData;\r\n        });\r\n    }\r\n    /**\r\n     * @private\r\n     * @static\r\n     * @async\r\n     * Gets the body of a Request object instance\r\n     * @param {IsomorphicRequest} request - The IsomorphicRequest object instance\r\n     * @returns The Promise that resolves to a body value of a Request\r\n     */\r\n    static getRequestBody(request) {\r\n        return tslib_1.__awaiter(this, void 0, void 0, function* () {\r\n            let bodyParsed = false;\r\n            let body;\r\n            try {\r\n                const cloneReq = request.clone();\r\n                body = yield cloneReq.json();\r\n                bodyParsed = true;\r\n            }\r\n            catch (e) {\r\n                // tslint:disable-line: no-empty\r\n            }\r\n            if (!bodyParsed) {\r\n                try {\r\n                    if (typeof Blob !== \"undefined\") {\r\n                        const blob = yield request.blob();\r\n                        const reader = new FileReader();\r\n                        body = yield new Promise((resolve) => {\r\n                            reader.addEventListener(\"load\", () => {\r\n                                const dataURL = reader.result;\r\n                                /**\r\n                                 * Some valid dataURL schemes:\r\n                                 *  1. data:text/vnd-example+xyz;foo=bar;base64,R0lGODdh\r\n                                 *  2. data:text/plain;charset=UTF-8;page=21,the%20data:1234,5678\r\n                                 *  3. data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAHElEQVQI12P4//8/w38GIAXDIBKE0DHxgljNBAAO9TXL0Y4OHwAAAABJRU5ErkJggg==\r\n                                 *  4. data:image/png,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAHElEQVQI12P4//8/w38GIAXDIBKE0DHxgljNBAAO9TXL0Y4OHwAAAABJRU5ErkJggg==\r\n                                 *  5. data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAHElEQVQI12P4//8/w38GIAXDIBKE0DHxgljNBAAO9TXL0Y4OHwAAAABJRU5ErkJggg==\r\n                                 * @see Syntax {@link https://en.wikipedia.org/wiki/Data_URI_scheme} for more\r\n                                 */\r\n                                const regex = new RegExp(\"^s*data:(.+?/.+?(;.+?=.+?)*)?(;base64)?,(.*)s*$\");\r\n                                const segments = regex.exec(dataURL);\r\n                                resolve(segments[4]);\r\n                            }, false);\r\n                            reader.readAsDataURL(blob);\r\n                        });\r\n                    }\r\n                    else if (typeof Buffer !== \"undefined\") {\r\n                        const buffer = yield request.buffer();\r\n                        body = buffer.toString(\"base64\");\r\n                    }\r\n                    bodyParsed = true;\r\n                }\r\n                catch (e) {\r\n                    // tslint:disable-line: no-empty\r\n                }\r\n            }\r\n            return body;\r\n        });\r\n    }\r\n    /**\r\n     * @public\r\n     * Adds a request to the batch request content\r\n     * @param {BatchRequestStep} request - The request value\r\n     * @returns The id of the added request\r\n     */\r\n    addRequest(request) {\r\n        const limit = BatchRequestContent.requestLimit;\r\n        if (request.id === \"\") {\r\n            const error = new Error(`Id for a request is empty, Please provide an unique id`);\r\n            error.name = \"Empty Id For Request\";\r\n            throw error;\r\n        }\r\n        if (this.requests.size === limit) {\r\n            const error = new Error(`Maximum requests limit exceeded, Max allowed number of requests are ${limit}`);\r\n            error.name = \"Limit Exceeded Error\";\r\n            throw error;\r\n        }\r\n        if (this.requests.has(request.id)) {\r\n            const error = new Error(`Adding request with duplicate id ${request.id}, Make the id of the requests unique`);\r\n            error.name = \"Duplicate RequestId Error\";\r\n            throw error;\r\n        }\r\n        this.requests.set(request.id, request);\r\n        return request.id;\r\n    }\r\n    /**\r\n     * @public\r\n     * Removes request from the batch payload and its dependencies from all dependents\r\n     * @param {string} requestId - The id of a request that needs to be removed\r\n     * @returns The boolean indicating removed status\r\n     */\r\n    removeRequest(requestId) {\r\n        const deleteStatus = this.requests.delete(requestId);\r\n        const iterator = this.requests.entries();\r\n        let cur = iterator.next();\r\n        /**\r\n         * Removing dependencies where this request is present as a dependency\r\n         */\r\n        while (!cur.done) {\r\n            const dependencies = cur.value[1].dependsOn;\r\n            if (typeof dependencies !== \"undefined\") {\r\n                const index = dependencies.indexOf(requestId);\r\n                if (index !== -1) {\r\n                    dependencies.splice(index, 1);\r\n                }\r\n                if (dependencies.length === 0) {\r\n                    delete cur.value[1].dependsOn;\r\n                }\r\n            }\r\n            cur = iterator.next();\r\n        }\r\n        return deleteStatus;\r\n    }\r\n    /**\r\n     * @public\r\n     * @async\r\n     * Serialize content from BatchRequestContent instance\r\n     * @returns The body content to make batch request\r\n     */\r\n    getContent() {\r\n        return tslib_1.__awaiter(this, void 0, void 0, function* () {\r\n            const requests = [];\r\n            const requestBody = {\r\n                requests,\r\n            };\r\n            const iterator = this.requests.entries();\r\n            let cur = iterator.next();\r\n            if (cur.done) {\r\n                const error = new Error(\"No requests added yet, Please add at least one request.\");\r\n                error.name = \"Empty Payload\";\r\n                throw error;\r\n            }\r\n            if (!BatchRequestContent.validateDependencies(this.requests)) {\r\n                const error = new Error(`Invalid dependency found, Dependency should be:\r\n1. Parallel - no individual request states a dependency in the dependsOn property.\r\n2. Serial - all individual requests depend on the previous individual request.\r\n3. Same - all individual requests that state a dependency in the dependsOn property, state the same dependency.`);\r\n                error.name = \"Invalid Dependency\";\r\n                throw error;\r\n            }\r\n            while (!cur.done) {\r\n                const requestStep = cur.value[1];\r\n                const batchRequestData = (yield BatchRequestContent.getRequestData(requestStep.request));\r\n                /**\r\n                 * @see {@link https://developer.microsoft.com/en-us/graph/docs/concepts/json_batching#request-format}\r\n                 */\r\n                if (batchRequestData.body !== undefined && (batchRequestData.headers === undefined || batchRequestData.headers[\"content-type\"] === undefined)) {\r\n                    const error = new Error(`Content-type header is not mentioned for request #${requestStep.id}, For request having body, Content-type header should be mentioned`);\r\n                    error.name = \"Invalid Content-type header\";\r\n                    throw error;\r\n                }\r\n                batchRequestData.id = requestStep.id;\r\n                if (requestStep.dependsOn !== undefined && requestStep.dependsOn.length > 0) {\r\n                    batchRequestData.dependsOn = requestStep.dependsOn;\r\n                }\r\n                requests.push(batchRequestData);\r\n                cur = iterator.next();\r\n            }\r\n            requestBody.requests = requests;\r\n            return requestBody;\r\n        });\r\n    }\r\n    /**\r\n     * @public\r\n     * Adds a dependency for a given dependent request\r\n     * @param {string} dependentId - The id of the dependent request\r\n     * @param {string} [dependencyId] - The id of the dependency request, if not specified the preceding request will be considered as a dependency\r\n     * @returns Nothing\r\n     */\r\n    addDependency(dependentId, dependencyId) {\r\n        if (!this.requests.has(dependentId)) {\r\n            const error = new Error(`Dependent ${dependentId} does not exists, Please check the id`);\r\n            error.name = \"Invalid Dependent\";\r\n            throw error;\r\n        }\r\n        if (typeof dependencyId !== \"undefined\" && !this.requests.has(dependencyId)) {\r\n            const error = new Error(`Dependency ${dependencyId} does not exists, Please check the id`);\r\n            error.name = \"Invalid Dependency\";\r\n            throw error;\r\n        }\r\n        if (typeof dependencyId !== \"undefined\") {\r\n            const dependent = this.requests.get(dependentId);\r\n            if (dependent.dependsOn === undefined) {\r\n                dependent.dependsOn = [];\r\n            }\r\n            if (dependent.dependsOn.indexOf(dependencyId) !== -1) {\r\n                const error = new Error(`Dependency ${dependencyId} is already added for the request ${dependentId}`);\r\n                error.name = \"Duplicate Dependency\";\r\n                throw error;\r\n            }\r\n            dependent.dependsOn.push(dependencyId);\r\n        }\r\n        else {\r\n            const iterator = this.requests.entries();\r\n            let prev;\r\n            let cur = iterator.next();\r\n            while (!cur.done && cur.value[1].id !== dependentId) {\r\n                prev = cur;\r\n                cur = iterator.next();\r\n            }\r\n            if (typeof prev !== \"undefined\") {\r\n                const dId = prev.value[0];\r\n                if (cur.value[1].dependsOn === undefined) {\r\n                    cur.value[1].dependsOn = [];\r\n                }\r\n                if (cur.value[1].dependsOn.indexOf(dId) !== -1) {\r\n                    const error = new Error(`Dependency ${dId} is already added for the request ${dependentId}`);\r\n                    error.name = \"Duplicate Dependency\";\r\n                    throw error;\r\n                }\r\n                cur.value[1].dependsOn.push(dId);\r\n            }\r\n            else {\r\n                const error = new Error(`Can't add dependency ${dependencyId}, There is only a dependent request in the batch`);\r\n                error.name = \"Invalid Dependency Addition\";\r\n                throw error;\r\n            }\r\n        }\r\n    }\r\n    /**\r\n     * @public\r\n     * Removes a dependency for a given dependent request id\r\n     * @param {string} dependentId - The id of the dependent request\r\n     * @param {string} [dependencyId] - The id of the dependency request, if not specified will remove all the dependencies of that request\r\n     * @returns The boolean indicating removed status\r\n     */\r\n    removeDependency(dependentId, dependencyId) {\r\n        const request = this.requests.get(dependentId);\r\n        if (typeof request === \"undefined\" || request.dependsOn === undefined || request.dependsOn.length === 0) {\r\n            return false;\r\n        }\r\n        if (typeof dependencyId !== \"undefined\") {\r\n            const index = request.dependsOn.indexOf(dependencyId);\r\n            if (index === -1) {\r\n                return false;\r\n            }\r\n            request.dependsOn.splice(index, 1);\r\n            return true;\r\n        }\r\n        else {\r\n            delete request.dependsOn;\r\n            return true;\r\n        }\r\n    }\r\n}\r\n/**\r\n * @private\r\n * @static\r\n * Limit for number of requests {@link - https://developer.microsoft.com/en-us/graph/docs/concepts/known_issues#json-batching}\r\n */\r\nBatchRequestContent.requestLimit = 20;\r\n//# sourceMappingURL=BatchRequestContent.js.map","/**\r\n * -------------------------------------------------------------------------------------------\r\n * Copyright (c) Microsoft Corporation.  All Rights Reserved.  Licensed under the MIT License.\r\n * See License in the project root for license information.\r\n * -------------------------------------------------------------------------------------------\r\n */\r\nimport * as tslib_1 from \"tslib\";\r\nimport { LargeFileUploadTask } from \"./LargeFileUploadTask\";\r\nimport { getValidRangeSize } from \"./OneDriveLargeFileUploadTaskUtil\";\r\n/**\r\n * @class\r\n * Class representing OneDriveLargeFileUploadTask\r\n */\r\nexport class OneDriveLargeFileUploadTask extends LargeFileUploadTask {\r\n    /**\r\n     * @public\r\n     * @constructor\r\n     * Constructs a OneDriveLargeFileUploadTask\r\n     * @param {Client} client - The GraphClient instance\r\n     * @param {FileObject} file - The FileObject holding details of a file that needs to be uploaded\r\n     * @param {LargeFileUploadSession} uploadSession - The upload session to which the upload has to be done\r\n     * @param {LargeFileUploadTaskOptions} options - The upload task options\r\n     * @returns An instance of OneDriveLargeFileUploadTask\r\n     */\r\n    constructor(client, file, uploadSession, options) {\r\n        super(client, file, uploadSession, options);\r\n    }\r\n    /**\r\n     * @private\r\n     * @static\r\n     * Constructs the create session url for Onedrive\r\n     * @param {string} fileName - The name of the file\r\n     * @param {path} [path = OneDriveLargeFileUploadTask.DEFAULT_UPLOAD_PATH] - The path for the upload\r\n     * @returns The constructed create session url\r\n     */\r\n    static constructCreateSessionUrl(fileName, path = OneDriveLargeFileUploadTask.DEFAULT_UPLOAD_PATH) {\r\n        fileName = fileName.trim();\r\n        path = path.trim();\r\n        if (path === \"\") {\r\n            path = \"/\";\r\n        }\r\n        if (path[0] !== \"/\") {\r\n            path = `/${path}`;\r\n        }\r\n        if (path[path.length - 1] !== \"/\") {\r\n            path = `${path}/`;\r\n        }\r\n        return encodeURI(`/me/drive/root:${path}${fileName}:/createUploadSession`);\r\n    }\r\n    /**\r\n     * @public\r\n     * @static\r\n     * @async\r\n     * Creates a OneDriveLargeFileUploadTask\r\n     * @param {Client} client - The GraphClient instance\r\n     * @param {Blob | Buffer | File} file - File represented as Blob, Buffer or File\r\n     * @param {OneDriveLargeFileUploadOptions} options - The options for upload task\r\n     * @returns The promise that will be resolves to OneDriveLargeFileUploadTask instance\r\n     */\r\n    static create(client, file, options) {\r\n        return tslib_1.__awaiter(this, void 0, void 0, function* () {\r\n            const name = options.fileName;\r\n            let content;\r\n            let size;\r\n            if (typeof Blob !== \"undefined\" && file instanceof Blob) {\r\n                content = new File([file], name);\r\n                size = content.size;\r\n            }\r\n            else if (typeof File !== \"undefined\" && file instanceof File) {\r\n                content = file;\r\n                size = content.size;\r\n            }\r\n            else if (typeof Buffer !== \"undefined\" && file instanceof Buffer) {\r\n                const b = file;\r\n                size = b.byteLength - b.byteOffset;\r\n                content = b.buffer.slice(b.byteOffset, b.byteOffset + b.byteLength);\r\n            }\r\n            try {\r\n                const requestUrl = OneDriveLargeFileUploadTask.constructCreateSessionUrl(options.fileName, options.path);\r\n                const session = yield OneDriveLargeFileUploadTask.createUploadSession(client, requestUrl, options.fileName);\r\n                const rangeSize = getValidRangeSize(options.rangeSize);\r\n                const fileObj = {\r\n                    name,\r\n                    content,\r\n                    size,\r\n                };\r\n                return new OneDriveLargeFileUploadTask(client, fileObj, session, {\r\n                    rangeSize,\r\n                });\r\n            }\r\n            catch (err) {\r\n                throw err;\r\n            }\r\n        });\r\n    }\r\n    /**\r\n     * @public\r\n     * @static\r\n     * @async\r\n     * Makes request to the server to create an upload session\r\n     * @param {Client} client - The GraphClient instance\r\n     * @param {string} requestUrl - The URL to create the upload session\r\n     * @param {string} fileName - The name of a file to upload, (with extension)\r\n     * @returns The promise that resolves to LargeFileUploadSession\r\n     */\r\n    static createUploadSession(client, requestUrl, fileName) {\r\n        const _super = Object.create(null, {\r\n            createUploadSession: { get: () => super.createUploadSession }\r\n        });\r\n        return tslib_1.__awaiter(this, void 0, void 0, function* () {\r\n            const payload = {\r\n                item: {\r\n                    \"@microsoft.graph.conflictBehavior\": \"rename\",\r\n                    name: fileName,\r\n                },\r\n            };\r\n            try {\r\n                return _super.createUploadSession.call(this, client, requestUrl, payload);\r\n            }\r\n            catch (err) {\r\n                throw err;\r\n            }\r\n        });\r\n    }\r\n    /**\r\n     * @public\r\n     * Commits upload session to end uploading\r\n     * @param {string} requestUrl - The URL to commit the upload session\r\n     * @returns The promise resolves to committed response\r\n     */\r\n    commit(requestUrl) {\r\n        return tslib_1.__awaiter(this, void 0, void 0, function* () {\r\n            try {\r\n                const payload = {\r\n                    name: this.file.name,\r\n                    \"@microsoft.graph.conflictBehavior\": \"rename\",\r\n                    \"@microsoft.graph.sourceUrl\": this.uploadSession.url,\r\n                };\r\n                return yield this.client.api(requestUrl).put(payload);\r\n            }\r\n            catch (err) {\r\n                throw err;\r\n            }\r\n        });\r\n    }\r\n}\r\n/**\r\n * @private\r\n * @static\r\n * Default path for the file being uploaded\r\n */\r\nOneDriveLargeFileUploadTask.DEFAULT_UPLOAD_PATH = \"/\";\r\n//# sourceMappingURL=OneDriveLargeFileUploadTask.js.map","/**\n * @license\n * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at\n * http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at\n * http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at\n * http://polymer.github.io/PATENTS.txt\n */\n\n/**\n * @module lit-html\n */\n\nimport {Part} from './part.js';\n\nconst directives = new WeakMap<object, true>();\n\n// tslint:disable-next-line:no-any\nexport type DirectiveFactory = (...args: any[]) => object;\n\nexport type DirectiveFn = (part: Part) => void;\n\n/**\n * Brands a function as a directive factory function so that lit-html will call\n * the function during template rendering, rather than passing as a value.\n *\n * A _directive_ is a function that takes a Part as an argument. It has the\n * signature: `(part: Part) => void`.\n *\n * A directive _factory_ is a function that takes arguments for data and\n * configuration and returns a directive. Users of directive usually refer to\n * the directive factory as the directive. For example, \"The repeat directive\".\n *\n * Usually a template author will invoke a directive factory in their template\n * with relevant arguments, which will then return a directive function.\n *\n * Here's an example of using the `repeat()` directive factory that takes an\n * array and a function to render an item:\n *\n * ```js\n * html`<ul><${repeat(items, (item) => html`<li>${item}</li>`)}</ul>`\n * ```\n *\n * When `repeat` is invoked, it returns a directive function that closes over\n * `items` and the template function. When the outer template is rendered, the\n * return directive function is called with the Part for the expression.\n * `repeat` then performs it's custom logic to render multiple items.\n *\n * @param f The directive factory function. Must be a function that returns a\n * function of the signature `(part: Part) => void`. The returned function will\n * be called with the part object.\n *\n * @example\n *\n * import {directive, html} from 'lit-html';\n *\n * const immutable = directive((v) => (part) => {\n *   if (part.value !== v) {\n *     part.setValue(v)\n *   }\n * });\n */\nexport const directive = <F extends DirectiveFactory>(f: F): F =>\n    ((...args: unknown[]) => {\n      const d = f(...args);\n      directives.set(d, true);\n      return d;\n    }) as F;\n\nexport const isDirective = (o: unknown): o is DirectiveFn => {\n  return typeof o === 'function' && directives.has(o);\n};\n","/**\n * @license\n * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at\n * http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at\n * http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at\n * http://polymer.github.io/PATENTS.txt\n */\n\n/**\n * @module lit-html\n */\n\ninterface MaybePolyfilledCe extends CustomElementRegistry {\n  readonly polyfillWrapFlushCallback?: object;\n}\n\n/**\n * True if the custom elements polyfill is in use.\n */\nexport const isCEPolyfill = window.customElements !== undefined &&\n    (window.customElements as MaybePolyfilledCe).polyfillWrapFlushCallback !==\n        undefined;\n\n/**\n * Reparents nodes, starting from `start` (inclusive) to `end` (exclusive),\n * into another container (could be the same container), before `before`. If\n * `before` is null, it appends the nodes to the container.\n */\nexport const reparentNodes =\n    (container: Node,\n     start: Node|null,\n     end: Node|null = null,\n     before: Node|null = null): void => {\n      while (start !== end) {\n        const n = start!.nextSibling;\n        container.insertBefore(start!, before);\n        start = n;\n      }\n    };\n\n/**\n * Removes nodes, starting from `start` (inclusive) to `end` (exclusive), from\n * `container`.\n */\nexport const removeNodes =\n    (container: Node, start: Node|null, end: Node|null = null): void => {\n      while (start !== end) {\n        const n = start!.nextSibling;\n        container.removeChild(start!);\n        start = n;\n      }\n    };\n","/**\n * @license\n * Copyright (c) 2018 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at\n * http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at\n * http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at\n * http://polymer.github.io/PATENTS.txt\n */\n\n/**\n * @module lit-html\n */\n\n/**\n * The Part interface represents a dynamic part of a template instance rendered\n * by lit-html.\n */\nexport interface Part {\n  readonly value: unknown;\n\n  /**\n   * Sets the current part value, but does not write it to the DOM.\n   * @param value The value that will be committed.\n   */\n  setValue(value: unknown): void;\n\n  /**\n   * Commits the current part value, causing it to actually be written to the\n   * DOM.\n   *\n   * Directives are run at the start of `commit`, so that if they call\n   * `part.setValue(...)` synchronously that value will be used in the current\n   * commit, and there's no need to call `part.commit()` within the directive.\n   * If directives set a part value asynchronously, then they must call\n   * `part.commit()` manually.\n   */\n  commit(): void;\n}\n\n/**\n * A sentinel value that signals that a value was handled by a directive and\n * should not be written to the DOM.\n */\nexport const noChange = {};\n\n/**\n * A sentinel value that signals a NodePart to fully clear its content.\n */\nexport const nothing = {};\n","/**\n * @license\n * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at\n * http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at\n * http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at\n * http://polymer.github.io/PATENTS.txt\n */\n\n/**\n * @module lit-html\n */\n\nimport {TemplateResult} from './template-result.js';\n\n/**\n * An expression marker with embedded unique key to avoid collision with\n * possible text in templates.\n */\nexport const marker = `{{lit-${String(Math.random()).slice(2)}}}`;\n\n/**\n * An expression marker used text-positions, multi-binding attributes, and\n * attributes with markup-like text values.\n */\nexport const nodeMarker = `<!--${marker}-->`;\n\nexport const markerRegex = new RegExp(`${marker}|${nodeMarker}`);\n\n/**\n * Suffix appended to all bound attribute names.\n */\nexport const boundAttributeSuffix = '$lit$';\n\n/**\n * An updateable Template that tracks the location of dynamic parts.\n */\nexport class Template {\n  readonly parts: TemplatePart[] = [];\n  readonly element: HTMLTemplateElement;\n\n  constructor(result: TemplateResult, element: HTMLTemplateElement) {\n    this.element = element;\n\n    const nodesToRemove: Node[] = [];\n    const stack: Node[] = [];\n    // Edge needs all 4 parameters present; IE11 needs 3rd parameter to be null\n    const walker = document.createTreeWalker(\n        element.content,\n        133 /* NodeFilter.SHOW_{ELEMENT|COMMENT|TEXT} */,\n        null,\n        false);\n    // Keeps track of the last index associated with a part. We try to delete\n    // unnecessary nodes, but we never want to associate two different parts\n    // to the same index. They must have a constant node between.\n    let lastPartIndex = 0;\n    let index = -1;\n    let partIndex = 0;\n    const {strings, values: {length}} = result;\n    while (partIndex < length) {\n      const node = walker.nextNode() as Element | Comment | Text | null;\n      if (node === null) {\n        // We've exhausted the content inside a nested template element.\n        // Because we still have parts (the outer for-loop), we know:\n        // - There is a template in the stack\n        // - The walker will find a nextNode outside the template\n        walker.currentNode = stack.pop()!;\n        continue;\n      }\n      index++;\n\n      if (node.nodeType === 1 /* Node.ELEMENT_NODE */) {\n        if ((node as Element).hasAttributes()) {\n          const attributes = (node as Element).attributes;\n          const {length} = attributes;\n          // Per\n          // https://developer.mozilla.org/en-US/docs/Web/API/NamedNodeMap,\n          // attributes are not guaranteed to be returned in document order.\n          // In particular, Edge/IE can return them out of order, so we cannot\n          // assume a correspondence between part index and attribute index.\n          let count = 0;\n          for (let i = 0; i < length; i++) {\n            if (endsWith(attributes[i].name, boundAttributeSuffix)) {\n              count++;\n            }\n          }\n          while (count-- > 0) {\n            // Get the template literal section leading up to the first\n            // expression in this attribute\n            const stringForPart = strings[partIndex];\n            // Find the attribute name\n            const name = lastAttributeNameRegex.exec(stringForPart)![2];\n            // Find the corresponding attribute\n            // All bound attributes have had a suffix added in\n            // TemplateResult#getHTML to opt out of special attribute\n            // handling. To look up the attribute value we also need to add\n            // the suffix.\n            const attributeLookupName =\n                name.toLowerCase() + boundAttributeSuffix;\n            const attributeValue =\n                (node as Element).getAttribute(attributeLookupName)!;\n            (node as Element).removeAttribute(attributeLookupName);\n            const statics = attributeValue.split(markerRegex);\n            this.parts.push({type: 'attribute', index, name, strings: statics});\n            partIndex += statics.length - 1;\n          }\n        }\n        if ((node as Element).tagName === 'TEMPLATE') {\n          stack.push(node);\n          walker.currentNode = (node as HTMLTemplateElement).content;\n        }\n      } else if (node.nodeType === 3 /* Node.TEXT_NODE */) {\n        const data = (node as Text).data;\n        if (data.indexOf(marker) >= 0) {\n          const parent = node.parentNode!;\n          const strings = data.split(markerRegex);\n          const lastIndex = strings.length - 1;\n          // Generate a new text node for each literal section\n          // These nodes are also used as the markers for node parts\n          for (let i = 0; i < lastIndex; i++) {\n            let insert: Node;\n            let s = strings[i];\n            if (s === '') {\n              insert = createMarker();\n            } else {\n              const match = lastAttributeNameRegex.exec(s);\n              if (match !== null && endsWith(match[2], boundAttributeSuffix)) {\n                s = s.slice(0, match.index) + match[1] +\n                    match[2].slice(0, -boundAttributeSuffix.length) + match[3];\n              }\n              insert = document.createTextNode(s);\n            }\n            parent.insertBefore(insert, node);\n            this.parts.push({type: 'node', index: ++index});\n          }\n          // If there's no text, we must insert a comment to mark our place.\n          // Else, we can trust it will stick around after cloning.\n          if (strings[lastIndex] === '') {\n            parent.insertBefore(createMarker(), node);\n            nodesToRemove.push(node);\n          } else {\n            (node as Text).data = strings[lastIndex];\n          }\n          // We have a part for each match found\n          partIndex += lastIndex;\n        }\n      } else if (node.nodeType === 8 /* Node.COMMENT_NODE */) {\n        if ((node as Comment).data === marker) {\n          const parent = node.parentNode!;\n          // Add a new marker node to be the startNode of the Part if any of\n          // the following are true:\n          //  * We don't have a previousSibling\n          //  * The previousSibling is already the start of a previous part\n          if (node.previousSibling === null || index === lastPartIndex) {\n            index++;\n            parent.insertBefore(createMarker(), node);\n          }\n          lastPartIndex = index;\n          this.parts.push({type: 'node', index});\n          // If we don't have a nextSibling, keep this node so we have an end.\n          // Else, we can remove it to save future costs.\n          if (node.nextSibling === null) {\n            (node as Comment).data = '';\n          } else {\n            nodesToRemove.push(node);\n            index--;\n          }\n          partIndex++;\n        } else {\n          let i = -1;\n          while ((i = (node as Comment).data.indexOf(marker, i + 1)) !== -1) {\n            // Comment node has a binding marker inside, make an inactive part\n            // The binding won't work, but subsequent bindings will\n            // TODO (justinfagnani): consider whether it's even worth it to\n            // make bindings in comments work\n            this.parts.push({type: 'node', index: -1});\n            partIndex++;\n          }\n        }\n      }\n    }\n\n    // Remove text binding nodes after the walk to not disturb the TreeWalker\n    for (const n of nodesToRemove) {\n      n.parentNode!.removeChild(n);\n    }\n  }\n}\n\nconst endsWith = (str: string, suffix: string): boolean => {\n  const index = str.length - suffix.length;\n  return index >= 0 && str.slice(index) === suffix;\n};\n\n/**\n * A placeholder for a dynamic expression in an HTML template.\n *\n * There are two built-in part types: AttributePart and NodePart. NodeParts\n * always represent a single dynamic expression, while AttributeParts may\n * represent as many expressions are contained in the attribute.\n *\n * A Template's parts are mutable, so parts can be replaced or modified\n * (possibly to implement different template semantics). The contract is that\n * parts can only be replaced, not removed, added or reordered, and parts must\n * always consume the correct number of values in their `update()` method.\n *\n * TODO(justinfagnani): That requirement is a little fragile. A\n * TemplateInstance could instead be more careful about which values it gives\n * to Part.update().\n */\nexport type TemplatePart = {\n  readonly type: 'node',\n  index: number\n}|{readonly type: 'attribute', index: number, readonly name: string, readonly strings: ReadonlyArray<string>};\n\nexport const isTemplatePartActive = (part: TemplatePart) => part.index !== -1;\n\n// Allows `document.createComment('')` to be renamed for a\n// small manual size-savings.\nexport const createMarker = () => document.createComment('');\n\n/**\n * This regex extracts the attribute name preceding an attribute-position\n * expression. It does this by matching the syntax allowed for attributes\n * against the string literal directly preceding the expression, assuming that\n * the expression is in an attribute-value position.\n *\n * See attributes in the HTML spec:\n * https://www.w3.org/TR/html5/syntax.html#elements-attributes\n *\n * \" \\x09\\x0a\\x0c\\x0d\" are HTML space characters:\n * https://www.w3.org/TR/html5/infrastructure.html#space-characters\n *\n * \"\\0-\\x1F\\x7F-\\x9F\" are Unicode control characters, which includes every\n * space character except \" \".\n *\n * So an attribute is:\n *  * The name: any character except a control character, space character, ('),\n *    (\"), \">\", \"=\", or \"/\"\n *  * Followed by zero or more space characters\n *  * Followed by \"=\"\n *  * Followed by zero or more space characters\n *  * Followed by:\n *    * Any character except space, ('), (\"), \"<\", \">\", \"=\", (`), or\n *    * (\") then any non-(\"), or\n *    * (') then any non-(')\n */\nexport const lastAttributeNameRegex =\n    /([ \\x09\\x0a\\x0c\\x0d])([^\\0-\\x1F\\x7F-\\x9F \"'>=/]+)([ \\x09\\x0a\\x0c\\x0d]*=[ \\x09\\x0a\\x0c\\x0d]*(?:[^ \\x09\\x0a\\x0c\\x0d\"'`<>=]*|\"[^\"]*|'[^']*))$/;\n","/**\n * @license\n * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at\n * http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at\n * http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at\n * http://polymer.github.io/PATENTS.txt\n */\n\n/**\n * @module lit-html\n */\n\nimport {isCEPolyfill} from './dom.js';\nimport {Part} from './part.js';\nimport {RenderOptions} from './render-options.js';\nimport {TemplateProcessor} from './template-processor.js';\nimport {isTemplatePartActive, Template, TemplatePart} from './template.js';\n\n/**\n * An instance of a `Template` that can be attached to the DOM and updated\n * with new values.\n */\nexport class TemplateInstance {\n  private readonly __parts: Array<Part|undefined> = [];\n  readonly processor: TemplateProcessor;\n  readonly options: RenderOptions;\n  readonly template: Template;\n\n  constructor(\n      template: Template, processor: TemplateProcessor,\n      options: RenderOptions) {\n    this.template = template;\n    this.processor = processor;\n    this.options = options;\n  }\n\n  update(values: ReadonlyArray<unknown>) {\n    let i = 0;\n    for (const part of this.__parts) {\n      if (part !== undefined) {\n        part.setValue(values[i]);\n      }\n      i++;\n    }\n    for (const part of this.__parts) {\n      if (part !== undefined) {\n        part.commit();\n      }\n    }\n  }\n\n  _clone(): DocumentFragment {\n    // There are a number of steps in the lifecycle of a template instance's\n    // DOM fragment:\n    //  1. Clone - create the instance fragment\n    //  2. Adopt - adopt into the main document\n    //  3. Process - find part markers and create parts\n    //  4. Upgrade - upgrade custom elements\n    //  5. Update - set node, attribute, property, etc., values\n    //  6. Connect - connect to the document. Optional and outside of this\n    //     method.\n    //\n    // We have a few constraints on the ordering of these steps:\n    //  * We need to upgrade before updating, so that property values will pass\n    //    through any property setters.\n    //  * We would like to process before upgrading so that we're sure that the\n    //    cloned fragment is inert and not disturbed by self-modifying DOM.\n    //  * We want custom elements to upgrade even in disconnected fragments.\n    //\n    // Given these constraints, with full custom elements support we would\n    // prefer the order: Clone, Process, Adopt, Upgrade, Update, Connect\n    //\n    // But Safari dooes not implement CustomElementRegistry#upgrade, so we\n    // can not implement that order and still have upgrade-before-update and\n    // upgrade disconnected fragments. So we instead sacrifice the\n    // process-before-upgrade constraint, since in Custom Elements v1 elements\n    // must not modify their light DOM in the constructor. We still have issues\n    // when co-existing with CEv0 elements like Polymer 1, and with polyfills\n    // that don't strictly adhere to the no-modification rule because shadow\n    // DOM, which may be created in the constructor, is emulated by being placed\n    // in the light DOM.\n    //\n    // The resulting order is on native is: Clone, Adopt, Upgrade, Process,\n    // Update, Connect. document.importNode() performs Clone, Adopt, and Upgrade\n    // in one step.\n    //\n    // The Custom Elements v1 polyfill supports upgrade(), so the order when\n    // polyfilled is the more ideal: Clone, Process, Adopt, Upgrade, Update,\n    // Connect.\n\n    const fragment = isCEPolyfill ?\n        this.template.element.content.cloneNode(true) as DocumentFragment :\n        document.importNode(this.template.element.content, true);\n\n    const stack: Node[] = [];\n    const parts = this.template.parts;\n    // Edge needs all 4 parameters present; IE11 needs 3rd parameter to be null\n    const walker = document.createTreeWalker(\n        fragment,\n        133 /* NodeFilter.SHOW_{ELEMENT|COMMENT|TEXT} */,\n        null,\n        false);\n    let partIndex = 0;\n    let nodeIndex = 0;\n    let part: TemplatePart;\n    let node = walker.nextNode();\n    // Loop through all the nodes and parts of a template\n    while (partIndex < parts.length) {\n      part = parts[partIndex];\n      if (!isTemplatePartActive(part)) {\n        this.__parts.push(undefined);\n        partIndex++;\n        continue;\n      }\n\n      // Progress the tree walker until we find our next part's node.\n      // Note that multiple parts may share the same node (attribute parts\n      // on a single element), so this loop may not run at all.\n      while (nodeIndex < part.index) {\n        nodeIndex++;\n        if (node!.nodeName === 'TEMPLATE') {\n          stack.push(node!);\n          walker.currentNode = (node as HTMLTemplateElement).content;\n        }\n        if ((node = walker.nextNode()) === null) {\n          // We've exhausted the content inside a nested template element.\n          // Because we still have parts (the outer for-loop), we know:\n          // - There is a template in the stack\n          // - The walker will find a nextNode outside the template\n          walker.currentNode = stack.pop()!;\n          node = walker.nextNode();\n        }\n      }\n\n      // We've arrived at our part's node.\n      if (part.type === 'node') {\n        const part = this.processor.handleTextExpression(this.options);\n        part.insertAfterNode(node!.previousSibling!);\n        this.__parts.push(part);\n      } else {\n        this.__parts.push(...this.processor.handleAttributeExpressions(\n            node as Element, part.name, part.strings, this.options));\n      }\n      partIndex++;\n    }\n\n    if (isCEPolyfill) {\n      document.adoptNode(fragment);\n      customElements.upgrade(fragment);\n    }\n    return fragment;\n  }\n}\n","/**\n * @license\n * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at\n * http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at\n * http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at\n * http://polymer.github.io/PATENTS.txt\n */\n\n/**\n * @module lit-html\n */\n\nimport {reparentNodes} from './dom.js';\nimport {TemplateProcessor} from './template-processor.js';\nimport {boundAttributeSuffix, lastAttributeNameRegex, marker, nodeMarker} from './template.js';\n\nconst commentMarker = ` ${marker} `;\n\n/**\n * The return type of `html`, which holds a Template and the values from\n * interpolated expressions.\n */\nexport class TemplateResult {\n  readonly strings: TemplateStringsArray;\n  readonly values: ReadonlyArray<unknown>;\n  readonly type: string;\n  readonly processor: TemplateProcessor;\n\n  constructor(\n      strings: TemplateStringsArray, values: ReadonlyArray<unknown>,\n      type: string, processor: TemplateProcessor) {\n    this.strings = strings;\n    this.values = values;\n    this.type = type;\n    this.processor = processor;\n  }\n\n  /**\n   * Returns a string of HTML used to create a `<template>` element.\n   */\n  getHTML(): string {\n    const l = this.strings.length - 1;\n    let html = '';\n    let isCommentBinding = false;\n\n    for (let i = 0; i < l; i++) {\n      const s = this.strings[i];\n      // For each binding we want to determine the kind of marker to insert\n      // into the template source before it's parsed by the browser's HTML\n      // parser. The marker type is based on whether the expression is in an\n      // attribute, text, or comment poisition.\n      //   * For node-position bindings we insert a comment with the marker\n      //     sentinel as its text content, like <!--{{lit-guid}}-->.\n      //   * For attribute bindings we insert just the marker sentinel for the\n      //     first binding, so that we support unquoted attribute bindings.\n      //     Subsequent bindings can use a comment marker because multi-binding\n      //     attributes must be quoted.\n      //   * For comment bindings we insert just the marker sentinel so we don't\n      //     close the comment.\n      //\n      // The following code scans the template source, but is *not* an HTML\n      // parser. We don't need to track the tree structure of the HTML, only\n      // whether a binding is inside a comment, and if not, if it appears to be\n      // the first binding in an attribute.\n      const commentOpen = s.lastIndexOf('<!--');\n      // We're in comment position if we have a comment open with no following\n      // comment close. Because <-- can appear in an attribute value there can\n      // be false positives.\n      isCommentBinding = (commentOpen > -1 || isCommentBinding) &&\n          s.indexOf('-->', commentOpen + 1) === -1;\n      // Check to see if we have an attribute-like sequence preceeding the\n      // expression. This can match \"name=value\" like structures in text,\n      // comments, and attribute values, so there can be false-positives.\n      const attributeMatch = lastAttributeNameRegex.exec(s);\n      if (attributeMatch === null) {\n        // We're only in this branch if we don't have a attribute-like\n        // preceeding sequence. For comments, this guards against unusual\n        // attribute values like <div foo=\"<!--${'bar'}\">. Cases like\n        // <!-- foo=${'bar'}--> are handled correctly in the attribute branch\n        // below.\n        html += s + (isCommentBinding ? commentMarker : nodeMarker);\n      } else {\n        // For attributes we use just a marker sentinel, and also append a\n        // $lit$ suffix to the name to opt-out of attribute-specific parsing\n        // that IE and Edge do for style and certain SVG attributes.\n        html += s.substr(0, attributeMatch.index) + attributeMatch[1] +\n            attributeMatch[2] + boundAttributeSuffix + attributeMatch[3] +\n            marker;\n      }\n    }\n    html += this.strings[l];\n    return html;\n  }\n\n  getTemplateElement(): HTMLTemplateElement {\n    const template = document.createElement('template');\n    template.innerHTML = this.getHTML();\n    return template;\n  }\n}\n\n/**\n * A TemplateResult for SVG fragments.\n *\n * This class wraps HTML in an `<svg>` tag in order to parse its contents in the\n * SVG namespace, then modifies the template to remove the `<svg>` tag so that\n * clones only container the original fragment.\n */\nexport class SVGTemplateResult extends TemplateResult {\n  getHTML(): string {\n    return `<svg>${super.getHTML()}</svg>`;\n  }\n\n  getTemplateElement(): HTMLTemplateElement {\n    const template = super.getTemplateElement();\n    const content = template.content;\n    const svgElement = content.firstChild!;\n    content.removeChild(svgElement);\n    reparentNodes(content, svgElement.firstChild);\n    return template;\n  }\n}\n","/**\n * @license\n * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at\n * http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at\n * http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at\n * http://polymer.github.io/PATENTS.txt\n */\n\n/**\n * @module lit-html\n */\n\nimport {isDirective} from './directive.js';\nimport {removeNodes} from './dom.js';\nimport {noChange, nothing, Part} from './part.js';\nimport {RenderOptions} from './render-options.js';\nimport {TemplateInstance} from './template-instance.js';\nimport {TemplateResult} from './template-result.js';\nimport {createMarker} from './template.js';\n\n// https://tc39.github.io/ecma262/#sec-typeof-operator\nexport type Primitive = null|undefined|boolean|number|string|Symbol|bigint;\nexport const isPrimitive = (value: unknown): value is Primitive => {\n  return (\n      value === null ||\n      !(typeof value === 'object' || typeof value === 'function'));\n};\nexport const isIterable = (value: unknown): value is Iterable<unknown> => {\n  return Array.isArray(value) ||\n      // tslint:disable-next-line:no-any\n      !!(value && (value as any)[Symbol.iterator]);\n};\n\n/**\n * Writes attribute values to the DOM for a group of AttributeParts bound to a\n * single attibute. The value is only set once even if there are multiple parts\n * for an attribute.\n */\nexport class AttributeCommitter {\n  readonly element: Element;\n  readonly name: string;\n  readonly strings: ReadonlyArray<string>;\n  readonly parts: ReadonlyArray<AttributePart>;\n  dirty = true;\n\n  constructor(element: Element, name: string, strings: ReadonlyArray<string>) {\n    this.element = element;\n    this.name = name;\n    this.strings = strings;\n    this.parts = [];\n    for (let i = 0; i < strings.length - 1; i++) {\n      (this.parts as AttributePart[])[i] = this._createPart();\n    }\n  }\n\n  /**\n   * Creates a single part. Override this to create a differnt type of part.\n   */\n  protected _createPart(): AttributePart {\n    return new AttributePart(this);\n  }\n\n  protected _getValue(): unknown {\n    const strings = this.strings;\n    const l = strings.length - 1;\n    let text = '';\n\n    for (let i = 0; i < l; i++) {\n      text += strings[i];\n      const part = this.parts[i];\n      if (part !== undefined) {\n        const v = part.value;\n        if (isPrimitive(v) || !isIterable(v)) {\n          text += typeof v === 'string' ? v : String(v);\n        } else {\n          for (const t of v) {\n            text += typeof t === 'string' ? t : String(t);\n          }\n        }\n      }\n    }\n\n    text += strings[l];\n    return text;\n  }\n\n  commit(): void {\n    if (this.dirty) {\n      this.dirty = false;\n      this.element.setAttribute(this.name, this._getValue() as string);\n    }\n  }\n}\n\n/**\n * A Part that controls all or part of an attribute value.\n */\nexport class AttributePart implements Part {\n  readonly committer: AttributeCommitter;\n  value: unknown = undefined;\n\n  constructor(committer: AttributeCommitter) {\n    this.committer = committer;\n  }\n\n  setValue(value: unknown): void {\n    if (value !== noChange && (!isPrimitive(value) || value !== this.value)) {\n      this.value = value;\n      // If the value is a not a directive, dirty the committer so that it'll\n      // call setAttribute. If the value is a directive, it'll dirty the\n      // committer if it calls setValue().\n      if (!isDirective(value)) {\n        this.committer.dirty = true;\n      }\n    }\n  }\n\n  commit() {\n    while (isDirective(this.value)) {\n      const directive = this.value;\n      this.value = noChange;\n      directive(this);\n    }\n    if (this.value === noChange) {\n      return;\n    }\n    this.committer.commit();\n  }\n}\n\n/**\n * A Part that controls a location within a Node tree. Like a Range, NodePart\n * has start and end locations and can set and update the Nodes between those\n * locations.\n *\n * NodeParts support several value types: primitives, Nodes, TemplateResults,\n * as well as arrays and iterables of those types.\n */\nexport class NodePart implements Part {\n  readonly options: RenderOptions;\n  startNode!: Node;\n  endNode!: Node;\n  value: unknown = undefined;\n  private __pendingValue: unknown = undefined;\n\n  constructor(options: RenderOptions) {\n    this.options = options;\n  }\n\n  /**\n   * Appends this part into a container.\n   *\n   * This part must be empty, as its contents are not automatically moved.\n   */\n  appendInto(container: Node) {\n    this.startNode = container.appendChild(createMarker());\n    this.endNode = container.appendChild(createMarker());\n  }\n\n  /**\n   * Inserts this part after the `ref` node (between `ref` and `ref`'s next\n   * sibling). Both `ref` and its next sibling must be static, unchanging nodes\n   * such as those that appear in a literal section of a template.\n   *\n   * This part must be empty, as its contents are not automatically moved.\n   */\n  insertAfterNode(ref: Node) {\n    this.startNode = ref;\n    this.endNode = ref.nextSibling!;\n  }\n\n  /**\n   * Appends this part into a parent part.\n   *\n   * This part must be empty, as its contents are not automatically moved.\n   */\n  appendIntoPart(part: NodePart) {\n    part.__insert(this.startNode = createMarker());\n    part.__insert(this.endNode = createMarker());\n  }\n\n  /**\n   * Inserts this part after the `ref` part.\n   *\n   * This part must be empty, as its contents are not automatically moved.\n   */\n  insertAfterPart(ref: NodePart) {\n    ref.__insert(this.startNode = createMarker());\n    this.endNode = ref.endNode;\n    ref.endNode = this.startNode;\n  }\n\n  setValue(value: unknown): void {\n    this.__pendingValue = value;\n  }\n\n  commit() {\n    while (isDirective(this.__pendingValue)) {\n      const directive = this.__pendingValue;\n      this.__pendingValue = noChange;\n      directive(this);\n    }\n    const value = this.__pendingValue;\n    if (value === noChange) {\n      return;\n    }\n    if (isPrimitive(value)) {\n      if (value !== this.value) {\n        this.__commitText(value);\n      }\n    } else if (value instanceof TemplateResult) {\n      this.__commitTemplateResult(value);\n    } else if (value instanceof Node) {\n      this.__commitNode(value);\n    } else if (isIterable(value)) {\n      this.__commitIterable(value);\n    } else if (value === nothing) {\n      this.value = nothing;\n      this.clear();\n    } else {\n      // Fallback, will render the string representation\n      this.__commitText(value);\n    }\n  }\n\n  private __insert(node: Node) {\n    this.endNode.parentNode!.insertBefore(node, this.endNode);\n  }\n\n  private __commitNode(value: Node): void {\n    if (this.value === value) {\n      return;\n    }\n    this.clear();\n    this.__insert(value);\n    this.value = value;\n  }\n\n  private __commitText(value: unknown): void {\n    const node = this.startNode.nextSibling!;\n    value = value == null ? '' : value;\n    // If `value` isn't already a string, we explicitly convert it here in case\n    // it can't be implicitly converted - i.e. it's a symbol.\n    const valueAsString: string =\n        typeof value === 'string' ? value : String(value);\n    if (node === this.endNode.previousSibling &&\n        node.nodeType === 3 /* Node.TEXT_NODE */) {\n      // If we only have a single text node between the markers, we can just\n      // set its value, rather than replacing it.\n      // TODO(justinfagnani): Can we just check if this.value is primitive?\n      (node as Text).data = valueAsString;\n    } else {\n      this.__commitNode(document.createTextNode(valueAsString));\n    }\n    this.value = value;\n  }\n\n  private __commitTemplateResult(value: TemplateResult): void {\n    const template = this.options.templateFactory(value);\n    if (this.value instanceof TemplateInstance &&\n        this.value.template === template) {\n      this.value.update(value.values);\n    } else {\n      // Make sure we propagate the template processor from the TemplateResult\n      // so that we use its syntax extension, etc. The template factory comes\n      // from the render function options so that it can control template\n      // caching and preprocessing.\n      const instance =\n          new TemplateInstance(template, value.processor, this.options);\n      const fragment = instance._clone();\n      instance.update(value.values);\n      this.__commitNode(fragment);\n      this.value = instance;\n    }\n  }\n\n  private __commitIterable(value: Iterable<unknown>): void {\n    // For an Iterable, we create a new InstancePart per item, then set its\n    // value to the item. This is a little bit of overhead for every item in\n    // an Iterable, but it lets us recurse easily and efficiently update Arrays\n    // of TemplateResults that will be commonly returned from expressions like:\n    // array.map((i) => html`${i}`), by reusing existing TemplateInstances.\n\n    // If _value is an array, then the previous render was of an\n    // iterable and _value will contain the NodeParts from the previous\n    // render. If _value is not an array, clear this part and make a new\n    // array for NodeParts.\n    if (!Array.isArray(this.value)) {\n      this.value = [];\n      this.clear();\n    }\n\n    // Lets us keep track of how many items we stamped so we can clear leftover\n    // items from a previous render\n    const itemParts = this.value as NodePart[];\n    let partIndex = 0;\n    let itemPart: NodePart|undefined;\n\n    for (const item of value) {\n      // Try to reuse an existing part\n      itemPart = itemParts[partIndex];\n\n      // If no existing part, create a new one\n      if (itemPart === undefined) {\n        itemPart = new NodePart(this.options);\n        itemParts.push(itemPart);\n        if (partIndex === 0) {\n          itemPart.appendIntoPart(this);\n        } else {\n          itemPart.insertAfterPart(itemParts[partIndex - 1]);\n        }\n      }\n      itemPart.setValue(item);\n      itemPart.commit();\n      partIndex++;\n    }\n\n    if (partIndex < itemParts.length) {\n      // Truncate the parts array so _value reflects the current state\n      itemParts.length = partIndex;\n      this.clear(itemPart && itemPart.endNode);\n    }\n  }\n\n  clear(startNode: Node = this.startNode) {\n    removeNodes(\n        this.startNode.parentNode!, startNode.nextSibling!, this.endNode);\n  }\n}\n\n/**\n * Implements a boolean attribute, roughly as defined in the HTML\n * specification.\n *\n * If the value is truthy, then the attribute is present with a value of\n * ''. If the value is falsey, the attribute is removed.\n */\nexport class BooleanAttributePart implements Part {\n  readonly element: Element;\n  readonly name: string;\n  readonly strings: ReadonlyArray<string>;\n  value: unknown = undefined;\n  private __pendingValue: unknown = undefined;\n\n  constructor(element: Element, name: string, strings: ReadonlyArray<string>) {\n    if (strings.length !== 2 || strings[0] !== '' || strings[1] !== '') {\n      throw new Error(\n          'Boolean attributes can only contain a single expression');\n    }\n    this.element = element;\n    this.name = name;\n    this.strings = strings;\n  }\n\n  setValue(value: unknown): void {\n    this.__pendingValue = value;\n  }\n\n  commit() {\n    while (isDirective(this.__pendingValue)) {\n      const directive = this.__pendingValue;\n      this.__pendingValue = noChange;\n      directive(this);\n    }\n    if (this.__pendingValue === noChange) {\n      return;\n    }\n    const value = !!this.__pendingValue;\n    if (this.value !== value) {\n      if (value) {\n        this.element.setAttribute(this.name, '');\n      } else {\n        this.element.removeAttribute(this.name);\n      }\n      this.value = value;\n    }\n    this.__pendingValue = noChange;\n  }\n}\n\n/**\n * Sets attribute values for PropertyParts, so that the value is only set once\n * even if there are multiple parts for a property.\n *\n * If an expression controls the whole property value, then the value is simply\n * assigned to the property under control. If there are string literals or\n * multiple expressions, then the strings are expressions are interpolated into\n * a string first.\n */\nexport class PropertyCommitter extends AttributeCommitter {\n  readonly single: boolean;\n\n  constructor(element: Element, name: string, strings: ReadonlyArray<string>) {\n    super(element, name, strings);\n    this.single =\n        (strings.length === 2 && strings[0] === '' && strings[1] === '');\n  }\n\n  protected _createPart(): PropertyPart {\n    return new PropertyPart(this);\n  }\n\n  protected _getValue() {\n    if (this.single) {\n      return this.parts[0].value;\n    }\n    return super._getValue();\n  }\n\n  commit(): void {\n    if (this.dirty) {\n      this.dirty = false;\n      // tslint:disable-next-line:no-any\n      (this.element as any)[this.name] = this._getValue();\n    }\n  }\n}\n\nexport class PropertyPart extends AttributePart {}\n\n// Detect event listener options support. If the `capture` property is read\n// from the options object, then options are supported. If not, then the thrid\n// argument to add/removeEventListener is interpreted as the boolean capture\n// value so we should only pass the `capture` property.\nlet eventOptionsSupported = false;\n\ntry {\n  const options = {\n    get capture() {\n      eventOptionsSupported = true;\n      return false;\n    }\n  };\n  // tslint:disable-next-line:no-any\n  window.addEventListener('test', options as any, options);\n  // tslint:disable-next-line:no-any\n  window.removeEventListener('test', options as any, options);\n} catch (_e) {\n}\n\n\ntype EventHandlerWithOptions =\n    EventListenerOrEventListenerObject&Partial<AddEventListenerOptions>;\nexport class EventPart implements Part {\n  readonly element: Element;\n  readonly eventName: string;\n  readonly eventContext?: EventTarget;\n  value: undefined|EventHandlerWithOptions = undefined;\n  private __options?: AddEventListenerOptions;\n  private __pendingValue: undefined|EventHandlerWithOptions = undefined;\n  private readonly __boundHandleEvent: (event: Event) => void;\n\n  constructor(element: Element, eventName: string, eventContext?: EventTarget) {\n    this.element = element;\n    this.eventName = eventName;\n    this.eventContext = eventContext;\n    this.__boundHandleEvent = (e) => this.handleEvent(e);\n  }\n\n  setValue(value: undefined|EventHandlerWithOptions): void {\n    this.__pendingValue = value;\n  }\n\n  commit() {\n    while (isDirective(this.__pendingValue)) {\n      const directive = this.__pendingValue;\n      this.__pendingValue = noChange as EventHandlerWithOptions;\n      directive(this);\n    }\n    if (this.__pendingValue === noChange) {\n      return;\n    }\n\n    const newListener = this.__pendingValue;\n    const oldListener = this.value;\n    const shouldRemoveListener = newListener == null ||\n        oldListener != null &&\n            (newListener.capture !== oldListener.capture ||\n             newListener.once !== oldListener.once ||\n             newListener.passive !== oldListener.passive);\n    const shouldAddListener =\n        newListener != null && (oldListener == null || shouldRemoveListener);\n\n    if (shouldRemoveListener) {\n      this.element.removeEventListener(\n          this.eventName, this.__boundHandleEvent, this.__options);\n    }\n    if (shouldAddListener) {\n      this.__options = getOptions(newListener);\n      this.element.addEventListener(\n          this.eventName, this.__boundHandleEvent, this.__options);\n    }\n    this.value = newListener;\n    this.__pendingValue = noChange as EventHandlerWithOptions;\n  }\n\n  handleEvent(event: Event) {\n    if (typeof this.value === 'function') {\n      this.value.call(this.eventContext || this.element, event);\n    } else {\n      (this.value as EventListenerObject).handleEvent(event);\n    }\n  }\n}\n\n// We copy options because of the inconsistent behavior of browsers when reading\n// the third argument of add/removeEventListener. IE11 doesn't support options\n// at all. Chrome 41 only reads `capture` if the argument is an object.\nconst getOptions = (o: AddEventListenerOptions|undefined) => o &&\n    (eventOptionsSupported ?\n         {capture: o.capture, passive: o.passive, once: o.once} :\n         o.capture as AddEventListenerOptions);\n","/**\n * @license\n * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at\n * http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at\n * http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at\n * http://polymer.github.io/PATENTS.txt\n */\n\n/**\n * @module lit-html\n */\n\nimport {Part} from './part.js';\nimport {AttributeCommitter, BooleanAttributePart, EventPart, NodePart, PropertyCommitter} from './parts.js';\nimport {RenderOptions} from './render-options.js';\nimport {TemplateProcessor} from './template-processor.js';\n\n/**\n * Creates Parts when a template is instantiated.\n */\nexport class DefaultTemplateProcessor implements TemplateProcessor {\n  /**\n   * Create parts for an attribute-position binding, given the event, attribute\n   * name, and string literals.\n   *\n   * @param element The element containing the binding\n   * @param name  The attribute name\n   * @param strings The string literals. There are always at least two strings,\n   *   event for fully-controlled bindings with a single expression.\n   */\n  handleAttributeExpressions(\n      element: Element, name: string, strings: string[],\n      options: RenderOptions): ReadonlyArray<Part> {\n    const prefix = name[0];\n    if (prefix === '.') {\n      const committer = new PropertyCommitter(element, name.slice(1), strings);\n      return committer.parts;\n    }\n    if (prefix === '@') {\n      return [new EventPart(element, name.slice(1), options.eventContext)];\n    }\n    if (prefix === '?') {\n      return [new BooleanAttributePart(element, name.slice(1), strings)];\n    }\n    const committer = new AttributeCommitter(element, name, strings);\n    return committer.parts;\n  }\n  /**\n   * Create parts for a text-position binding.\n   * @param templateFactory\n   */\n  handleTextExpression(options: RenderOptions) {\n    return new NodePart(options);\n  }\n}\n\nexport const defaultTemplateProcessor = new DefaultTemplateProcessor();\n","/**\n * @license\n * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at\n * http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at\n * http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at\n * http://polymer.github.io/PATENTS.txt\n */\n\n/**\n * @module lit-html\n */\n\nimport {TemplateResult} from './template-result.js';\nimport {marker, Template} from './template.js';\n\n/**\n * A function type that creates a Template from a TemplateResult.\n *\n * This is a hook into the template-creation process for rendering that\n * requires some modification of templates before they're used, like ShadyCSS,\n * which must add classes to elements and remove styles.\n *\n * Templates should be cached as aggressively as possible, so that many\n * TemplateResults produced from the same expression only do the work of\n * creating the Template the first time.\n *\n * Templates are usually cached by TemplateResult.strings and\n * TemplateResult.type, but may be cached by other keys if this function\n * modifies the template.\n *\n * Note that currently TemplateFactories must not add, remove, or reorder\n * expressions, because there is no way to describe such a modification\n * to render() so that values are interpolated to the correct place in the\n * template instances.\n */\nexport type TemplateFactory = (result: TemplateResult) => Template;\n\n/**\n * The default TemplateFactory which caches Templates keyed on\n * result.type and result.strings.\n */\nexport function templateFactory(result: TemplateResult) {\n  let templateCache = templateCaches.get(result.type);\n  if (templateCache === undefined) {\n    templateCache = {\n      stringsArray: new WeakMap<TemplateStringsArray, Template>(),\n      keyString: new Map<string, Template>()\n    };\n    templateCaches.set(result.type, templateCache);\n  }\n\n  let template = templateCache.stringsArray.get(result.strings);\n  if (template !== undefined) {\n    return template;\n  }\n\n  // If the TemplateStringsArray is new, generate a key from the strings\n  // This key is shared between all templates with identical content\n  const key = result.strings.join(marker);\n\n  // Check if we already have a Template for this key\n  template = templateCache.keyString.get(key);\n  if (template === undefined) {\n    // If we have not seen this key before, create a new Template\n    template = new Template(result, result.getTemplateElement());\n    // Cache the Template for this key\n    templateCache.keyString.set(key, template);\n  }\n\n  // Cache all future queries for this TemplateStringsArray\n  templateCache.stringsArray.set(result.strings, template);\n  return template;\n}\n\n/**\n * The first argument to JS template tags retain identity across multiple\n * calls to a tag for the same literal, so we can cache work done per literal\n * in a Map.\n *\n * Safari currently has a bug which occasionally breaks this behaviour, so we\n * need to cache the Template at two levels. We first cache the\n * TemplateStringsArray, and if that fails, we cache a key constructed by\n * joining the strings array.\n */\nexport type templateCache = {\n  readonly stringsArray: WeakMap<TemplateStringsArray, Template>; //\n  readonly keyString: Map<string, Template>;\n};\n\nexport const templateCaches = new Map<string, templateCache>();\n","/**\n * @license\n * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at\n * http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at\n * http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at\n * http://polymer.github.io/PATENTS.txt\n */\n\n/**\n * @module lit-html\n */\n\nimport {removeNodes} from './dom.js';\nimport {NodePart} from './parts.js';\nimport {RenderOptions} from './render-options.js';\nimport {templateFactory} from './template-factory.js';\n\nexport const parts = new WeakMap<Node, NodePart>();\n\n/**\n * Renders a template result or other value to a container.\n *\n * To update a container with new values, reevaluate the template literal and\n * call `render` with the new result.\n *\n * @param result Any value renderable by NodePart - typically a TemplateResult\n *     created by evaluating a template tag like `html` or `svg`.\n * @param container A DOM parent to render to. The entire contents are either\n *     replaced, or efficiently updated if the same result type was previous\n *     rendered there.\n * @param options RenderOptions for the entire render tree rendered to this\n *     container. Render options must *not* change between renders to the same\n *     container, as those changes will not effect previously rendered DOM.\n */\nexport const render =\n    (result: unknown,\n     container: Element|DocumentFragment,\n     options?: Partial<RenderOptions>) => {\n      let part = parts.get(container);\n      if (part === undefined) {\n        removeNodes(container, container.firstChild);\n        parts.set(container, part = new NodePart({\n                               templateFactory,\n                               ...options,\n                             }));\n        part.appendInto(container);\n      }\n      part.setValue(result);\n      part.commit();\n    };\n","/**\n * @license\n * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at\n * http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at\n * http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at\n * http://polymer.github.io/PATENTS.txt\n */\n\n/**\n *\n * Main lit-html module.\n *\n * Main exports:\n *\n * -  [[html]]\n * -  [[svg]]\n * -  [[render]]\n *\n * @module lit-html\n * @preferred\n */\n\n/**\n * Do not remove this comment; it keeps typedoc from misplacing the module\n * docs.\n */\nimport {defaultTemplateProcessor} from './lib/default-template-processor.js';\nimport {SVGTemplateResult, TemplateResult} from './lib/template-result.js';\n\nexport {DefaultTemplateProcessor, defaultTemplateProcessor} from './lib/default-template-processor.js';\nexport {directive, DirectiveFn, isDirective} from './lib/directive.js';\n// TODO(justinfagnani): remove line when we get NodePart moving methods\nexport {removeNodes, reparentNodes} from './lib/dom.js';\nexport {noChange, nothing, Part} from './lib/part.js';\nexport {AttributeCommitter, AttributePart, BooleanAttributePart, EventPart, isIterable, isPrimitive, NodePart, PropertyCommitter, PropertyPart} from './lib/parts.js';\nexport {RenderOptions} from './lib/render-options.js';\nexport {parts, render} from './lib/render.js';\nexport {templateCaches, templateFactory} from './lib/template-factory.js';\nexport {TemplateInstance} from './lib/template-instance.js';\nexport {TemplateProcessor} from './lib/template-processor.js';\nexport {SVGTemplateResult, TemplateResult} from './lib/template-result.js';\nexport {createMarker, isTemplatePartActive, Template} from './lib/template.js';\n\ndeclare global {\n  interface Window {\n    litHtmlVersions: string[];\n  }\n}\n\n// IMPORTANT: do not change the property name or the assignment expression.\n// This line will be used in regexes to search for lit-html usage.\n// TODO(justinfagnani): inject version number at build time\n(window['litHtmlVersions'] || (window['litHtmlVersions'] = [])).push('1.1.2');\n\n/**\n * Interprets a template literal as an HTML template that can efficiently\n * render to and update a container.\n */\nexport const html = (strings: TemplateStringsArray, ...values: unknown[]) =>\n    new TemplateResult(strings, values, 'html', defaultTemplateProcessor);\n\n/**\n * Interprets a template literal as an SVG template that can efficiently\n * render to and update a container.\n */\nexport const svg = (strings: TemplateStringsArray, ...values: unknown[]) =>\n    new SVGTemplateResult(strings, values, 'svg', defaultTemplateProcessor);\n","/**\n * @license\n * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at\n * http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at\n * http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at\n * http://polymer.github.io/PATENTS.txt\n */\n\n/**\n * @module shady-render\n */\n\nimport {isTemplatePartActive, Template, TemplatePart} from './template.js';\n\nconst walkerNodeFilter = 133 /* NodeFilter.SHOW_{ELEMENT|COMMENT|TEXT} */;\n\n/**\n * Removes the list of nodes from a Template safely. In addition to removing\n * nodes from the Template, the Template part indices are updated to match\n * the mutated Template DOM.\n *\n * As the template is walked the removal state is tracked and\n * part indices are adjusted as needed.\n *\n * div\n *   div#1 (remove) <-- start removing (removing node is div#1)\n *     div\n *       div#2 (remove)  <-- continue removing (removing node is still div#1)\n *         div\n * div <-- stop removing since previous sibling is the removing node (div#1,\n * removed 4 nodes)\n */\nexport function removeNodesFromTemplate(\n    template: Template, nodesToRemove: Set<Node>) {\n  const {element: {content}, parts} = template;\n  const walker =\n      document.createTreeWalker(content, walkerNodeFilter, null, false);\n  let partIndex = nextActiveIndexInTemplateParts(parts);\n  let part = parts[partIndex];\n  let nodeIndex = -1;\n  let removeCount = 0;\n  const nodesToRemoveInTemplate = [];\n  let currentRemovingNode: Node|null = null;\n  while (walker.nextNode()) {\n    nodeIndex++;\n    const node = walker.currentNode as Element;\n    // End removal if stepped past the removing node\n    if (node.previousSibling === currentRemovingNode) {\n      currentRemovingNode = null;\n    }\n    // A node to remove was found in the template\n    if (nodesToRemove.has(node)) {\n      nodesToRemoveInTemplate.push(node);\n      // Track node we're removing\n      if (currentRemovingNode === null) {\n        currentRemovingNode = node;\n      }\n    }\n    // When removing, increment count by which to adjust subsequent part indices\n    if (currentRemovingNode !== null) {\n      removeCount++;\n    }\n    while (part !== undefined && part.index === nodeIndex) {\n      // If part is in a removed node deactivate it by setting index to -1 or\n      // adjust the index as needed.\n      part.index = currentRemovingNode !== null ? -1 : part.index - removeCount;\n      // go to the next active part.\n      partIndex = nextActiveIndexInTemplateParts(parts, partIndex);\n      part = parts[partIndex];\n    }\n  }\n  nodesToRemoveInTemplate.forEach((n) => n.parentNode!.removeChild(n));\n}\n\nconst countNodes = (node: Node) => {\n  let count = (node.nodeType === 11 /* Node.DOCUMENT_FRAGMENT_NODE */) ? 0 : 1;\n  const walker = document.createTreeWalker(node, walkerNodeFilter, null, false);\n  while (walker.nextNode()) {\n    count++;\n  }\n  return count;\n};\n\nconst nextActiveIndexInTemplateParts =\n    (parts: TemplatePart[], startIndex: number = -1) => {\n      for (let i = startIndex + 1; i < parts.length; i++) {\n        const part = parts[i];\n        if (isTemplatePartActive(part)) {\n          return i;\n        }\n      }\n      return -1;\n    };\n\n/**\n * Inserts the given node into the Template, optionally before the given\n * refNode. In addition to inserting the node into the Template, the Template\n * part indices are updated to match the mutated Template DOM.\n */\nexport function insertNodeIntoTemplate(\n    template: Template, node: Node, refNode: Node|null = null) {\n  const {element: {content}, parts} = template;\n  // If there's no refNode, then put node at end of template.\n  // No part indices need to be shifted in this case.\n  if (refNode === null || refNode === undefined) {\n    content.appendChild(node);\n    return;\n  }\n  const walker =\n      document.createTreeWalker(content, walkerNodeFilter, null, false);\n  let partIndex = nextActiveIndexInTemplateParts(parts);\n  let insertCount = 0;\n  let walkerIndex = -1;\n  while (walker.nextNode()) {\n    walkerIndex++;\n    const walkerNode = walker.currentNode as Element;\n    if (walkerNode === refNode) {\n      insertCount = countNodes(node);\n      refNode.parentNode!.insertBefore(node, refNode);\n    }\n    while (partIndex !== -1 && parts[partIndex].index === walkerIndex) {\n      // If we've inserted the node, simply adjust all subsequent parts\n      if (insertCount > 0) {\n        while (partIndex !== -1) {\n          parts[partIndex].index += insertCount;\n          partIndex = nextActiveIndexInTemplateParts(parts, partIndex);\n        }\n        return;\n      }\n      partIndex = nextActiveIndexInTemplateParts(parts, partIndex);\n    }\n  }\n}\n","/**\n * @license\n * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at\n * http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at\n * http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at\n * http://polymer.github.io/PATENTS.txt\n */\n\n/**\n * Module to add shady DOM/shady CSS polyfill support to lit-html template\n * rendering. See the [[render]] method for details.\n *\n * @module shady-render\n * @preferred\n */\n\n/**\n * Do not remove this comment; it keeps typedoc from misplacing the module\n * docs.\n */\nimport {removeNodes} from './dom.js';\nimport {insertNodeIntoTemplate, removeNodesFromTemplate} from './modify-template.js';\nimport {RenderOptions} from './render-options.js';\nimport {parts, render as litRender} from './render.js';\nimport {templateCaches} from './template-factory.js';\nimport {TemplateInstance} from './template-instance.js';\nimport {TemplateResult} from './template-result.js';\nimport {marker, Template} from './template.js';\n\nexport {html, svg, TemplateResult} from '../lit-html.js';\n\n// Get a key to lookup in `templateCaches`.\nconst getTemplateCacheKey = (type: string, scopeName: string) =>\n    `${type}--${scopeName}`;\n\nlet compatibleShadyCSSVersion = true;\n\nif (typeof window.ShadyCSS === 'undefined') {\n  compatibleShadyCSSVersion = false;\n} else if (typeof window.ShadyCSS.prepareTemplateDom === 'undefined') {\n  console.warn(\n      `Incompatible ShadyCSS version detected. ` +\n      `Please update to at least @webcomponents/webcomponentsjs@2.0.2 and ` +\n      `@webcomponents/shadycss@1.3.1.`);\n  compatibleShadyCSSVersion = false;\n}\n\n/**\n * Template factory which scopes template DOM using ShadyCSS.\n * @param scopeName {string}\n */\nconst shadyTemplateFactory = (scopeName: string) =>\n    (result: TemplateResult) => {\n      const cacheKey = getTemplateCacheKey(result.type, scopeName);\n      let templateCache = templateCaches.get(cacheKey);\n      if (templateCache === undefined) {\n        templateCache = {\n          stringsArray: new WeakMap<TemplateStringsArray, Template>(),\n          keyString: new Map<string, Template>()\n        };\n        templateCaches.set(cacheKey, templateCache);\n      }\n\n      let template = templateCache.stringsArray.get(result.strings);\n      if (template !== undefined) {\n        return template;\n      }\n\n      const key = result.strings.join(marker);\n      template = templateCache.keyString.get(key);\n      if (template === undefined) {\n        const element = result.getTemplateElement();\n        if (compatibleShadyCSSVersion) {\n          window.ShadyCSS!.prepareTemplateDom(element, scopeName);\n        }\n        template = new Template(result, element);\n        templateCache.keyString.set(key, template);\n      }\n      templateCache.stringsArray.set(result.strings, template);\n      return template;\n    };\n\nconst TEMPLATE_TYPES = ['html', 'svg'];\n\n/**\n * Removes all style elements from Templates for the given scopeName.\n */\nconst removeStylesFromLitTemplates = (scopeName: string) => {\n  TEMPLATE_TYPES.forEach((type) => {\n    const templates = templateCaches.get(getTemplateCacheKey(type, scopeName));\n    if (templates !== undefined) {\n      templates.keyString.forEach((template) => {\n        const {element: {content}} = template;\n        // IE 11 doesn't support the iterable param Set constructor\n        const styles = new Set<Element>();\n        Array.from(content.querySelectorAll('style')).forEach((s: Element) => {\n          styles.add(s);\n        });\n        removeNodesFromTemplate(template, styles);\n      });\n    }\n  });\n};\n\nconst shadyRenderSet = new Set<string>();\n\n/**\n * For the given scope name, ensures that ShadyCSS style scoping is performed.\n * This is done just once per scope name so the fragment and template cannot\n * be modified.\n * (1) extracts styles from the rendered fragment and hands them to ShadyCSS\n * to be scoped and appended to the document\n * (2) removes style elements from all lit-html Templates for this scope name.\n *\n * Note, <style> elements can only be placed into templates for the\n * initial rendering of the scope. If <style> elements are included in templates\n * dynamically rendered to the scope (after the first scope render), they will\n * not be scoped and the <style> will be left in the template and rendered\n * output.\n */\nconst prepareTemplateStyles =\n    (scopeName: string, renderedDOM: DocumentFragment, template?: Template) => {\n      shadyRenderSet.add(scopeName);\n      // If `renderedDOM` is stamped from a Template, then we need to edit that\n      // Template's underlying template element. Otherwise, we create one here\n      // to give to ShadyCSS, which still requires one while scoping.\n      const templateElement =\n          !!template ? template.element : document.createElement('template');\n      // Move styles out of rendered DOM and store.\n      const styles = renderedDOM.querySelectorAll('style');\n      const {length} = styles;\n      // If there are no styles, skip unnecessary work\n      if (length === 0) {\n        // Ensure prepareTemplateStyles is called to support adding\n        // styles via `prepareAdoptedCssText` since that requires that\n        // `prepareTemplateStyles` is called.\n        //\n        // ShadyCSS will only update styles containing @apply in the template\n        // given to `prepareTemplateStyles`. If no lit Template was given,\n        // ShadyCSS will not be able to update uses of @apply in any relevant\n        // template. However, this is not a problem because we only create the\n        // template for the purpose of supporting `prepareAdoptedCssText`,\n        // which doesn't support @apply at all.\n        window.ShadyCSS!.prepareTemplateStyles(templateElement, scopeName);\n        return;\n      }\n      const condensedStyle = document.createElement('style');\n      // Collect styles into a single style. This helps us make sure ShadyCSS\n      // manipulations will not prevent us from being able to fix up template\n      // part indices.\n      // NOTE: collecting styles is inefficient for browsers but ShadyCSS\n      // currently does this anyway. When it does not, this should be changed.\n      for (let i = 0; i < length; i++) {\n        const style = styles[i];\n        style.parentNode!.removeChild(style);\n        condensedStyle.textContent! += style.textContent;\n      }\n      // Remove styles from nested templates in this scope.\n      removeStylesFromLitTemplates(scopeName);\n      // And then put the condensed style into the \"root\" template passed in as\n      // `template`.\n      const content = templateElement.content;\n      if (!!template) {\n        insertNodeIntoTemplate(template, condensedStyle, content.firstChild);\n      } else {\n        content.insertBefore(condensedStyle, content.firstChild);\n      }\n      // Note, it's important that ShadyCSS gets the template that `lit-html`\n      // will actually render so that it can update the style inside when\n      // needed (e.g. @apply native Shadow DOM case).\n      window.ShadyCSS!.prepareTemplateStyles(templateElement, scopeName);\n      const style = content.querySelector('style');\n      if (window.ShadyCSS!.nativeShadow && style !== null) {\n        // When in native Shadow DOM, ensure the style created by ShadyCSS is\n        // included in initially rendered output (`renderedDOM`).\n        renderedDOM.insertBefore(style.cloneNode(true), renderedDOM.firstChild);\n      } else if (!!template) {\n        // When no style is left in the template, parts will be broken as a\n        // result. To fix this, we put back the style node ShadyCSS removed\n        // and then tell lit to remove that node from the template.\n        // There can be no style in the template in 2 cases (1) when Shady DOM\n        // is in use, ShadyCSS removes all styles, (2) when native Shadow DOM\n        // is in use ShadyCSS removes the style if it contains no content.\n        // NOTE, ShadyCSS creates its own style so we can safely add/remove\n        // `condensedStyle` here.\n        content.insertBefore(condensedStyle, content.firstChild);\n        const removes = new Set<Node>();\n        removes.add(condensedStyle);\n        removeNodesFromTemplate(template, removes);\n      }\n    };\n\nexport interface ShadyRenderOptions extends Partial<RenderOptions> {\n  scopeName: string;\n}\n\n/**\n * Extension to the standard `render` method which supports rendering\n * to ShadowRoots when the ShadyDOM (https://github.com/webcomponents/shadydom)\n * and ShadyCSS (https://github.com/webcomponents/shadycss) polyfills are used\n * or when the webcomponentsjs\n * (https://github.com/webcomponents/webcomponentsjs) polyfill is used.\n *\n * Adds a `scopeName` option which is used to scope element DOM and stylesheets\n * when native ShadowDOM is unavailable. The `scopeName` will be added to\n * the class attribute of all rendered DOM. In addition, any style elements will\n * be automatically re-written with this `scopeName` selector and moved out\n * of the rendered DOM and into the document `<head>`.\n *\n * It is common to use this render method in conjunction with a custom element\n * which renders a shadowRoot. When this is done, typically the element's\n * `localName` should be used as the `scopeName`.\n *\n * In addition to DOM scoping, ShadyCSS also supports a basic shim for css\n * custom properties (needed only on older browsers like IE11) and a shim for\n * a deprecated feature called `@apply` that supports applying a set of css\n * custom properties to a given location.\n *\n * Usage considerations:\n *\n * * Part values in `<style>` elements are only applied the first time a given\n * `scopeName` renders. Subsequent changes to parts in style elements will have\n * no effect. Because of this, parts in style elements should only be used for\n * values that will never change, for example parts that set scope-wide theme\n * values or parts which render shared style elements.\n *\n * * Note, due to a limitation of the ShadyDOM polyfill, rendering in a\n * custom element's `constructor` is not supported. Instead rendering should\n * either done asynchronously, for example at microtask timing (for example\n * `Promise.resolve()`), or be deferred until the first time the element's\n * `connectedCallback` runs.\n *\n * Usage considerations when using shimmed custom properties or `@apply`:\n *\n * * Whenever any dynamic changes are made which affect\n * css custom properties, `ShadyCSS.styleElement(element)` must be called\n * to update the element. There are two cases when this is needed:\n * (1) the element is connected to a new parent, (2) a class is added to the\n * element that causes it to match different custom properties.\n * To address the first case when rendering a custom element, `styleElement`\n * should be called in the element's `connectedCallback`.\n *\n * * Shimmed custom properties may only be defined either for an entire\n * shadowRoot (for example, in a `:host` rule) or via a rule that directly\n * matches an element with a shadowRoot. In other words, instead of flowing from\n * parent to child as do native css custom properties, shimmed custom properties\n * flow only from shadowRoots to nested shadowRoots.\n *\n * * When using `@apply` mixing css shorthand property names with\n * non-shorthand names (for example `border` and `border-width`) is not\n * supported.\n */\nexport const render =\n    (result: unknown,\n     container: Element|DocumentFragment|ShadowRoot,\n     options: ShadyRenderOptions) => {\n      if (!options || typeof options !== 'object' || !options.scopeName) {\n        throw new Error('The `scopeName` option is required.');\n      }\n      const scopeName = options.scopeName;\n      const hasRendered = parts.has(container);\n      const needsScoping = compatibleShadyCSSVersion &&\n          container.nodeType === 11 /* Node.DOCUMENT_FRAGMENT_NODE */ &&\n          !!(container as ShadowRoot).host;\n      // Handle first render to a scope specially...\n      const firstScopeRender = needsScoping && !shadyRenderSet.has(scopeName);\n      // On first scope render, render into a fragment; this cannot be a single\n      // fragment that is reused since nested renders can occur synchronously.\n      const renderContainer =\n          firstScopeRender ? document.createDocumentFragment() : container;\n      litRender(\n          result,\n          renderContainer,\n          {templateFactory: shadyTemplateFactory(scopeName), ...options} as\n              RenderOptions);\n      // When performing first scope render,\n      // (1) We've rendered into a fragment so that there's a chance to\n      // `prepareTemplateStyles` before sub-elements hit the DOM\n      // (which might cause them to render based on a common pattern of\n      // rendering in a custom element's `connectedCallback`);\n      // (2) Scope the template with ShadyCSS one time only for this scope.\n      // (3) Render the fragment into the container and make sure the\n      // container knows its `part` is the one we just rendered. This ensures\n      // DOM will be re-used on subsequent renders.\n      if (firstScopeRender) {\n        const part = parts.get(renderContainer)!;\n        parts.delete(renderContainer);\n        // ShadyCSS might have style sheets (e.g. from `prepareAdoptedCssText`)\n        // that should apply to `renderContainer` even if the rendered value is\n        // not a TemplateInstance. However, it will only insert scoped styles\n        // into the document if `prepareTemplateStyles` has already been called\n        // for the given scope name.\n        const template = part.value instanceof TemplateInstance ?\n            part.value.template :\n            undefined;\n        prepareTemplateStyles(\n            scopeName, renderContainer as DocumentFragment, template);\n        removeNodes(container, container.firstChild);\n        container.appendChild(renderContainer);\n        parts.set(container, part);\n      }\n      // After elements have hit the DOM, update styling if this is the\n      // initial render to this container.\n      // This is needed whenever dynamic changes are made so it would be\n      // safest to do every render; however, this would regress performance\n      // so we leave it up to the user to call `ShadyCSS.styleElement`\n      // for dynamic changes.\n      if (!hasRendered && needsScoping) {\n        window.ShadyCSS!.styleElement((container as ShadowRoot).host);\n      }\n    };\n","/**\n * @license\n * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at\n * http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at\n * http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at\n * http://polymer.github.io/PATENTS.txt\n */\n\n/**\n * When using Closure Compiler, JSCompiler_renameProperty(property, object) is\n * replaced at compile time by the munged name for object[property]. We cannot\n * alias this function, so we have to use a small shim that has the same\n * behavior when not compiling.\n */\nwindow.JSCompiler_renameProperty =\n    <P extends PropertyKey>(prop: P, _obj: unknown): P => prop;\n\ndeclare global {\n  var JSCompiler_renameProperty: <P extends PropertyKey>(\n      prop: P, _obj: unknown) => P;\n\n  interface Window {\n    JSCompiler_renameProperty: typeof JSCompiler_renameProperty;\n  }\n}\n\n/**\n * Converts property values to and from attribute values.\n */\nexport interface ComplexAttributeConverter<Type = unknown, TypeHint = unknown> {\n  /**\n   * Function called to convert an attribute value to a property\n   * value.\n   */\n  fromAttribute?(value: string|null, type?: TypeHint): Type;\n\n  /**\n   * Function called to convert a property value to an attribute\n   * value.\n   *\n   * It returns unknown instead of string, to be compatible with\n   * https://github.com/WICG/trusted-types (and similar efforts).\n   */\n  toAttribute?(value: Type, type?: TypeHint): unknown;\n}\n\ntype AttributeConverter<Type = unknown, TypeHint = unknown> =\n    ComplexAttributeConverter<Type>|((value: string, type?: TypeHint) => Type);\n\n/**\n * Defines options for a property accessor.\n */\nexport interface PropertyDeclaration<Type = unknown, TypeHint = unknown> {\n  /**\n   * Indicates how and whether the property becomes an observed attribute.\n   * If the value is `false`, the property is not added to `observedAttributes`.\n   * If true or absent, the lowercased property name is observed (e.g. `fooBar`\n   * becomes `foobar`). If a string, the string value is observed (e.g\n   * `attribute: 'foo-bar'`).\n   */\n  readonly attribute?: boolean|string;\n\n  /**\n   * Indicates the type of the property. This is used only as a hint for the\n   * `converter` to determine how to convert the attribute\n   * to/from a property.\n   */\n  readonly type?: TypeHint;\n\n  /**\n   * Indicates how to convert the attribute to/from a property. If this value\n   * is a function, it is used to convert the attribute value a the property\n   * value. If it's an object, it can have keys for `fromAttribute` and\n   * `toAttribute`. If no `toAttribute` function is provided and\n   * `reflect` is set to `true`, the property value is set directly to the\n   * attribute. A default `converter` is used if none is provided; it supports\n   * `Boolean`, `String`, `Number`, `Object`, and `Array`. Note,\n   * when a property changes and the converter is used to update the attribute,\n   * the property is never updated again as a result of the attribute changing,\n   * and vice versa.\n   */\n  readonly converter?: AttributeConverter<Type, TypeHint>;\n\n  /**\n   * Indicates if the property should reflect to an attribute.\n   * If `true`, when the property is set, the attribute is set using the\n   * attribute name determined according to the rules for the `attribute`\n   * property option and the value of the property converted using the rules\n   * from the `converter` property option.\n   */\n  readonly reflect?: boolean;\n\n  /**\n   * A function that indicates if a property should be considered changed when\n   * it is set. The function should take the `newValue` and `oldValue` and\n   * return `true` if an update should be requested.\n   */\n  hasChanged?(value: Type, oldValue: Type): boolean;\n\n  /**\n   * Indicates whether an accessor will be created for this property. By\n   * default, an accessor will be generated for this property that requests an\n   * update when set. If this flag is `true`, no accessor will be created, and\n   * it will be the user's responsibility to call\n   * `this.requestUpdate(propertyName, oldValue)` to request an update when\n   * the property changes.\n   */\n  readonly noAccessor?: boolean;\n}\n\n/**\n * Map of properties to PropertyDeclaration options. For each property an\n * accessor is made, and the property is processed according to the\n * PropertyDeclaration options.\n */\nexport interface PropertyDeclarations {\n  readonly [key: string]: PropertyDeclaration;\n}\n\ntype PropertyDeclarationMap = Map<PropertyKey, PropertyDeclaration>;\n\ntype AttributeMap = Map<string, PropertyKey>;\n\nexport type PropertyValues = Map<PropertyKey, unknown>;\n\nexport const defaultConverter: ComplexAttributeConverter = {\n\n  toAttribute(value: unknown, type?: unknown): unknown {\n    switch (type) {\n      case Boolean:\n        return value ? '' : null;\n      case Object:\n      case Array:\n        // if the value is `null` or `undefined` pass this through\n        // to allow removing/no change behavior.\n        return value == null ? value : JSON.stringify(value);\n    }\n    return value;\n  },\n\n  fromAttribute(value: string|null, type?: unknown) {\n    switch (type) {\n      case Boolean:\n        return value !== null;\n      case Number:\n        return value === null ? null : Number(value);\n      case Object:\n      case Array:\n        return JSON.parse(value!);\n    }\n    return value;\n  }\n\n};\n\nexport interface HasChanged {\n  (value: unknown, old: unknown): boolean;\n}\n\n/**\n * Change function that returns true if `value` is different from `oldValue`.\n * This method is used as the default for a property's `hasChanged` function.\n */\nexport const notEqual: HasChanged = (value: unknown, old: unknown): boolean => {\n  // This ensures (old==NaN, value==NaN) always returns false\n  return old !== value && (old === old || value === value);\n};\n\nconst defaultPropertyDeclaration: PropertyDeclaration = {\n  attribute: true,\n  type: String,\n  converter: defaultConverter,\n  reflect: false,\n  hasChanged: notEqual\n};\n\nconst microtaskPromise = Promise.resolve(true);\n\nconst STATE_HAS_UPDATED = 1;\nconst STATE_UPDATE_REQUESTED = 1 << 2;\nconst STATE_IS_REFLECTING_TO_ATTRIBUTE = 1 << 3;\nconst STATE_IS_REFLECTING_TO_PROPERTY = 1 << 4;\nconst STATE_HAS_CONNECTED = 1 << 5;\ntype UpdateState = typeof STATE_HAS_UPDATED|typeof STATE_UPDATE_REQUESTED|\n    typeof STATE_IS_REFLECTING_TO_ATTRIBUTE|\n    typeof STATE_IS_REFLECTING_TO_PROPERTY|typeof STATE_HAS_CONNECTED;\n\n/**\n * The Closure JS Compiler doesn't currently have good support for static\n * property semantics where \"this\" is dynamic (e.g.\n * https://github.com/google/closure-compiler/issues/3177 and others) so we use\n * this hack to bypass any rewriting by the compiler.\n */\nconst finalized = 'finalized';\n\n/**\n * Base element class which manages element properties and attributes. When\n * properties change, the `update` method is asynchronously called. This method\n * should be supplied by subclassers to render updates as desired.\n */\nexport abstract class UpdatingElement extends HTMLElement {\n  /*\n   * Due to closure compiler ES6 compilation bugs, @nocollapse is required on\n   * all static methods and properties with initializers.  Reference:\n   * - https://github.com/google/closure-compiler/issues/1776\n   */\n\n  /**\n   * Maps attribute names to properties; for example `foobar` attribute to\n   * `fooBar` property. Created lazily on user subclasses when finalizing the\n   * class.\n   */\n  private static _attributeToPropertyMap: AttributeMap;\n\n  /**\n   * Marks class as having finished creating properties.\n   */\n  protected static[finalized] = true;\n\n  /**\n   * Memoized list of all class properties, including any superclass properties.\n   * Created lazily on user subclasses when finalizing the class.\n   */\n  private static _classProperties?: PropertyDeclarationMap;\n\n  /**\n   * User-supplied object that maps property names to `PropertyDeclaration`\n   * objects containing options for configuring the property.\n   */\n  static properties: PropertyDeclarations;\n\n  /**\n   * Returns a list of attributes corresponding to the registered properties.\n   * @nocollapse\n   */\n  static get observedAttributes() {\n    // note: piggy backing on this to ensure we're finalized.\n    this.finalize();\n    const attributes: string[] = [];\n    // Use forEach so this works even if for/of loops are compiled to for loops\n    // expecting arrays\n    this._classProperties!.forEach((v, p) => {\n      const attr = this._attributeNameForProperty(p, v);\n      if (attr !== undefined) {\n        this._attributeToPropertyMap.set(attr, p);\n        attributes.push(attr);\n      }\n    });\n    return attributes;\n  }\n\n  /**\n   * Ensures the private `_classProperties` property metadata is created.\n   * In addition to `finalize` this is also called in `createProperty` to\n   * ensure the `@property` decorator can add property metadata.\n   */\n  /** @nocollapse */\n  private static _ensureClassProperties() {\n    // ensure private storage for property declarations.\n    if (!this.hasOwnProperty(\n            JSCompiler_renameProperty('_classProperties', this))) {\n      this._classProperties = new Map();\n      // NOTE: Workaround IE11 not supporting Map constructor argument.\n      const superProperties: PropertyDeclarationMap =\n          Object.getPrototypeOf(this)._classProperties;\n      if (superProperties !== undefined) {\n        superProperties.forEach(\n            (v: PropertyDeclaration, k: PropertyKey) =>\n                this._classProperties!.set(k, v));\n      }\n    }\n  }\n\n  /**\n   * Creates a property accessor on the element prototype if one does not exist.\n   * The property setter calls the property's `hasChanged` property option\n   * or uses a strict identity check to determine whether or not to request\n   * an update.\n   * @nocollapse\n   */\n  static createProperty(\n      name: PropertyKey,\n      options: PropertyDeclaration = defaultPropertyDeclaration) {\n    // Note, since this can be called by the `@property` decorator which\n    // is called before `finalize`, we ensure storage exists for property\n    // metadata.\n    this._ensureClassProperties();\n    this._classProperties!.set(name, options);\n    // Do not generate an accessor if the prototype already has one, since\n    // it would be lost otherwise and that would never be the user's intention;\n    // Instead, we expect users to call `requestUpdate` themselves from\n    // user-defined accessors. Note that if the super has an accessor we will\n    // still overwrite it\n    if (options.noAccessor || this.prototype.hasOwnProperty(name)) {\n      return;\n    }\n    const key = typeof name === 'symbol' ? Symbol() : `__${name}`;\n    Object.defineProperty(this.prototype, name, {\n      // tslint:disable-next-line:no-any no symbol in index\n      get(): any {\n        return (this as {[key: string]: unknown})[key as string];\n      },\n      set(this: UpdatingElement, value: unknown) {\n        const oldValue =\n            (this as {} as {[key: string]: unknown})[name as string];\n        (this as {} as {[key: string]: unknown})[key as string] = value;\n        (this as unknown as UpdatingElement)._requestUpdate(name, oldValue);\n      },\n      configurable: true,\n      enumerable: true\n    });\n  }\n\n  /**\n   * Creates property accessors for registered properties and ensures\n   * any superclasses are also finalized.\n   * @nocollapse\n   */\n  protected static finalize() {\n    // finalize any superclasses\n    const superCtor = Object.getPrototypeOf(this);\n    if (!superCtor.hasOwnProperty(finalized)) {\n      superCtor.finalize();\n    }\n    this[finalized] = true;\n    this._ensureClassProperties();\n    // initialize Map populated in observedAttributes\n    this._attributeToPropertyMap = new Map();\n    // make any properties\n    // Note, only process \"own\" properties since this element will inherit\n    // any properties defined on the superClass, and finalization ensures\n    // the entire prototype chain is finalized.\n    if (this.hasOwnProperty(JSCompiler_renameProperty('properties', this))) {\n      const props = this.properties;\n      // support symbols in properties (IE11 does not support this)\n      const propKeys = [\n        ...Object.getOwnPropertyNames(props),\n        ...(typeof Object.getOwnPropertySymbols === 'function') ?\n            Object.getOwnPropertySymbols(props) :\n            []\n      ];\n      // This for/of is ok because propKeys is an array\n      for (const p of propKeys) {\n        // note, use of `any` is due to TypeSript lack of support for symbol in\n        // index types\n        // tslint:disable-next-line:no-any no symbol in index\n        this.createProperty(p, (props as any)[p]);\n      }\n    }\n  }\n\n  /**\n   * Returns the property name for the given attribute `name`.\n   * @nocollapse\n   */\n  private static _attributeNameForProperty(\n      name: PropertyKey, options: PropertyDeclaration) {\n    const attribute = options.attribute;\n    return attribute === false ?\n        undefined :\n        (typeof attribute === 'string' ?\n             attribute :\n             (typeof name === 'string' ? name.toLowerCase() : undefined));\n  }\n\n  /**\n   * Returns true if a property should request an update.\n   * Called when a property value is set and uses the `hasChanged`\n   * option for the property if present or a strict identity check.\n   * @nocollapse\n   */\n  private static _valueHasChanged(\n      value: unknown, old: unknown, hasChanged: HasChanged = notEqual) {\n    return hasChanged(value, old);\n  }\n\n  /**\n   * Returns the property value for the given attribute value.\n   * Called via the `attributeChangedCallback` and uses the property's\n   * `converter` or `converter.fromAttribute` property option.\n   * @nocollapse\n   */\n  private static _propertyValueFromAttribute(\n      value: string|null, options: PropertyDeclaration) {\n    const type = options.type;\n    const converter = options.converter || defaultConverter;\n    const fromAttribute =\n        (typeof converter === 'function' ? converter : converter.fromAttribute);\n    return fromAttribute ? fromAttribute(value, type) : value;\n  }\n\n  /**\n   * Returns the attribute value for the given property value. If this\n   * returns undefined, the property will *not* be reflected to an attribute.\n   * If this returns null, the attribute will be removed, otherwise the\n   * attribute will be set to the value.\n   * This uses the property's `reflect` and `type.toAttribute` property options.\n   * @nocollapse\n   */\n  private static _propertyValueToAttribute(\n      value: unknown, options: PropertyDeclaration) {\n    if (options.reflect === undefined) {\n      return;\n    }\n    const type = options.type;\n    const converter = options.converter;\n    const toAttribute =\n        converter && (converter as ComplexAttributeConverter).toAttribute ||\n        defaultConverter.toAttribute;\n    return toAttribute!(value, type);\n  }\n\n  private _updateState: UpdateState = 0;\n  private _instanceProperties: PropertyValues|undefined = undefined;\n  private _updatePromise: Promise<unknown> = microtaskPromise;\n  private _hasConnectedResolver: (() => void)|undefined = undefined;\n\n  /**\n   * Map with keys for any properties that have changed since the last\n   * update cycle with previous values.\n   */\n  private _changedProperties: PropertyValues = new Map();\n\n  /**\n   * Map with keys of properties that should be reflected when updated.\n   */\n  private _reflectingProperties: Map<PropertyKey, PropertyDeclaration>|\n      undefined = undefined;\n\n  constructor() {\n    super();\n    this.initialize();\n  }\n\n  /**\n   * Performs element initialization. By default captures any pre-set values for\n   * registered properties.\n   */\n  protected initialize() {\n    this._saveInstanceProperties();\n    // ensures first update will be caught by an early access of\n    // `updateComplete`\n    this._requestUpdate();\n  }\n\n  /**\n   * Fixes any properties set on the instance before upgrade time.\n   * Otherwise these would shadow the accessor and break these properties.\n   * The properties are stored in a Map which is played back after the\n   * constructor runs. Note, on very old versions of Safari (<=9) or Chrome\n   * (<=41), properties created for native platform properties like (`id` or\n   * `name`) may not have default values set in the element constructor. On\n   * these browsers native properties appear on instances and therefore their\n   * default value will overwrite any element default (e.g. if the element sets\n   * this.id = 'id' in the constructor, the 'id' will become '' since this is\n   * the native platform default).\n   */\n  private _saveInstanceProperties() {\n    // Use forEach so this works even if for/of loops are compiled to for loops\n    // expecting arrays\n    (this.constructor as typeof UpdatingElement)\n        ._classProperties!.forEach((_v, p) => {\n          if (this.hasOwnProperty(p)) {\n            const value = this[p as keyof this];\n            delete this[p as keyof this];\n            if (!this._instanceProperties) {\n              this._instanceProperties = new Map();\n            }\n            this._instanceProperties.set(p, value);\n          }\n        });\n  }\n\n  /**\n   * Applies previously saved instance properties.\n   */\n  private _applyInstanceProperties() {\n    // Use forEach so this works even if for/of loops are compiled to for loops\n    // expecting arrays\n    // tslint:disable-next-line:no-any\n    this._instanceProperties!.forEach((v, p) => (this as any)[p] = v);\n    this._instanceProperties = undefined;\n  }\n\n  connectedCallback() {\n    this._updateState = this._updateState | STATE_HAS_CONNECTED;\n    // Ensure first connection completes an update. Updates cannot complete\n    // before connection and if one is pending connection the\n    // `_hasConnectionResolver` will exist. If so, resolve it to complete the\n    // update, otherwise requestUpdate.\n    if (this._hasConnectedResolver) {\n      this._hasConnectedResolver();\n      this._hasConnectedResolver = undefined;\n    }\n  }\n\n  /**\n   * Allows for `super.disconnectedCallback()` in extensions while\n   * reserving the possibility of making non-breaking feature additions\n   * when disconnecting at some point in the future.\n   */\n  disconnectedCallback() {\n  }\n\n  /**\n   * Synchronizes property values when attributes change.\n   */\n  attributeChangedCallback(name: string, old: string|null, value: string|null) {\n    if (old !== value) {\n      this._attributeToProperty(name, value);\n    }\n  }\n\n  private _propertyToAttribute(\n      name: PropertyKey, value: unknown,\n      options: PropertyDeclaration = defaultPropertyDeclaration) {\n    const ctor = (this.constructor as typeof UpdatingElement);\n    const attr = ctor._attributeNameForProperty(name, options);\n    if (attr !== undefined) {\n      const attrValue = ctor._propertyValueToAttribute(value, options);\n      // an undefined value does not change the attribute.\n      if (attrValue === undefined) {\n        return;\n      }\n      // Track if the property is being reflected to avoid\n      // setting the property again via `attributeChangedCallback`. Note:\n      // 1. this takes advantage of the fact that the callback is synchronous.\n      // 2. will behave incorrectly if multiple attributes are in the reaction\n      // stack at time of calling. However, since we process attributes\n      // in `update` this should not be possible (or an extreme corner case\n      // that we'd like to discover).\n      // mark state reflecting\n      this._updateState = this._updateState | STATE_IS_REFLECTING_TO_ATTRIBUTE;\n      if (attrValue == null) {\n        this.removeAttribute(attr);\n      } else {\n        this.setAttribute(attr, attrValue as string);\n      }\n      // mark state not reflecting\n      this._updateState = this._updateState & ~STATE_IS_REFLECTING_TO_ATTRIBUTE;\n    }\n  }\n\n  private _attributeToProperty(name: string, value: string|null) {\n    // Use tracking info to avoid deserializing attribute value if it was\n    // just set from a property setter.\n    if (this._updateState & STATE_IS_REFLECTING_TO_ATTRIBUTE) {\n      return;\n    }\n    const ctor = (this.constructor as typeof UpdatingElement);\n    const propName = ctor._attributeToPropertyMap.get(name);\n    if (propName !== undefined) {\n      const options =\n          ctor._classProperties!.get(propName) || defaultPropertyDeclaration;\n      // mark state reflecting\n      this._updateState = this._updateState | STATE_IS_REFLECTING_TO_PROPERTY;\n      this[propName as keyof this] =\n          // tslint:disable-next-line:no-any\n          ctor._propertyValueFromAttribute(value, options) as any;\n      // mark state not reflecting\n      this._updateState = this._updateState & ~STATE_IS_REFLECTING_TO_PROPERTY;\n    }\n  }\n\n  /**\n   * This private version of `requestUpdate` does not access or return the\n   * `updateComplete` promise. This promise can be overridden and is therefore\n   * not free to access.\n   */\n  private _requestUpdate(name?: PropertyKey, oldValue?: unknown) {\n    let shouldRequestUpdate = true;\n    // If we have a property key, perform property update steps.\n    if (name !== undefined) {\n      const ctor = this.constructor as typeof UpdatingElement;\n      const options =\n          ctor._classProperties!.get(name) || defaultPropertyDeclaration;\n      if (ctor._valueHasChanged(\n              this[name as keyof this], oldValue, options.hasChanged)) {\n        if (!this._changedProperties.has(name)) {\n          this._changedProperties.set(name, oldValue);\n        }\n        // Add to reflecting properties set.\n        // Note, it's important that every change has a chance to add the\n        // property to `_reflectingProperties`. This ensures setting\n        // attribute + property reflects correctly.\n        if (options.reflect === true &&\n            !(this._updateState & STATE_IS_REFLECTING_TO_PROPERTY)) {\n          if (this._reflectingProperties === undefined) {\n            this._reflectingProperties = new Map();\n          }\n          this._reflectingProperties.set(name, options);\n        }\n      } else {\n        // Abort the request if the property should not be considered changed.\n        shouldRequestUpdate = false;\n      }\n    }\n    if (!this._hasRequestedUpdate && shouldRequestUpdate) {\n      this._enqueueUpdate();\n    }\n  }\n\n  /**\n   * Requests an update which is processed asynchronously. This should\n   * be called when an element should update based on some state not triggered\n   * by setting a property. In this case, pass no arguments. It should also be\n   * called when manually implementing a property setter. In this case, pass the\n   * property `name` and `oldValue` to ensure that any configured property\n   * options are honored. Returns the `updateComplete` Promise which is resolved\n   * when the update completes.\n   *\n   * @param name {PropertyKey} (optional) name of requesting property\n   * @param oldValue {any} (optional) old value of requesting property\n   * @returns {Promise} A Promise that is resolved when the update completes.\n   */\n  requestUpdate(name?: PropertyKey, oldValue?: unknown) {\n    this._requestUpdate(name, oldValue);\n    return this.updateComplete;\n  }\n\n  /**\n   * Sets up the element to asynchronously update.\n   */\n  private async _enqueueUpdate() {\n    // Mark state updating...\n    this._updateState = this._updateState | STATE_UPDATE_REQUESTED;\n    let resolve!: (r: boolean) => void;\n    let reject!: (e: Error) => void;\n    const previousUpdatePromise = this._updatePromise;\n    this._updatePromise = new Promise((res, rej) => {\n      resolve = res;\n      reject = rej;\n    });\n    try {\n      // Ensure any previous update has resolved before updating.\n      // This `await` also ensures that property changes are batched.\n      await previousUpdatePromise;\n    } catch (e) {\n      // Ignore any previous errors. We only care that the previous cycle is\n      // done. Any error should have been handled in the previous update.\n    }\n    // Make sure the element has connected before updating.\n    if (!this._hasConnected) {\n      await new Promise((res) => this._hasConnectedResolver = res);\n    }\n    try {\n      const result = this.performUpdate();\n      // If `performUpdate` returns a Promise, we await it. This is done to\n      // enable coordinating updates with a scheduler. Note, the result is\n      // checked to avoid delaying an additional microtask unless we need to.\n      if (result != null) {\n        await result;\n      }\n    } catch (e) {\n      reject(e);\n    }\n    resolve(!this._hasRequestedUpdate);\n  }\n\n  private get _hasConnected() {\n    return (this._updateState & STATE_HAS_CONNECTED);\n  }\n\n  private get _hasRequestedUpdate() {\n    return (this._updateState & STATE_UPDATE_REQUESTED);\n  }\n\n  protected get hasUpdated() {\n    return (this._updateState & STATE_HAS_UPDATED);\n  }\n\n  /**\n   * Performs an element update. Note, if an exception is thrown during the\n   * update, `firstUpdated` and `updated` will not be called.\n   *\n   * You can override this method to change the timing of updates. If this\n   * method is overridden, `super.performUpdate()` must be called.\n   *\n   * For instance, to schedule updates to occur just before the next frame:\n   *\n   * ```\n   * protected async performUpdate(): Promise<unknown> {\n   *   await new Promise((resolve) => requestAnimationFrame(() => resolve()));\n   *   super.performUpdate();\n   * }\n   * ```\n   */\n  protected performUpdate(): void|Promise<unknown> {\n    // Mixin instance properties once, if they exist.\n    if (this._instanceProperties) {\n      this._applyInstanceProperties();\n    }\n    let shouldUpdate = false;\n    const changedProperties = this._changedProperties;\n    try {\n      shouldUpdate = this.shouldUpdate(changedProperties);\n      if (shouldUpdate) {\n        this.update(changedProperties);\n      }\n    } catch (e) {\n      // Prevent `firstUpdated` and `updated` from running when there's an\n      // update exception.\n      shouldUpdate = false;\n      throw e;\n    } finally {\n      // Ensure element can accept additional updates after an exception.\n      this._markUpdated();\n    }\n    if (shouldUpdate) {\n      if (!(this._updateState & STATE_HAS_UPDATED)) {\n        this._updateState = this._updateState | STATE_HAS_UPDATED;\n        this.firstUpdated(changedProperties);\n      }\n      this.updated(changedProperties);\n    }\n  }\n\n  private _markUpdated() {\n    this._changedProperties = new Map();\n    this._updateState = this._updateState & ~STATE_UPDATE_REQUESTED;\n  }\n\n  /**\n   * Returns a Promise that resolves when the element has completed updating.\n   * The Promise value is a boolean that is `true` if the element completed the\n   * update without triggering another update. The Promise result is `false` if\n   * a property was set inside `updated()`. If the Promise is rejected, an\n   * exception was thrown during the update.\n   *\n   * To await additional asynchronous work, override the `_getUpdateComplete`\n   * method. For example, it is sometimes useful to await a rendered element\n   * before fulfilling this Promise. To do this, first await\n   * `super._getUpdateComplete()`, then any subsequent state.\n   *\n   * @returns {Promise} The Promise returns a boolean that indicates if the\n   * update resolved without triggering another update.\n   */\n  get updateComplete() {\n    return this._getUpdateComplete();\n  }\n\n  /**\n   * Override point for the `updateComplete` promise.\n   *\n   * It is not safe to override the `updateComplete` getter directly due to a\n   * limitation in TypeScript which means it is not possible to call a\n   * superclass getter (e.g. `super.updateComplete.then(...)`) when the target\n   * language is ES5 (https://github.com/microsoft/TypeScript/issues/338).\n   * This method should be overridden instead. For example:\n   *\n   *   class MyElement extends LitElement {\n   *     async _getUpdateComplete() {\n   *       await super._getUpdateComplete();\n   *       await this._myChild.updateComplete;\n   *     }\n   *   }\n   */\n  protected _getUpdateComplete() {\n    return this._updatePromise;\n  }\n\n  /**\n   * Controls whether or not `update` should be called when the element requests\n   * an update. By default, this method always returns `true`, but this can be\n   * customized to control when to update.\n   *\n   * * @param _changedProperties Map of changed properties with old values\n   */\n  protected shouldUpdate(_changedProperties: PropertyValues): boolean {\n    return true;\n  }\n\n  /**\n   * Updates the element. This method reflects property values to attributes.\n   * It can be overridden to render and keep updated element DOM.\n   * Setting properties inside this method will *not* trigger\n   * another update.\n   *\n   * * @param _changedProperties Map of changed properties with old values\n   */\n  protected update(_changedProperties: PropertyValues) {\n    if (this._reflectingProperties !== undefined &&\n        this._reflectingProperties.size > 0) {\n      // Use forEach so this works even if for/of loops are compiled to for\n      // loops expecting arrays\n      this._reflectingProperties.forEach(\n          (v, k) => this._propertyToAttribute(k, this[k as keyof this], v));\n      this._reflectingProperties = undefined;\n    }\n  }\n\n  /**\n   * Invoked whenever the element is updated. Implement to perform\n   * post-updating tasks via DOM APIs, for example, focusing an element.\n   *\n   * Setting properties inside this method will trigger the element to update\n   * again after this update cycle completes.\n   *\n   * * @param _changedProperties Map of changed properties with old values\n   */\n  protected updated(_changedProperties: PropertyValues) {\n  }\n\n  /**\n   * Invoked when the element is first updated. Implement to perform one time\n   * work on the element after update.\n   *\n   * Setting properties inside this method will trigger the element to update\n   * again after this update cycle completes.\n   *\n   * * @param _changedProperties Map of changed properties with old values\n   */\n  protected firstUpdated(_changedProperties: PropertyValues) {\n  }\n}\n","/**\n * @license\n * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at\n * http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at\n * http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at\n * http://polymer.github.io/PATENTS.txt\n */\n\nimport {LitElement} from '../lit-element.js';\n\nimport {PropertyDeclaration, UpdatingElement} from './updating-element.js';\n\nexport type Constructor<T> = {\n  new (...args: unknown[]): T\n};\n\n// From the TC39 Decorators proposal\ninterface ClassDescriptor {\n  kind: 'class';\n  elements: ClassElement[];\n  finisher?: <T>(clazz: Constructor<T>) => undefined | Constructor<T>;\n}\n\n// From the TC39 Decorators proposal\ninterface ClassElement {\n  kind: 'field'|'method';\n  key: PropertyKey;\n  placement: 'static'|'prototype'|'own';\n  initializer?: Function;\n  extras?: ClassElement[];\n  finisher?: <T>(clazz: Constructor<T>) => undefined | Constructor<T>;\n  descriptor?: PropertyDescriptor;\n}\n\nconst legacyCustomElement =\n    (tagName: string, clazz: Constructor<HTMLElement>) => {\n      window.customElements.define(tagName, clazz);\n      // Cast as any because TS doesn't recognize the return type as being a\n      // subtype of the decorated class when clazz is typed as\n      // `Constructor<HTMLElement>` for some reason.\n      // `Constructor<HTMLElement>` is helpful to make sure the decorator is\n      // applied to elements however.\n      // tslint:disable-next-line:no-any\n      return clazz as any;\n    };\n\nconst standardCustomElement =\n    (tagName: string, descriptor: ClassDescriptor) => {\n      const {kind, elements} = descriptor;\n      return {\n        kind,\n        elements,\n        // This callback is called once the class is otherwise fully defined\n        finisher(clazz: Constructor<HTMLElement>) {\n          window.customElements.define(tagName, clazz);\n        }\n      };\n    };\n\n/**\n * Class decorator factory that defines the decorated class as a custom element.\n *\n * @param tagName the name of the custom element to define\n */\nexport const customElement = (tagName: string) =>\n    (classOrDescriptor: Constructor<HTMLElement>|ClassDescriptor) =>\n        (typeof classOrDescriptor === 'function') ?\n    legacyCustomElement(tagName, classOrDescriptor) :\n    standardCustomElement(tagName, classOrDescriptor);\n\nconst standardProperty =\n    (options: PropertyDeclaration, element: ClassElement) => {\n      // When decorating an accessor, pass it through and add property metadata.\n      // Note, the `hasOwnProperty` check in `createProperty` ensures we don't\n      // stomp over the user's accessor.\n      if (element.kind === 'method' && element.descriptor &&\n          !('value' in element.descriptor)) {\n        return {\n          ...element,\n          finisher(clazz: typeof UpdatingElement) {\n            clazz.createProperty(element.key, options);\n          }\n        };\n      } else {\n        // createProperty() takes care of defining the property, but we still\n        // must return some kind of descriptor, so return a descriptor for an\n        // unused prototype field. The finisher calls createProperty().\n        return {\n          kind: 'field',\n          key: Symbol(),\n          placement: 'own',\n          descriptor: {},\n          // When @babel/plugin-proposal-decorators implements initializers,\n          // do this instead of the initializer below. See:\n          // https://github.com/babel/babel/issues/9260 extras: [\n          //   {\n          //     kind: 'initializer',\n          //     placement: 'own',\n          //     initializer: descriptor.initializer,\n          //   }\n          // ],\n          initializer(this: {[key: string]: unknown}) {\n            if (typeof element.initializer === 'function') {\n              this[element.key as string] = element.initializer.call(this);\n            }\n          },\n          finisher(clazz: typeof UpdatingElement) {\n            clazz.createProperty(element.key, options);\n          }\n        };\n      }\n    };\n\nconst legacyProperty =\n    (options: PropertyDeclaration, proto: Object, name: PropertyKey) => {\n      (proto.constructor as typeof UpdatingElement)\n          .createProperty(name, options);\n    };\n\n/**\n * A property decorator which creates a LitElement property which reflects a\n * corresponding attribute value. A `PropertyDeclaration` may optionally be\n * supplied to configure property features.\n *\n * @ExportDecoratedItems\n */\nexport function property(options?: PropertyDeclaration) {\n  // tslint:disable-next-line:no-any decorator\n  return (protoOrDescriptor: Object|ClassElement, name?: PropertyKey): any =>\n             (name !== undefined) ?\n      legacyProperty(options!, protoOrDescriptor as Object, name) :\n      standardProperty(options!, protoOrDescriptor as ClassElement);\n}\n\n/**\n * A property decorator that converts a class property into a getter that\n * executes a querySelector on the element's renderRoot.\n *\n * @ExportDecoratedItems\n */\nexport function query(selector: string) {\n  return (protoOrDescriptor: Object|ClassElement,\n          // tslint:disable-next-line:no-any decorator\n          name?: PropertyKey): any => {\n    const descriptor = {\n      get(this: LitElement) {\n        return this.renderRoot.querySelector(selector);\n      },\n      enumerable: true,\n      configurable: true,\n    };\n    return (name !== undefined) ?\n        legacyQuery(descriptor, protoOrDescriptor as Object, name) :\n        standardQuery(descriptor, protoOrDescriptor as ClassElement);\n  };\n}\n\n/**\n * A property decorator that converts a class property into a getter\n * that executes a querySelectorAll on the element's renderRoot.\n *\n * @ExportDecoratedItems\n */\nexport function queryAll(selector: string) {\n  return (protoOrDescriptor: Object|ClassElement,\n          // tslint:disable-next-line:no-any decorator\n          name?: PropertyKey): any => {\n    const descriptor = {\n      get(this: LitElement) {\n        return this.renderRoot.querySelectorAll(selector);\n      },\n      enumerable: true,\n      configurable: true,\n    };\n    return (name !== undefined) ?\n        legacyQuery(descriptor, protoOrDescriptor as Object, name) :\n        standardQuery(descriptor, protoOrDescriptor as ClassElement);\n  };\n}\n\nconst legacyQuery =\n    (descriptor: PropertyDescriptor, proto: Object, name: PropertyKey) => {\n      Object.defineProperty(proto, name, descriptor);\n    };\n\nconst standardQuery = (descriptor: PropertyDescriptor, element: ClassElement) =>\n    ({\n      kind: 'method',\n      placement: 'prototype',\n      key: element.key,\n      descriptor,\n    });\n\nconst standardEventOptions =\n    (options: AddEventListenerOptions, element: ClassElement) => {\n      return {\n        ...element,\n        finisher(clazz: typeof UpdatingElement) {\n          Object.assign(\n              clazz.prototype[element.key as keyof UpdatingElement], options);\n        }\n      };\n    };\n\nconst legacyEventOptions =\n    // tslint:disable-next-line:no-any legacy decorator\n    (options: AddEventListenerOptions, proto: any, name: PropertyKey) => {\n      Object.assign(proto[name], options);\n    };\n\n/**\n * Adds event listener options to a method used as an event listener in a\n * lit-html template.\n *\n * @param options An object that specifis event listener options as accepted by\n * `EventTarget#addEventListener` and `EventTarget#removeEventListener`.\n *\n * Current browsers support the `capture`, `passive`, and `once` options. See:\n * https://developer.mozilla.org/en-US/docs/Web/API/EventTarget/addEventListener#Parameters\n *\n * @example\n *\n *     class MyElement {\n *\n *       clicked = false;\n *\n *       render() {\n *         return html`<div @click=${this._onClick}`><button></button></div>`;\n *       }\n *\n *       @eventOptions({capture: true})\n *       _onClick(e) {\n *         this.clicked = true;\n *       }\n *     }\n */\nexport const eventOptions = (options: AddEventListenerOptions) =>\n    // Return value typed as any to prevent TypeScript from complaining that\n    // standard decorator function signature does not match TypeScript decorator\n    // signature\n    // TODO(kschaaf): unclear why it was only failing on this decorator and not\n    // the others\n    ((protoOrDescriptor: Object|ClassElement, name?: string) =>\n         (name !== undefined) ?\n         legacyEventOptions(options, protoOrDescriptor as Object, name) :\n         standardEventOptions(options, protoOrDescriptor as ClassElement)) as\n        // tslint:disable-next-line:no-any decorator\n        any;\n","/**\n@license\nCopyright (c) 2019 The Polymer Project Authors. All rights reserved.\nThis code may only be used under the BSD style license found at\nhttp://polymer.github.io/LICENSE.txt The complete set of authors may be found at\nhttp://polymer.github.io/AUTHORS.txt The complete set of contributors may be\nfound at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by Google as\npart of the polymer project is also subject to an additional IP rights grant\nfound at http://polymer.github.io/PATENTS.txt\n*/\n\nexport const supportsAdoptingStyleSheets =\n    ('adoptedStyleSheets' in Document.prototype) &&\n    ('replace' in CSSStyleSheet.prototype);\n\nconst constructionToken = Symbol();\n\nexport class CSSResult {\n  _styleSheet?: CSSStyleSheet|null;\n\n  readonly cssText: string;\n\n  constructor(cssText: string, safeToken: symbol) {\n    if (safeToken !== constructionToken) {\n      throw new Error(\n          'CSSResult is not constructable. Use `unsafeCSS` or `css` instead.');\n    }\n    this.cssText = cssText;\n  }\n\n  // Note, this is a getter so that it's lazy. In practice, this means\n  // stylesheets are not created until the first element instance is made.\n  get styleSheet(): CSSStyleSheet|null {\n    if (this._styleSheet === undefined) {\n      // Note, if `adoptedStyleSheets` is supported then we assume CSSStyleSheet\n      // is constructable.\n      if (supportsAdoptingStyleSheets) {\n        this._styleSheet = new CSSStyleSheet();\n        this._styleSheet.replaceSync(this.cssText);\n      } else {\n        this._styleSheet = null;\n      }\n    }\n    return this._styleSheet;\n  }\n\n  toString(): string {\n    return this.cssText;\n  }\n}\n\n/**\n * Wrap a value for interpolation in a css tagged template literal.\n *\n * This is unsafe because untrusted CSS text can be used to phone home\n * or exfiltrate data to an attacker controlled site. Take care to only use\n * this with trusted input.\n */\nexport const unsafeCSS = (value: unknown) => {\n  return new CSSResult(String(value), constructionToken);\n};\n\nconst textFromCSSResult = (value: CSSResult|number) => {\n  if (value instanceof CSSResult) {\n    return value.cssText;\n  } else if (typeof value === 'number') {\n    return value;\n  } else {\n    throw new Error(\n        `Value passed to 'css' function must be a 'css' function result: ${\n            value}. Use 'unsafeCSS' to pass non-literal values, but\n            take care to ensure page security.`);\n  }\n};\n\n/**\n * Template tag which which can be used with LitElement's `style` property to\n * set element styles. For security reasons, only literal string values may be\n * used. To incorporate non-literal values `unsafeCSS` may be used inside a\n * template string part.\n */\nexport const css =\n    (strings: TemplateStringsArray, ...values: (CSSResult|number)[]) => {\n      const cssText = values.reduce(\n          (acc, v, idx) => acc + textFromCSSResult(v) + strings[idx + 1],\n          strings[0]);\n      return new CSSResult(cssText, constructionToken);\n    };\n","/**\n * @license\n * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at\n * http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at\n * http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at\n * http://polymer.github.io/PATENTS.txt\n */\nimport {TemplateResult} from 'lit-html';\nimport {render} from 'lit-html/lib/shady-render.js';\n\nimport {PropertyValues, UpdatingElement} from './lib/updating-element.js';\n\nexport * from './lib/updating-element.js';\nexport * from './lib/decorators.js';\nexport {html, svg, TemplateResult, SVGTemplateResult} from 'lit-html/lit-html.js';\nimport {supportsAdoptingStyleSheets, CSSResult} from './lib/css-tag.js';\nexport * from './lib/css-tag.js';\n\ndeclare global {\n  interface Window {\n    litElementVersions: string[];\n  }\n}\n\n// IMPORTANT: do not change the property name or the assignment expression.\n// This line will be used in regexes to search for LitElement usage.\n// TODO(justinfagnani): inject version number at build time\n(window['litElementVersions'] || (window['litElementVersions'] = []))\n    .push('2.2.1');\n\nexport interface CSSResultArray extends Array<CSSResult|CSSResultArray> {}\n\n/**\n * Minimal implementation of Array.prototype.flat\n * @param arr the array to flatten\n * @param result the accumlated result\n */\nfunction arrayFlat(\n    styles: CSSResultArray, result: CSSResult[] = []): CSSResult[] {\n  for (let i = 0, length = styles.length; i < length; i++) {\n    const value = styles[i];\n    if (Array.isArray(value)) {\n      arrayFlat(value, result);\n    } else {\n      result.push(value);\n    }\n  }\n  return result;\n}\n\n/** Deeply flattens styles array. Uses native flat if available. */\nconst flattenStyles = (styles: CSSResultArray): CSSResult[] =>\n    styles.flat ? styles.flat(Infinity) : arrayFlat(styles);\n\nexport class LitElement extends UpdatingElement {\n\n  /**\n   * Ensure this class is marked as `finalized` as an optimization ensuring\n   * it will not needlessly try to `finalize`.\n   *\n   * Note this property name is a string to prevent breaking Closure JS Compiler\n   * optimizations. See updating-element.ts for more information.\n   */\n  protected static['finalized'] = true;\n  /**\n   * Render method used to render the lit-html TemplateResult to the element's\n   * DOM.\n   * @param {TemplateResult} Template to render.\n   * @param {Element|DocumentFragment} Node into which to render.\n   * @param {String} Element name.\n   * @nocollapse\n   */\n  static render = render;\n\n  /**\n   * Array of styles to apply to the element. The styles should be defined\n   * using the `css` tag function.\n   */\n  static styles?: CSSResult|CSSResultArray;\n\n  private static _styles: CSSResult[]|undefined;\n\n  /** @nocollapse */\n  protected static finalize() {\n    // The Closure JS Compiler does not always preserve the correct \"this\"\n    // when calling static super methods (b/137460243), so explicitly bind.\n    super.finalize.call(this);\n    // Prepare styling that is stamped at first render time. Styling\n    // is built from user provided `styles` or is inherited from the superclass.\n    this._styles =\n        this.hasOwnProperty(JSCompiler_renameProperty('styles', this)) ?\n        this._getUniqueStyles() :\n        this._styles || [];\n  }\n\n  /** @nocollapse */\n  private static _getUniqueStyles(): CSSResult[] {\n    // Take care not to call `this.styles` multiple times since this generates\n    // new CSSResults each time.\n    // TODO(sorvell): Since we do not cache CSSResults by input, any\n    // shared styles will generate new stylesheet objects, which is wasteful.\n    // This should be addressed when a browser ships constructable\n    // stylesheets.\n    const userStyles = this.styles;\n    const styles: CSSResult[] = [];\n    if (Array.isArray(userStyles)) {\n      const flatStyles = flattenStyles(userStyles);\n      // As a performance optimization to avoid duplicated styling that can\n      // occur especially when composing via subclassing, de-duplicate styles\n      // preserving the last item in the list. The last item is kept to\n      // try to preserve cascade order with the assumption that it's most\n      // important that last added styles override previous styles.\n      const styleSet = flatStyles.reduceRight((set, s) => {\n        set.add(s);\n        // on IE set.add does not return the set.\n        return set;\n      }, new Set<CSSResult>());\n      // Array.from does not work on Set in IE\n      styleSet.forEach((v) => styles.unshift(v));\n    } else if (userStyles) {\n      styles.push(userStyles);\n    }\n    return styles;\n  }\n\n  private _needsShimAdoptedStyleSheets?: boolean;\n\n  /**\n   * Node or ShadowRoot into which element DOM should be rendered. Defaults\n   * to an open shadowRoot.\n   */\n  readonly renderRoot!: Element|DocumentFragment;\n\n  /**\n   * Performs element initialization. By default this calls `createRenderRoot`\n   * to create the element `renderRoot` node and captures any pre-set values for\n   * registered properties.\n   */\n  protected initialize() {\n    super.initialize();\n    (this as {renderRoot: Element | DocumentFragment}).renderRoot =\n        this.createRenderRoot();\n    // Note, if renderRoot is not a shadowRoot, styles would/could apply to the\n    // element's getRootNode(). While this could be done, we're choosing not to\n    // support this now since it would require different logic around de-duping.\n    if (window.ShadowRoot && this.renderRoot instanceof window.ShadowRoot) {\n      this.adoptStyles();\n    }\n  }\n\n  /**\n   * Returns the node into which the element should render and by default\n   * creates and returns an open shadowRoot. Implement to customize where the\n   * element's DOM is rendered. For example, to render into the element's\n   * childNodes, return `this`.\n   * @returns {Element|DocumentFragment} Returns a node into which to render.\n   */\n  protected createRenderRoot(): Element|ShadowRoot {\n    return this.attachShadow({mode: 'open'});\n  }\n\n  /**\n   * Applies styling to the element shadowRoot using the `static get styles`\n   * property. Styling will apply using `shadowRoot.adoptedStyleSheets` where\n   * available and will fallback otherwise. When Shadow DOM is polyfilled,\n   * ShadyCSS scopes styles and adds them to the document. When Shadow DOM\n   * is available but `adoptedStyleSheets` is not, styles are appended to the\n   * end of the `shadowRoot` to [mimic spec\n   * behavior](https://wicg.github.io/construct-stylesheets/#using-constructed-stylesheets).\n   */\n  protected adoptStyles() {\n    const styles = (this.constructor as typeof LitElement)._styles!;\n    if (styles.length === 0) {\n      return;\n    }\n    // There are three separate cases here based on Shadow DOM support.\n    // (1) shadowRoot polyfilled: use ShadyCSS\n    // (2) shadowRoot.adoptedStyleSheets available: use it.\n    // (3) shadowRoot.adoptedStyleSheets polyfilled: append styles after\n    // rendering\n    if (window.ShadyCSS !== undefined && !window.ShadyCSS.nativeShadow) {\n      window.ShadyCSS.ScopingShim!.prepareAdoptedCssText(\n          styles.map((s) => s.cssText), this.localName);\n    } else if (supportsAdoptingStyleSheets) {\n      (this.renderRoot as ShadowRoot).adoptedStyleSheets =\n          styles.map((s) => s.styleSheet!);\n    } else {\n      // This must be done after rendering so the actual style insertion is done\n      // in `update`.\n      this._needsShimAdoptedStyleSheets = true;\n    }\n  }\n\n  connectedCallback() {\n    super.connectedCallback();\n    // Note, first update/render handles styleElement so we only call this if\n    // connected after first update.\n    if (this.hasUpdated && window.ShadyCSS !== undefined) {\n      window.ShadyCSS.styleElement(this);\n    }\n  }\n\n  /**\n   * Updates the element. This method reflects property values to attributes\n   * and calls `render` to render DOM via lit-html. Setting properties inside\n   * this method will *not* trigger another update.\n   * * @param _changedProperties Map of changed properties with old values\n   */\n  protected update(changedProperties: PropertyValues) {\n    super.update(changedProperties);\n    const templateResult = this.render() as unknown;\n    if (templateResult instanceof TemplateResult) {\n      (this.constructor as typeof LitElement)\n          .render(\n              templateResult,\n              this.renderRoot,\n              {scopeName: this.localName, eventContext: this});\n    }\n    // When native Shadow DOM is used but adoptedStyles are not supported,\n    // insert styling after rendering to ensure adoptedStyles have highest\n    // priority.\n    if (this._needsShimAdoptedStyleSheets) {\n      this._needsShimAdoptedStyleSheets = false;\n      (this.constructor as typeof LitElement)._styles!.forEach((s) => {\n        const style = document.createElement('style');\n        style.textContent = s.cssText;\n        this.renderRoot.appendChild(style);\n      });\n    }\n  }\n\n  /**\n   * Invoked on each update to perform rendering tasks. This method must return\n   * a lit-html TemplateResult. Setting properties inside this method will *not*\n   * trigger the element to update.\n   */\n  protected render(): TemplateResult|void {\n  }\n}\n","/**\r\n * -------------------------------------------------------------------------------------------\r\n * Copyright (c) Microsoft Corporation.  All Rights Reserved.  Licensed under the MIT License.\r\n * See License in the project root for license information.\r\n * -------------------------------------------------------------------------------------------\r\n */\r\nexport class IProvider {\r\n    constructor() {\r\n        this._loginChangedDispatcher = new EventDispatcher();\r\n        this._state = ProviderState.Loading;\r\n    }\r\n    get state() {\r\n        return this._state;\r\n    }\r\n    setState(state) {\r\n        if (state != this._state) {\r\n            this._state = state;\r\n            this._loginChangedDispatcher.fire({});\r\n        }\r\n    }\r\n    // events\r\n    onStateChanged(eventHandler) {\r\n        this._loginChangedDispatcher.add(eventHandler);\r\n    }\r\n    removeStateChangedHandler(eventHandler) {\r\n        this._loginChangedDispatcher.remove(eventHandler);\r\n    }\r\n    getAccessTokenForScopes(...scopes) {\r\n        return this.getAccessToken({ scopes: scopes });\r\n    }\r\n}\r\nexport class EventDispatcher {\r\n    constructor() {\r\n        this.eventHandlers = [];\r\n    }\r\n    fire(event) {\r\n        for (let handler of this.eventHandlers) {\r\n            handler(event);\r\n        }\r\n    }\r\n    add(eventHandler) {\r\n        this.eventHandlers.push(eventHandler);\r\n    }\r\n    remove(eventHandler) {\r\n        for (let i = 0; i < this.eventHandlers.length; i++) {\r\n            if (this.eventHandlers[i] === eventHandler) {\r\n                this.eventHandlers.splice(i, 1);\r\n                i--;\r\n            }\r\n        }\r\n    }\r\n}\r\nexport var LoginType;\r\n(function (LoginType) {\r\n    LoginType[LoginType[\"Popup\"] = 0] = \"Popup\";\r\n    LoginType[LoginType[\"Redirect\"] = 1] = \"Redirect\";\r\n})(LoginType || (LoginType = {}));\r\nexport var ProviderState;\r\n(function (ProviderState) {\r\n    ProviderState[ProviderState[\"Loading\"] = 0] = \"Loading\";\r\n    ProviderState[ProviderState[\"SignedOut\"] = 1] = \"SignedOut\";\r\n    ProviderState[ProviderState[\"SignedIn\"] = 2] = \"SignedIn\";\r\n})(ProviderState || (ProviderState = {}));\r\n//# sourceMappingURL=IProvider.js.map","/**\r\n * -------------------------------------------------------------------------------------------\r\n * Copyright (c) Microsoft Corporation.  All Rights Reserved.  Licensed under the MIT License.\r\n * See License in the project root for license information.\r\n * -------------------------------------------------------------------------------------------\r\n */\r\nimport { EventDispatcher } from './providers/IProvider';\r\nexport class Providers {\r\n    static get globalProvider() {\r\n        return this._globalProvider;\r\n    }\r\n    static set globalProvider(provider) {\r\n        if (provider !== this._globalProvider) {\r\n            if (this._globalProvider) {\r\n                this._globalProvider.removeStateChangedHandler(this.handleProviderStateChanged);\r\n            }\r\n            if (provider) {\r\n                provider.onStateChanged(this.handleProviderStateChanged);\r\n            }\r\n            this._globalProvider = provider;\r\n            this._eventDispatcher.fire(ProvidersChangedState.ProviderChanged);\r\n        }\r\n    }\r\n    static onProviderUpdated(event) {\r\n        this._eventDispatcher.add(event);\r\n    }\r\n    static removeProviderUpdatedListener(event) {\r\n        this._eventDispatcher.remove(event);\r\n    }\r\n    static handleProviderStateChanged() {\r\n        Providers._eventDispatcher.fire(ProvidersChangedState.ProviderStateChanged);\r\n    }\r\n}\r\nProviders._eventDispatcher = new EventDispatcher();\r\nexport var ProvidersChangedState;\r\n(function (ProvidersChangedState) {\r\n    ProvidersChangedState[ProvidersChangedState[\"ProviderChanged\"] = 0] = \"ProviderChanged\";\r\n    ProvidersChangedState[ProvidersChangedState[\"ProviderStateChanged\"] = 1] = \"ProviderStateChanged\";\r\n})(ProvidersChangedState || (ProvidersChangedState = {}));\r\n//# sourceMappingURL=Providers.js.map","/**\r\n * -------------------------------------------------------------------------------------------\r\n * Copyright (c) Microsoft Corporation.  All Rights Reserved.  Licensed under the MIT License.\r\n * See License in the project root for license information.\r\n * -------------------------------------------------------------------------------------------\r\n */\r\nimport { LitElement } from 'lit-element';\r\nexport class MgtBaseComponent extends LitElement {\r\n    constructor() {\r\n        super();\r\n        if (this.isShadowRootDisabled())\r\n            this['_needsShimAdoptedStyleSheets'] = true;\r\n    }\r\n    fireCustomEvent(eventName, detail) {\r\n        let event = new CustomEvent(eventName, {\r\n            cancelable: true,\r\n            bubbles: false,\r\n            detail: detail\r\n        });\r\n        return this.dispatchEvent(event);\r\n    }\r\n    static get useShadowRoot() {\r\n        return this._useShadowRoot;\r\n    }\r\n    static set useShadowRoot(value) {\r\n        this._useShadowRoot = value;\r\n    }\r\n    createRenderRoot() {\r\n        return this.isShadowRootDisabled() ? this : super.createRenderRoot();\r\n    }\r\n    isShadowRootDisabled() {\r\n        return !MgtBaseComponent._useShadowRoot || !this.constructor._useShadowRoot;\r\n    }\r\n}\r\nMgtBaseComponent._useShadowRoot = true;\r\n//# sourceMappingURL=baseComponent.js.map","// THIS FILE IS AUTO GENERATED\r\n// ANY CHANGES WILL BE LOST DURING BUILD\r\n// MODIFY THE .SCSS FILE INSTEAD\r\nimport { css } from 'lit-element';\r\nexport const styles = [\r\n    css `\n/**\n * -------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation.  All Rights Reserved.  Licensed under the MIT License.\n * See License in the project root for license information.\n * -------------------------------------------------------------------------------------------\n */\n/*\r\n  Your use of the content in the files referenced here is subject to the terms of the license at http://aka.ms/fabric-assets-license\r\n*/\n/**\n * -------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation.  All Rights Reserved.  Licensed under the MIT License.\n * See License in the project root for license information.\n * -------------------------------------------------------------------------------------------\n */\n:host([hidden]) {\n  display: none; }\n\n:host {\n  display: block;\n  --default-font-family: \"Segoe UI\", \"Segoe UI Web (West European)\", \"Segoe UI\",\n    -apple-system, BlinkMacSystemFont, Roboto, \"Helvetica Neue\", sans-serif;\n  --theme-primary-color: #0078d7;\n  --theme-dark-color: #005a9e; }\n\n.ms-Icon {\n  display: inline-block;\n  font-family: \"FabricMDL2Icons\";\n  font-style: normal;\n  font-weight: normal;\n  font-size: 16px;\n  -moz-osx-font-smoothing: grayscale;\n  -webkit-font-smoothing: antialiased;\n  margin: 4px 0; }\n\n.ms-Icon--ChevronDown::before {\n  content: \"\\\\\\E70D\"; }\n\n.ms-Icon--ChevronUp::before {\n  content: \"\\\\\\E70E\"; }\n\n.ms-Icon--Contact::before {\n  content: \"\\\\\\E77B\"; }\n\n.ms-Icon--AddFriend::before {\n  content: \"\\\\\\E8FA\"; }\n\n.ms-Icon--OutlookLogoInverse::before {\n  content: \"\\\\\\EB6D\"; }\n\n:host,\nmgt-login {\n  --font-size: 14px;\n  --font-weight: 600;\n  --width: '100%';\n  --height: '100%';\n  --margin: 0;\n  --padding: 12px 20px;\n  --color: #201f1e;\n  --background-color: transparent;\n  --background-color--hover: #edebe9;\n  --popup-content-background-color: white;\n  --popup-command-font-size: 12px;\n  --popup-command-margin: 16px 0 0;\n  --popup-padding: 24px 48px 16px 24px; }\n\n:host .root,\nmgt-login .root {\n  position: relative;\n  display: inline-block; }\n\n:host .login-button,\nmgt-login .login-button {\n  display: flex;\n  align-items: center;\n  font-family: var(--default-font-family);\n  font-size: var(--font-size);\n  font-weight: var(--font-weight);\n  width: var(--width);\n  height: var(--height);\n  margin: var(--margin);\n  padding: var(--padding);\n  color: var(--color);\n  background-color: var(--background-color);\n  border: none;\n  cursor: pointer;\n  transition: color 0.3s, background-color 0.3s; }\n  :host .login-button:hover,\n  mgt-login .login-button:hover {\n    color: var(--theme-primary-color);\n    background-color: var(--background-color--hover); }\n  :host .login-button:focus,\n  mgt-login .login-button:focus {\n    outline: 0; }\n  :host .login-button:disabled,\n  mgt-login .login-button:disabled {\n    opacity: 0.4;\n    pointer-events: none; }\n\n:host .login-icon + span,\nmgt-login .login-icon + span {\n  margin-left: 6px; }\n\n:host .popup,\nmgt-login .popup {\n  display: none;\n  position: absolute;\n  animation-duration: 300ms;\n  font-family: var(--default-font-family);\n  background: var(--popup-content-background-color);\n  box-shadow: 0 12px 40px 2px rgba(0, 0, 0, 0.08);\n  min-width: 240px;\n  z-index: 1; }\n  :host .popup.show-menu,\n  mgt-login .popup.show-menu {\n    display: inline-block;\n    animation-name: fade-in; }\n  :host .popup.open-left,\n  mgt-login .popup.open-left {\n    right: 0; }\n\n:host .popup-content,\nmgt-login .popup-content {\n  display: flex;\n  flex-direction: column;\n  padding: var(--popup-padding); }\n\n:host .popup-commands ul,\nmgt-login .popup-commands ul {\n  list-style-type: none;\n  margin: var(--popup-command-margin);\n  padding: 0; }\n\n:host .popup-command,\nmgt-login .popup-command {\n  font-family: var(--default-font-family);\n  font-size: var(--popup-command-font-size);\n  font-weight: var(--font-weight);\n  color: var(--theme-primary-color);\n  background-color: transparent;\n  border: none;\n  padding: 0;\n  cursor: pointer;\n  transition: color 0.3s; }\n  :host .popup-command:hover,\n  mgt-login .popup-command:hover {\n    color: var(--theme-dark-color); }\n\n@keyframes fade-in {\n  from {\n    opacity: 0; }\n  to {\n    opacity: 1; } }\n\n`\r\n];\r\n//# sourceMappingURL=mgt-login-css.js.map","// THIS FILE IS AUTO GENERATED\r\n// ANY CHANGES WILL BE LOST DURING BUILD\r\n// MODIFY THE .SCSS FILE INSTEAD\r\nimport { css } from 'lit-element';\r\nexport const styles = [\r\n    css `\n/**\n * -------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation.  All Rights Reserved.  Licensed under the MIT License.\n * See License in the project root for license information.\n * -------------------------------------------------------------------------------------------\n */\n/*\r\n  Your use of the content in the files referenced here is subject to the terms of the license at http://aka.ms/fabric-assets-license\r\n*/\n/**\n * -------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation.  All Rights Reserved.  Licensed under the MIT License.\n * See License in the project root for license information.\n * -------------------------------------------------------------------------------------------\n */\n:host([hidden]) {\n  display: none; }\n\n:host {\n  display: block;\n  --default-font-family: \"Segoe UI\", \"Segoe UI Web (West European)\", \"Segoe UI\",\n    -apple-system, BlinkMacSystemFont, Roboto, \"Helvetica Neue\", sans-serif;\n  --theme-primary-color: #0078d7;\n  --theme-dark-color: #005a9e; }\n\n.ms-Icon {\n  display: inline-block;\n  font-family: \"FabricMDL2Icons\";\n  font-style: normal;\n  font-weight: normal;\n  font-size: 16px;\n  -moz-osx-font-smoothing: grayscale;\n  -webkit-font-smoothing: antialiased;\n  margin: 4px 0; }\n\n.ms-Icon--ChevronDown::before {\n  content: \"\\\\\\E70D\"; }\n\n.ms-Icon--ChevronUp::before {\n  content: \"\\\\\\E70E\"; }\n\n.ms-Icon--Contact::before {\n  content: \"\\\\\\E77B\"; }\n\n.ms-Icon--AddFriend::before {\n  content: \"\\\\\\E8FA\"; }\n\n.ms-Icon--OutlookLogoInverse::before {\n  content: \"\\\\\\EB6D\"; }\n\n:host svg,\nmgt-person svg {\n  width: var(--avatar-size-s, 24px);\n  height: var(--avatar-size-s, 24px); }\n\n:host img,\nmgt-person img {\n  border: var(--avatar-border);\n  border-radius: 50%; }\n\n:host .root,\nmgt-person .root {\n  position: relative;\n  display: flex;\n  align-items: center;\n  font-family: var(--default-font-family, \"Segoe UI\"); }\n\n:host .Details,\nmgt-person .Details {\n  flex: 1 1 auto;\n  display: flex;\n  flex-direction: column;\n  margin-left: 12px; }\n  :host .Details.small,\n  mgt-person .Details.small {\n    margin-left: 6px; }\n\n:host .user-avatar,\nmgt-person .user-avatar {\n  width: var(--avatar-size, 48px);\n  height: var(--avatar-size, 48px); }\n  :host .user-avatar.initials,\n  mgt-person .user-avatar.initials {\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    color: var(--initials-color, white);\n    background-color: var(--initials-background-color, #b4009e);\n    border-radius: 50%;\n    font-weight: 400;\n    font-size: 60%; }\n  :host .user-avatar.small,\n  mgt-person .user-avatar.small {\n    width: var(--avatar-size-s, 24px);\n    height: var(--avatar-size-s, 24px); }\n  :host .user-avatar.row-span-2,\n  mgt-person .user-avatar.row-span-2 {\n    width: var(--avatar-size, 48px);\n    height: var(--avatar-size, 48px); }\n  :host .user-avatar.row-span-3,\n  mgt-person .user-avatar.row-span-3 {\n    width: var(--avatar-size, 48px);\n    height: var(--avatar-size, 48px); }\n\n:host .avatar-icon,\nmgt-person .avatar-icon {\n  flex: 1 1 auto;\n  font-size: var(--avatar-font-size, 32px); }\n  :host .avatar-icon.small,\n  mgt-person .avatar-icon.small {\n    font-size: var(--avatar-font-size--s, 16px); }\n  :host .avatar-icon.row-span-2,\n  mgt-person .avatar-icon.row-span-2 {\n    grid-row: 1 / 3;\n    -ms-grid-row: 1;\n    -ms-grid-row-span: 2; }\n  :host .avatar-icon.row-span-3,\n  mgt-person .avatar-icon.row-span-3 {\n    grid-row: 1 / 4;\n    -ms-grid-row: 1;\n    -ms-grid-row-span: 3; }\n\n:host .user-name,\nmgt-person .user-name {\n  font-size: var(--font-size, 14px);\n  font-weight: var(--font-weight, 600);\n  white-space: nowrap;\n  grid-column: 2;\n  -ms-grid-column: 2; }\n\n:host .user-email,\nmgt-person .user-email {\n  color: var(--email-color, #323130);\n  font-size: var(--email-font-size, 12px);\n  white-space: nowrap;\n  grid-column: 2;\n  -ms-grid-column: 2;\n  grid-row: 2;\n  -ms-grid-row: 2; }\n\n`\r\n];\r\n//# sourceMappingURL=mgt-person-css.js.map","/**\r\n * -------------------------------------------------------------------------------------------\r\n * Copyright (c) Microsoft Corporation.  All Rights Reserved.  Licensed under the MIT License.\r\n * See License in the project root for license information.\r\n * -------------------------------------------------------------------------------------------\r\n */\r\nexport class TemplateHelper {\r\n    /**\r\n     * Gets the value of an expanded key in an object\r\n     *\r\n     * Ex:\r\n     * ```\r\n     * let value = getValueFromObject({d: 3, a: {b: {c: 5}}}, 'a.b.c')\r\n     * ```\r\n     * @param obj the object holding the value (ex: {d: 3, a: {b: {c: 5}}})\r\n     * @param key the key of the value we need (ex: 'a.b.c')\r\n     */\r\n    static getValueFromObject(obj, key) {\r\n        let keys = key.trim().split('.');\r\n        let value = obj;\r\n        for (let i = 0; i < keys.length; i++) {\r\n            let currentKey = keys[i];\r\n            value = value[currentKey];\r\n            if (!value) {\r\n                return null;\r\n            }\r\n        }\r\n        return value;\r\n    }\r\n    static replaceExpression(str, context, converters) {\r\n        return str\r\n            .replace(this._converterExpression, match => {\r\n            if (!converters) {\r\n                return '';\r\n            }\r\n            return this.evalInContext(match.substring(3, match.length - 3).trim(), Object.assign({}, converters, context));\r\n        })\r\n            .replace(this._expression, match => {\r\n            let key = match.substring(2, match.length - 2);\r\n            let value = this.getValueFromObject(context, key);\r\n            if (value) {\r\n                if (typeof value == 'object') {\r\n                    return JSON.stringify(value);\r\n                }\r\n                else {\r\n                    return value.toString();\r\n                }\r\n            }\r\n            return '';\r\n        });\r\n    }\r\n    static renderNode(node, context, converters) {\r\n        if (node.nodeName === '#text') {\r\n            node.textContent = this.replaceExpression(node.textContent, context, converters);\r\n            return node;\r\n        }\r\n        let nodeElement = node;\r\n        // replace attribute values\r\n        if (nodeElement.attributes) {\r\n            for (let i = 0; i < nodeElement.attributes.length; i++) {\r\n                let attribute = nodeElement.attributes[i];\r\n                nodeElement.setAttribute(attribute.name, this.replaceExpression(attribute.value, context, converters));\r\n            }\r\n        }\r\n        // don't process nodes that will loop yet, but\r\n        // keep a reference of them\r\n        let loopChildren = [];\r\n        // list of children to remove (ex, when data-if == false)\r\n        let removeChildren = [];\r\n        let previousChildWasIfAndTrue = false;\r\n        for (let i = 0; i < node.childNodes.length; i++) {\r\n            let childNode = node.childNodes[i];\r\n            let childElement = childNode;\r\n            let previousChildWasIfAndTrueSet = false;\r\n            if (childElement.dataset) {\r\n                let childWillBeRemoved = false;\r\n                if (childElement.dataset.if) {\r\n                    let expression = childElement.dataset.if;\r\n                    if (!this.evalBoolInContext(expression, context)) {\r\n                        removeChildren.push(childElement);\r\n                        childWillBeRemoved = true;\r\n                    }\r\n                    else {\r\n                        childElement.removeAttribute('data-if');\r\n                        previousChildWasIfAndTrue = true;\r\n                        previousChildWasIfAndTrueSet = true;\r\n                    }\r\n                }\r\n                else if (typeof childElement.dataset.else != 'undefined') {\r\n                    if (previousChildWasIfAndTrue) {\r\n                        removeChildren.push(childElement);\r\n                        childWillBeRemoved = true;\r\n                    }\r\n                    else {\r\n                        childElement.removeAttribute('data-else');\r\n                    }\r\n                }\r\n                if (childElement.dataset.for && !childWillBeRemoved) {\r\n                    loopChildren.push(childElement);\r\n                }\r\n                else if (!childWillBeRemoved) {\r\n                    this.renderNode(childNode, context, converters);\r\n                }\r\n            }\r\n            else {\r\n                this.renderNode(childNode, context, converters);\r\n            }\r\n            // clear the flag if the current node wasn't data-if\r\n            // or if it was data-if but it wasn't true\r\n            if (!previousChildWasIfAndTrueSet && childNode.nodeName !== '#text') {\r\n                previousChildWasIfAndTrue = false;\r\n            }\r\n        }\r\n        // now handle nodes that need to be removed\r\n        for (let i = 0; i < removeChildren.length; i++) {\r\n            nodeElement.removeChild(removeChildren[i]);\r\n        }\r\n        // now handle nodes that should loop\r\n        for (let i = 0; i < loopChildren.length; i++) {\r\n            let childElement = loopChildren[i];\r\n            let loopExpression = childElement.dataset.for;\r\n            let loopTokens = loopExpression.split(' ');\r\n            if (loopTokens.length > 1) {\r\n                // don't really care what's in the middle at this point\r\n                let itemName = loopTokens[0];\r\n                let listKey = loopTokens[loopTokens.length - 1];\r\n                let list = this.getValueFromObject(context, listKey);\r\n                if (Array.isArray(list)) {\r\n                    // first remove the child\r\n                    // we will need to make copy of the child for\r\n                    // each element in the list\r\n                    nodeElement.removeChild(childElement);\r\n                    childElement.removeAttribute('data-for');\r\n                    for (let j = 0; j < list.length; j++) {\r\n                        let newContext = {};\r\n                        newContext[itemName] = list[j];\r\n                        newContext['index'] = j;\r\n                        let clone = childElement.cloneNode(true);\r\n                        this.renderNode(clone, newContext, converters);\r\n                        nodeElement.appendChild(clone);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        return node;\r\n    }\r\n    static evalBoolInContext(expression, context) {\r\n        return new Function('with(this) { return !!(' + expression + ')}').call(context);\r\n    }\r\n    static evalInContext(expression, context) {\r\n        let func = new Function('with(this) { return ' + expression + ';}');\r\n        let result;\r\n        try {\r\n            result = func.call(context);\r\n        }\r\n        catch (e) {\r\n            console.log(e);\r\n        }\r\n        return result;\r\n    }\r\n    /**\r\n     * Render a template into a HTMLElement with the appropriate data context\r\n     *\r\n     * Ex:\r\n     * ```\r\n     * <template>\r\n     *  <div>{{myObj.someStr}}</div>\r\n     *  <div data-for=\"key in myObj.list\">\r\n     *    <div>{{key.anotherStr}}</div>\r\n     *  </div>\r\n     * </template>\r\n     * ```\r\n     *\r\n     * @param template the template to render\r\n     * @param context the data context to be applied\r\n     * @param converters the converter functions used to transform the data\r\n     */\r\n    static renderTemplate(template, context, converters) {\r\n        if (template.content && template.content.childNodes.length) {\r\n            let templateContent = template.content.cloneNode(true);\r\n            return this.renderNode(templateContent, context, converters);\r\n        }\r\n        else if (template.childNodes.length) {\r\n            let div = document.createElement('div');\r\n            for (let i = 0; i < template.childNodes.length; i++) {\r\n                div.appendChild(template.childNodes[i].cloneNode(true));\r\n            }\r\n            return this.renderNode(div, context, converters);\r\n        }\r\n    }\r\n}\r\nTemplateHelper._expression = /{{\\s*[\\w\\.]+\\s*}}/g;\r\nTemplateHelper._converterExpression = /{{{\\s*[\\w\\.()]+\\s*}}}/g;\r\n//# sourceMappingURL=templateHelper.js.map","/**\r\n * -------------------------------------------------------------------------------------------\r\n * Copyright (c) Microsoft Corporation.  All Rights Reserved.  Licensed under the MIT License.\r\n * See License in the project root for license information.\r\n * -------------------------------------------------------------------------------------------\r\n */\r\nimport { html } from 'lit-element';\r\nimport { TemplateHelper } from './templateHelper';\r\nimport { MgtBaseComponent } from './baseComponent';\r\nexport class MgtTemplatedComponent extends MgtBaseComponent {\r\n    constructor() {\r\n        super();\r\n        this._renderedSlots = false;\r\n        this._slotNamesAddedDuringRender = [];\r\n        this.templates = {};\r\n        this.templateConverters = {};\r\n        this.templateConverters.lower = (str) => str.toLowerCase();\r\n        this.templateConverters.upper = (str) => str.toUpperCase();\r\n    }\r\n    update(changedProperties) {\r\n        this.templates = this.getTemplates();\r\n        this._slotNamesAddedDuringRender = [];\r\n        super.update(changedProperties);\r\n    }\r\n    updated() {\r\n        this.removeUnusedSlottedElements();\r\n    }\r\n    getTemplates() {\r\n        let templates = {};\r\n        for (let i = 0; i < this.children.length; i++) {\r\n            let child = this.children[i];\r\n            if (child.nodeName == 'TEMPLATE') {\r\n                let template = child;\r\n                if (template.dataset.type) {\r\n                    templates[template.dataset.type] = template;\r\n                }\r\n                else {\r\n                    templates['default'] = template;\r\n                }\r\n            }\r\n        }\r\n        return templates;\r\n    }\r\n    removeUnusedSlottedElements() {\r\n        if (this._renderedSlots) {\r\n            for (let i = 0; i < this.children.length; i++) {\r\n                let child = this.children[i];\r\n                if (child.dataset && child.dataset.generated && !this._slotNamesAddedDuringRender.includes(child.slot)) {\r\n                    this.removeChild(child);\r\n                    i--;\r\n                }\r\n            }\r\n            this._renderedSlots = false;\r\n        }\r\n    }\r\n    /**\r\n     * Render a <template> by type and return content to render\r\n     *\r\n     * @param templateType type of template (indicated by the data-type attribute)\r\n     * @param context the data context that should be expanded in template\r\n     * @param slotName the slot name that will be used to host the new rendered template. set to a unique value if multiple templates of this type will be rendered. default is templateType\r\n     */\r\n    renderTemplate(templateType, context, slotName) {\r\n        if (!this.templates[templateType]) {\r\n            return null;\r\n        }\r\n        slotName = slotName || templateType;\r\n        this._slotNamesAddedDuringRender.push(slotName);\r\n        this._renderedSlots = true;\r\n        for (let i = 0; i < this.children.length; i++) {\r\n            if (this.children[i].slot == slotName) {\r\n                return html `\n          <slot name=${slotName}></slot>\n        `;\r\n            }\r\n        }\r\n        let templateContent = TemplateHelper.renderTemplate(this.templates[templateType], context, this.templateConverters);\r\n        let div = document.createElement('div');\r\n        div.slot = slotName;\r\n        div.dataset.generated = 'template';\r\n        div.appendChild(templateContent);\r\n        this.appendChild(div);\r\n        this.fireCustomEvent('templateRendered', { templateType: templateType, context: context, element: div });\r\n        return html `\n      <slot name=${slotName}></slot>\n    `;\r\n    }\r\n}\r\n//# sourceMappingURL=templatedComponent.js.map","/**\r\n * -------------------------------------------------------------------------------------------\r\n * Copyright (c) Microsoft Corporation.  All Rights Reserved.  Licensed under the MIT License.\r\n * See License in the project root for license information.\r\n * -------------------------------------------------------------------------------------------\r\n */\r\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nimport { html, customElement, property } from 'lit-element';\r\nimport { Providers } from '../../Providers';\r\nimport { styles } from './mgt-person-css';\r\nimport '../../styles/fabric-icon-font';\r\nimport { ProviderState } from '../../providers/IProvider';\r\nimport { MgtTemplatedComponent } from '../templatedComponent';\r\nlet MgtPerson = class MgtPerson extends MgtTemplatedComponent {\r\n    attributeChangedCallback(name, oldval, newval) {\r\n        super.attributeChangedCallback(name, oldval, newval);\r\n        if ((name == 'person-query' || name == 'user-id') && oldval !== newval) {\r\n            this.personDetails = null;\r\n            this.loadData();\r\n        }\r\n    }\r\n    static get styles() {\r\n        return styles;\r\n    }\r\n    firstUpdated() {\r\n        Providers.onProviderUpdated(() => this.loadData());\r\n        this.loadData();\r\n    }\r\n    loadData() {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            let provider = Providers.globalProvider;\r\n            if (!provider || provider.state !== ProviderState.SignedIn) {\r\n                return;\r\n            }\r\n            if (this.personDetails) {\r\n                // in some cases we might only have name or email, but need to find the image\r\n                // use @ for the image value to search for an image\r\n                if (this.personDetails.image && this.personDetails.image === '@') {\r\n                    this.personDetails.image = null;\r\n                    this.loadImage(this.personDetails);\r\n                }\r\n                return;\r\n            }\r\n            if (this.userId || (this.personQuery && this.personQuery == 'me')) {\r\n                let batch = provider.graph.createBatch();\r\n                if (this.userId) {\r\n                    batch.get('user', `/users/${this.userId}`, ['user.readbasic.all']);\r\n                    batch.get('photo', `users/${this.userId}/photo/$value`, ['user.readbasic.all']);\r\n                }\r\n                else {\r\n                    batch.get('user', 'me', ['user.read']);\r\n                    batch.get('photo', 'me/photo/$value', ['user.read']);\r\n                }\r\n                let response = yield batch.execute();\r\n                this.personDetails = {\r\n                    displayName: response.user.displayName,\r\n                    email: response.user.mail || response.user.userPrincipalName,\r\n                    image: response.photo\r\n                };\r\n            }\r\n            else if (!this.personDetails && this.personQuery) {\r\n                let people = yield provider.graph.findPerson(this.personQuery);\r\n                if (people && people.length > 0) {\r\n                    let person = people[0];\r\n                    this.personDetails = person;\r\n                    if (person.scoredEmailAddresses && person.scoredEmailAddresses.length) {\r\n                        this.personDetails.email = person.scoredEmailAddresses[0].address;\r\n                    }\r\n                    else if (person.emailAddresses && person.emailAddresses.length) {\r\n                        // beta endpoint uses emailAddresses instead of scoredEmailAddresses\r\n                        this.personDetails.email = person.emailAddresses[0].address;\r\n                    }\r\n                    this.loadImage(person);\r\n                }\r\n            }\r\n        });\r\n    }\r\n    loadImage(person) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            let provider = Providers.globalProvider;\r\n            if (person.userPrincipalName) {\r\n                let userPrincipalName = person.userPrincipalName;\r\n                this.personDetails.image = yield provider.graph.getUserPhoto(userPrincipalName);\r\n            }\r\n            else if (this.personDetails.email) {\r\n                // try to find a user by e-mail\r\n                let users = yield provider.graph.findUserByEmail(this.personDetails.email);\r\n                if (users && users.length) {\r\n                    if (users[0].personType && users[0].personType.subclass == 'OrganizationUser') {\r\n                        this.personDetails.image = yield provider.graph.getUserPhoto(users[0].scoredEmailAddresses[0].address);\r\n                    }\r\n                    else {\r\n                        const contactId = users[0].id;\r\n                        this.personDetails.image = yield provider.graph.getContactPhoto(contactId);\r\n                    }\r\n                }\r\n            }\r\n            this.requestUpdate();\r\n        });\r\n    }\r\n    render() {\r\n        return (this.renderTemplate('default', { person: this.personDetails }) ||\r\n            html `\n        <div class=\"root\">\n          ${this.renderImage()} ${this.renderDetails()}\n        </div>\n      `);\r\n    }\r\n    renderDetails() {\r\n        if (this.showEmail || this.showName) {\r\n            return html `\n        <span class=\"Details ${this.getImageSizeClass()}\">\n          ${this.renderNameAndEmail()}\n        </span>\n      `;\r\n        }\r\n        return null;\r\n    }\r\n    renderImage() {\r\n        if (this.personDetails) {\r\n            if (this.personDetails.image && this.personDetails.image !== '@') {\r\n                return html `\n          <img\n            class=\"user-avatar ${this.getImageRowSpanClass()} ${this.getImageSizeClass()}\"\n            title=${this.personDetails.displayName}\n            aria-label=${this.personDetails.displayName}\n            alt=${this.personDetails.displayName}\n            src=${this.personDetails.image}\n          />\n        `;\r\n            }\r\n            else {\r\n                return html `\n          <div\n            class=\"user-avatar initials ${this.getImageRowSpanClass()} ${this.getImageSizeClass()}\"\n            title=${this.personDetails.displayName}\n            aria-label=${this.personDetails.displayName}\n          >\n            <span class=\"initials-text\" aria-label=\"${this.getInitials()}\">\n              ${this.getInitials()}\n            </span>\n          </div>\n        `;\r\n            }\r\n        }\r\n        return this.renderEmptyImage();\r\n    }\r\n    renderEmptyImage() {\r\n        return html `\n      <i class=\"ms-Icon ms-Icon--Contact avatar-icon ${this.getImageRowSpanClass()} ${this.getImageSizeClass()}\"></i>\n    `;\r\n    }\r\n    renderNameAndEmail() {\r\n        if (!this.personDetails || (!this.showEmail && !this.showName)) {\r\n            return;\r\n        }\r\n        const nameView = this.showName\r\n            ? html `\n          <div class=\"user-name\" aria-label=\"${this.personDetails.displayName}\">${this.personDetails.displayName}</div>\n        `\r\n            : null;\r\n        const emailView = this.showEmail\r\n            ? html `\n          <div class=\"user-email\" aria-label=\"${this.personDetails.email}\">${this.personDetails.email}</div>\n        `\r\n            : null;\r\n        return html `\n      ${nameView} ${emailView}\n    `;\r\n    }\r\n    getInitials() {\r\n        if (!this.personDetails) {\r\n            return '';\r\n        }\r\n        let initials = '';\r\n        if (this.personDetails.givenName) {\r\n            initials += this.personDetails.givenName[0].toUpperCase();\r\n        }\r\n        if (this.personDetails.surname) {\r\n            initials += this.personDetails.surname[0].toUpperCase();\r\n        }\r\n        if (!initials && this.personDetails.displayName) {\r\n            const name = this.personDetails.displayName.split(' ');\r\n            for (let i = 0; i < 2 && i < name.length; i++) {\r\n                if (name[i][0].match(/[a-z]/i)) {\r\n                    // check if letter\r\n                    initials += name[i][0].toUpperCase();\r\n                }\r\n            }\r\n        }\r\n        return initials;\r\n    }\r\n    getImageRowSpanClass() {\r\n        if (this.showEmail && this.showName) {\r\n            return 'row-span-2';\r\n        }\r\n        return '';\r\n    }\r\n    getImageSizeClass() {\r\n        if (!this.showEmail || !this.showName) {\r\n            return 'small';\r\n        }\r\n        return '';\r\n    }\r\n};\r\n__decorate([\r\n    property({\r\n        attribute: 'person-query'\r\n    })\r\n], MgtPerson.prototype, \"personQuery\", void 0);\r\n__decorate([\r\n    property({\r\n        attribute: 'user-id'\r\n    })\r\n], MgtPerson.prototype, \"userId\", void 0);\r\n__decorate([\r\n    property({\r\n        attribute: 'show-name',\r\n        type: Boolean\r\n    })\r\n], MgtPerson.prototype, \"showName\", void 0);\r\n__decorate([\r\n    property({\r\n        attribute: 'show-email',\r\n        type: Boolean\r\n    })\r\n], MgtPerson.prototype, \"showEmail\", void 0);\r\n__decorate([\r\n    property({\r\n        attribute: 'person-details',\r\n        type: Object\r\n    })\r\n], MgtPerson.prototype, \"personDetails\", void 0);\r\nMgtPerson = __decorate([\r\n    customElement('mgt-person')\r\n], MgtPerson);\r\nexport { MgtPerson };\r\n//# sourceMappingURL=mgt-person.js.map","/**\r\n * -------------------------------------------------------------------------------------------\r\n * Copyright (c) Microsoft Corporation.  All Rights Reserved.  Licensed under the MIT License.\r\n * See License in the project root for license information.\r\n * -------------------------------------------------------------------------------------------\r\n */\r\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nimport { html, customElement, property } from 'lit-element';\r\nimport { Providers } from '../../Providers';\r\nimport { ProviderState } from '../../providers/IProvider';\r\nimport { MgtBaseComponent } from '../baseComponent';\r\nimport { styles } from './mgt-login-css';\r\nimport '../mgt-person/mgt-person';\r\nimport '../../styles/fabric-icon-font';\r\nlet MgtLogin = class MgtLogin extends MgtBaseComponent {\r\n    constructor() {\r\n        super();\r\n        this._openLeft = false;\r\n        this._showMenu = false;\r\n        this._loading = true;\r\n        Providers.onProviderUpdated(() => this.loadState());\r\n        this.loadState();\r\n    }\r\n    static get styles() {\r\n        return styles;\r\n    }\r\n    updated(changedProps) {\r\n        if (changedProps.get('_showMenu') === false) {\r\n            // get popup bounds\r\n            const popup = this.renderRoot.querySelector('.popup');\r\n            if (popup && popup.animate) {\r\n                this._popupRect = popup.getBoundingClientRect();\r\n                // invert variables\r\n                const deltaX = this._loginButtonRect.left - this._popupRect.left;\r\n                const deltaY = this._loginButtonRect.top - this._popupRect.top;\r\n                const deltaW = this._loginButtonRect.width / this._popupRect.width;\r\n                const deltaH = this._loginButtonRect.height / this._popupRect.height;\r\n                // play back\r\n                popup.animate([\r\n                    {\r\n                        transformOrigin: 'top left',\r\n                        transform: `\n              translate(${deltaX}px, ${deltaY}px)\n              scale(${deltaW}, ${deltaH})\n            `,\r\n                        backgroundColor: `#eaeaea`\r\n                    },\r\n                    {\r\n                        transformOrigin: 'top left',\r\n                        transform: 'none',\r\n                        backgroundColor: `white`\r\n                    }\r\n                ], {\r\n                    duration: 100,\r\n                    easing: 'ease-in-out',\r\n                    fill: 'both'\r\n                });\r\n            }\r\n        }\r\n    }\r\n    firstUpdated() {\r\n        window.addEventListener('click', (event) => {\r\n            // get popup bounds\r\n            const popup = this.renderRoot.querySelector('.popup');\r\n            if (popup) {\r\n                this._popupRect = popup.getBoundingClientRect();\r\n                this._showMenu = false;\r\n            }\r\n        });\r\n    }\r\n    loadState() {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            if (this.userDetails) {\r\n                return;\r\n            }\r\n            const provider = Providers.globalProvider;\r\n            if (provider) {\r\n                this._loading = true;\r\n                if (provider.state === ProviderState.SignedIn) {\r\n                    let batch = provider.graph.createBatch();\r\n                    batch.get('me', 'me', ['user.read']);\r\n                    batch.get('photo', 'me/photo/$value', ['user.read']);\r\n                    let response = yield batch.execute();\r\n                    this.userDetails = {\r\n                        displayName: response.me.displayName,\r\n                        email: response.me.mail || response.me.userPrincipalName,\r\n                        image: response.photo\r\n                    };\r\n                }\r\n                else if (provider.state === ProviderState.SignedOut) {\r\n                    this.userDetails = null;\r\n                }\r\n                else {\r\n                    return;\r\n                }\r\n            }\r\n            this._loading = false;\r\n        });\r\n    }\r\n    onClick(event) {\r\n        event.stopPropagation();\r\n        if (this.userDetails) {\r\n            // get login button bounds\r\n            const loginButton = this.renderRoot.querySelector('.login-button');\r\n            if (loginButton) {\r\n                this._loginButtonRect = loginButton.getBoundingClientRect();\r\n                let leftEdge = this._loginButtonRect.left;\r\n                let rightEdge = (window.innerWidth || document.documentElement.clientWidth) - this._loginButtonRect.right;\r\n                this._openLeft = rightEdge < leftEdge;\r\n                this._showMenu = !this._showMenu;\r\n            }\r\n        }\r\n        else {\r\n            if (this.fireCustomEvent('loginInitiated')) {\r\n                this.login();\r\n            }\r\n        }\r\n    }\r\n    login() {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            if (this.userDetails) {\r\n                return;\r\n            }\r\n            const provider = Providers.globalProvider;\r\n            if (provider && provider.login) {\r\n                yield provider.login();\r\n                if (provider.state === ProviderState.SignedIn) {\r\n                    this.fireCustomEvent('loginCompleted');\r\n                }\r\n                else {\r\n                    this.fireCustomEvent('loginFailed');\r\n                }\r\n                yield this.loadState();\r\n            }\r\n        });\r\n    }\r\n    logout() {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            if (!this.fireCustomEvent('logoutInitiated')) {\r\n                return;\r\n            }\r\n            if (this.userDetails) {\r\n                this.userDetails = null;\r\n                return;\r\n            }\r\n            const provider = Providers.globalProvider;\r\n            if (provider && provider.logout) {\r\n                yield provider.logout();\r\n                this.fireCustomEvent('logoutCompleted');\r\n            }\r\n            this._showMenu = false;\r\n        });\r\n    }\r\n    render() {\r\n        const content = this.userDetails ? this.renderLoggedIn() : this.renderLogIn();\r\n        return html `\n      <div class=\"root\">\n        <button ?disabled=\"${this._loading}\" class=\"login-button\" @click=${this.onClick} role=\"button\">\n          ${content}\n        </button>\n        ${this.renderMenu()}\n      </div>\n    `;\r\n    }\r\n    renderLogIn() {\r\n        return html `\n      <i class=\"login-icon ms-Icon ms-Icon--Contact\"></i>\n      <span aria-label=\"Sign In\">\n        Sign In\n      </span>\n    `;\r\n    }\r\n    renderLoggedIn() {\r\n        if (this.userDetails) {\r\n            return html `\n        <mgt-person .personDetails=${this.userDetails} show-name />\n      `;\r\n        }\r\n        else {\r\n            return this.renderLogIn();\r\n        }\r\n    }\r\n    renderMenu() {\r\n        if (!this.userDetails) {\r\n            return;\r\n        }\r\n        let personComponent = html `\n      <mgt-person .personDetails=${this.userDetails} show-name show-email />\n    `;\r\n        return html `\n      <div class=\"popup ${this._openLeft ? 'open-left' : ''} ${this._showMenu ? 'show-menu' : ''}\">\n        <div class=\"popup-content\">\n          <div>\n            ${personComponent}\n          </div>\n          <div class=\"popup-commands\">\n            <ul>\n              <li>\n                <button class=\"popup-command\" @click=${this.logout} aria-label=\"Sign Out\">\n                  Sign Out\n                </button>\n              </li>\n            </ul>\n          </div>\n        </div>\n      </div>\n    `;\r\n    }\r\n};\r\n__decorate([\r\n    property({ attribute: false })\r\n], MgtLogin.prototype, \"_showMenu\", void 0);\r\n__decorate([\r\n    property({ attribute: false })\r\n], MgtLogin.prototype, \"_loading\", void 0);\r\n__decorate([\r\n    property({\r\n        attribute: 'user-details',\r\n        type: Object\r\n    })\r\n], MgtLogin.prototype, \"userDetails\", void 0);\r\nMgtLogin = __decorate([\r\n    customElement('mgt-login')\r\n], MgtLogin);\r\nexport { MgtLogin };\r\n//# sourceMappingURL=mgt-login.js.map","// THIS FILE IS AUTO GENERATED\r\n// ANY CHANGES WILL BE LOST DURING BUILD\r\n// MODIFY THE .SCSS FILE INSTEAD\r\nimport { css } from 'lit-element';\r\nexport const styles = [\r\n    css `\n/**\n * -------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation.  All Rights Reserved.  Licensed under the MIT License.\n * See License in the project root for license information.\n * -------------------------------------------------------------------------------------------\n */\n/*\r\n  Your use of the content in the files referenced here is subject to the terms of the license at http://aka.ms/fabric-assets-license\r\n*/\n/**\n * -------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation.  All Rights Reserved.  Licensed under the MIT License.\n * See License in the project root for license information.\n * -------------------------------------------------------------------------------------------\n */\n:host([hidden]) {\n  display: none; }\n\n:host {\n  display: block;\n  --default-font-family: \"Segoe UI\", \"Segoe UI Web (West European)\", \"Segoe UI\",\n    -apple-system, BlinkMacSystemFont, Roboto, \"Helvetica Neue\", sans-serif;\n  --theme-primary-color: #0078d7;\n  --theme-dark-color: #005a9e; }\n\n.ms-Icon {\n  display: inline-block;\n  font-family: \"FabricMDL2Icons\";\n  font-style: normal;\n  font-weight: normal;\n  font-size: 16px;\n  -moz-osx-font-smoothing: grayscale;\n  -webkit-font-smoothing: antialiased;\n  margin: 4px 0; }\n\n.ms-Icon--ChevronDown::before {\n  content: \"\\\\\\E70D\"; }\n\n.ms-Icon--ChevronUp::before {\n  content: \"\\\\\\E70E\"; }\n\n.ms-Icon--Contact::before {\n  content: \"\\\\\\E77B\"; }\n\n.ms-Icon--AddFriend::before {\n  content: \"\\\\\\E8FA\"; }\n\n.ms-Icon--OutlookLogoInverse::before {\n  content: \"\\\\\\EB6D\"; }\n\n:host .header,\nmgt-agenda .header {\n  margin: var(--agenda-header-margin, 40px 10px 14px 10px);\n  font-family: var(--default-font-family);\n  font-size: var(--agenda-header-font-size, 24px);\n  color: var(--agenda-header-color, #333333); }\n\n:host .agenda > .group:first-child > .header,\nmgt-agenda .agenda > .group:first-child > .header {\n  margin-top: 0; }\n\n:host .agenda-list,\nmgt-agenda .agenda-list {\n  list-style-type: none;\n  padding: 0;\n  margin: 0;\n  font-family: var(--default-font-family);\n  font-style: normal;\n  font-weight: normal; }\n\n:host .event,\nmgt-agenda .event {\n  background: var(--event-background, #ffffff);\n  border: var(--event-border, solid 2px rgba(0, 0, 0, 0));\n  box-shadow: var(--event-box-shadow, 0px 2px 8px rgba(0, 0, 0, 0.092));\n  margin: var(--event-margin, 0px 10px 14px 10px);\n  padding: var(--event-padding, 0px);\n  display: flex; }\n\n:host .narrow .event,\nmgt-agenda .narrow .event {\n  flex-direction: column; }\n\n:host .event-time-container,\nmgt-agenda .event-time-container {\n  display: flex;\n  flex-direction: column;\n  margin: 18px 38px 18px 18px;\n  width: 120px; }\n\n:host .narrow .event-time-container,\nmgt-agenda .narrow .event-time-container {\n  margin: 14px 18px 8px 18px; }\n\n:host .event-time,\nmgt-agenda .event-time {\n  font-size: var(--event-time-font-size, 12px);\n  color: var(--event-time-color, #000000);\n  font-weight: 600; }\n\n:host .event-duration,\nmgt-agenda .event-duration {\n  color: rgba(16, 16, 16, 0.3); }\n\n:host .event-details-container,\nmgt-agenda .event-details-container {\n  margin: 14px 18px 14px 0px; }\n\n:host .narrow .event-details-container,\nmgt-agenda .narrow .event-details-container {\n  margin: 0px 18px 14px 18px; }\n\n:host .event-subject,\nmgt-agenda .event-subject {\n  margin: 0px 18px 0px 0px;\n  font-size: var(--event-subject-font-size, 19px);\n  color: var(--event-subject-color, #333333); }\n\n:host .event-location-container,\nmgt-agenda .event-location-container {\n  display: flex;\n  margin: 8px 18px 0px 0px; }\n\n:host .event-location,\nmgt-agenda .event-location {\n  font-size: var(--event-location-font-size, 12px);\n  color: var(--event-location-color, #000000);\n  margin: 0px 0px 0px 4px; }\n\n:host .event-attendees,\nmgt-agenda .event-attendees {\n  --list-margin: 8px 0 0 0;\n  --avatar-size-s: 20px; }\n\n:host .event-other-container,\nmgt-agenda .event-other-container {\n  margin: 2px 16px 4px 16px;\n  margin-left: auto; }\n\n:host .loading-element,\nmgt-agenda .loading-element {\n  background: #f2f2f2;\n  border-radius: 1px; }\n\n:host .event-time-loading,\nmgt-agenda .event-time-loading {\n  width: 100px;\n  height: 10px; }\n\n:host .event-subject-loading,\nmgt-agenda .event-subject-loading {\n  width: 263px;\n  height: 16px; }\n\n:host .event-location-icon-loading,\nmgt-agenda .event-location-icon-loading {\n  width: 14px;\n  height: 14px; }\n\n:host .event-location-loading,\nmgt-agenda .event-location-loading {\n  width: 90px;\n  height: 10px;\n  margin: 2px 0px 0px 4px; }\n\n:host .event-attendee-loading,\nmgt-agenda .event-attendee-loading {\n  width: 20px;\n  height: 20px;\n  border-radius: 10px;\n  margin: 0 2px 0 0; }\n\n`\r\n];\r\n//# sourceMappingURL=mgt-agenda-css.js.map","/**\r\n * -------------------------------------------------------------------------------------------\r\n * Copyright (c) Microsoft Corporation.  All Rights Reserved.  Licensed under the MIT License.\r\n * See License in the project root for license information.\r\n * -------------------------------------------------------------------------------------------\r\n */\r\n/**\r\n * @class\r\n * Class that handles BatchResponseContent\r\n */\r\nexport class BatchResponseContent {\r\n    /**\r\n     * @public\r\n     * @constructor\r\n     * Creates the BatchResponseContent instance\r\n     * @param {BatchResponseBody} response - The response body returned for batch request from server\r\n     * @returns An instance of a BatchResponseContent\r\n     */\r\n    constructor(response) {\r\n        this.responses = new Map();\r\n        this.update(response);\r\n    }\r\n    /**\r\n     * @private\r\n     * Creates native Response object from the json representation of it.\r\n     * @param {KeyValuePairObject} responseJSON - The response json value\r\n     * @returns The Response Object instance\r\n     */\r\n    createResponseObject(responseJSON) {\r\n        const body = responseJSON.body;\r\n        const options = {};\r\n        options.status = responseJSON.status;\r\n        if (responseJSON.statusText !== undefined) {\r\n            options.statusText = responseJSON.statusText;\r\n        }\r\n        options.headers = responseJSON.headers;\r\n        if (options.headers !== undefined && options.headers[\"Content-Type\"] !== undefined) {\r\n            if (options.headers[\"Content-Type\"].split(\";\")[0] === \"application/json\") {\r\n                const bodyString = JSON.stringify(body);\r\n                return new Response(bodyString, options);\r\n            }\r\n        }\r\n        return new Response(body, options);\r\n    }\r\n    /**\r\n     * @public\r\n     * Updates the Batch response content instance with given responses.\r\n     * @param {BatchResponseBody} response - The response json representing batch response message\r\n     * @returns Nothing\r\n     */\r\n    update(response) {\r\n        this.nextLink = response[\"@odata.nextLink\"];\r\n        const responses = response.responses;\r\n        for (let i = 0, l = responses.length; i < l; i++) {\r\n            this.responses.set(responses[i].id, this.createResponseObject(responses[i]));\r\n        }\r\n    }\r\n    /**\r\n     * @public\r\n     * To get the response of a request for a given request id\r\n     * @param {string} requestId - The request id value\r\n     * @returns The Response object instance for the particular request\r\n     */\r\n    getResponseById(requestId) {\r\n        return this.responses.get(requestId);\r\n    }\r\n    /**\r\n     * @public\r\n     * To get all the responses of the batch request\r\n     * @returns The Map of id and Response objects\r\n     */\r\n    getResponses() {\r\n        return this.responses;\r\n    }\r\n    /**\r\n     * @public\r\n     * To get the iterator for the responses\r\n     * @returns The Iterable generator for the response objects\r\n     */\r\n    *getResponsesIterator() {\r\n        const iterator = this.responses.entries();\r\n        let cur = iterator.next();\r\n        while (!cur.done) {\r\n            yield cur.value;\r\n            cur = iterator.next();\r\n        }\r\n    }\r\n}\r\n//# sourceMappingURL=BatchResponseContent.js.map","/**\r\n * -------------------------------------------------------------------------------------------\r\n * Copyright (c) Microsoft Corporation.  All Rights Reserved.  Licensed under the MIT License.\r\n * See License in the project root for license information.\r\n * -------------------------------------------------------------------------------------------\r\n */\r\n/**\r\n * @class\r\n * Class representing MiddlewareControl\r\n */\r\nexport class MiddlewareControl {\r\n    /**\r\n     * @public\r\n     * @constructor\r\n     * Creates an instance of MiddlewareControl\r\n     * @param {MiddlewareOptions[]} [middlewareOptions = []] - The array of middlewareOptions\r\n     * @returns The instance of MiddlewareControl\r\n     */\r\n    constructor(middlewareOptions = []) {\r\n        // tslint:disable-next-line:ban-types\r\n        this.middlewareOptions = new Map();\r\n        for (const option of middlewareOptions) {\r\n            const fn = option.constructor;\r\n            this.middlewareOptions.set(fn, option);\r\n        }\r\n    }\r\n    /**\r\n     * @public\r\n     * To get the middleware option using the class of the option\r\n     * @param {Function} fn - The class of the strongly typed option class\r\n     * @returns The middleware option\r\n     * @example\r\n     * // if you wanted to return the middleware option associated with this class (MiddlewareControl)\r\n     * // call this function like this:\r\n     * getMiddlewareOptions(MiddlewareControl)\r\n     */\r\n    // tslint:disable-next-line:ban-types\r\n    getMiddlewareOptions(fn) {\r\n        return this.middlewareOptions.get(fn);\r\n    }\r\n    /**\r\n     * @public\r\n     * To set the middleware options using the class of the option\r\n     * @param {Function} fn - The class of the strongly typed option class\r\n     * @param {MiddlewareOptions} option - The strongly typed middleware option\r\n     * @returns nothing\r\n     */\r\n    // tslint:disable-next-line:ban-types\r\n    setMiddlewareOptions(fn, option) {\r\n        this.middlewareOptions.set(fn, option);\r\n    }\r\n}\r\n//# sourceMappingURL=MiddlewareControl.js.map","/**\r\n * -------------------------------------------------------------------------------------------\r\n * Copyright (c) Microsoft Corporation.  All Rights Reserved.  Licensed under the MIT License.\r\n * See License in the project root for license information.\r\n * -------------------------------------------------------------------------------------------\r\n */\r\nimport * as tslib_1 from \"tslib\";\r\n/**\r\n * @constant\r\n * To generate the UUID\r\n * @returns The UUID string\r\n */\r\nexport const generateUUID = () => {\r\n    let uuid = \"\";\r\n    for (let j = 0; j < 32; j++) {\r\n        if (j === 8 || j === 12 || j === 16 || j === 20) {\r\n            uuid += \"-\";\r\n        }\r\n        uuid += Math.floor(Math.random() * 16).toString(16);\r\n    }\r\n    return uuid;\r\n};\r\n/**\r\n * @constant\r\n * To get the request header from the request\r\n * @param {RequestInfo} request - The request object or the url string\r\n * @param {FetchOptions|undefined} options - The request options object\r\n * @param {string} key - The header key string\r\n * @returns A header value for the given key from the request\r\n */\r\nexport const getRequestHeader = (request, options, key) => {\r\n    let value = null;\r\n    if (typeof Request !== \"undefined\" && request instanceof Request) {\r\n        value = request.headers.get(key);\r\n    }\r\n    else if (typeof options !== \"undefined\" && options.headers !== undefined) {\r\n        if (typeof Headers !== \"undefined\" && options.headers instanceof Headers) {\r\n            value = options.headers.get(key);\r\n        }\r\n        else if (options.headers instanceof Array) {\r\n            const headers = options.headers;\r\n            for (let i = 0, l = headers.length; i < l; i++) {\r\n                if (headers[i][0] === key) {\r\n                    value = headers[i][1];\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n        else if (options.headers[key] !== undefined) {\r\n            value = options.headers[key];\r\n        }\r\n    }\r\n    return value;\r\n};\r\n/**\r\n * @constant\r\n * To set the header value to the given request\r\n * @param {RequestInfo} request - The request object or the url string\r\n * @param {FetchOptions|undefined} options - The request options object\r\n * @param {string} key - The header key string\r\n * @param {string } value - The header value string\r\n * @returns Nothing\r\n */\r\nexport const setRequestHeader = (request, options, key, value) => {\r\n    if (typeof Request !== \"undefined\" && request instanceof Request) {\r\n        request.headers.set(key, value);\r\n    }\r\n    else if (typeof options !== \"undefined\") {\r\n        if (options.headers === undefined) {\r\n            options.headers = new Headers({\r\n                [key]: value,\r\n            });\r\n        }\r\n        else {\r\n            if (typeof Headers !== \"undefined\" && options.headers instanceof Headers) {\r\n                options.headers.set(key, value);\r\n            }\r\n            else if (options.headers instanceof Array) {\r\n                let i = 0;\r\n                const l = options.headers.length;\r\n                for (; i < l; i++) {\r\n                    const header = options.headers[i];\r\n                    if (header[0] === key) {\r\n                        header[1] = value;\r\n                        break;\r\n                    }\r\n                }\r\n                if (i === l) {\r\n                    options.headers.push([key, value]);\r\n                }\r\n            }\r\n            else {\r\n                Object.assign(options.headers, { [key]: value });\r\n            }\r\n        }\r\n    }\r\n};\r\n/**\r\n * @constant\r\n * To append the header value to the given request\r\n * @param {RequestInfo} request - The request object or the url string\r\n * @param {FetchOptions|undefined} options - The request options object\r\n * @param {string} key - The header key string\r\n * @param {string } value - The header value string\r\n * @returns Nothing\r\n */\r\nexport const appendRequestHeader = (request, options, key, value) => {\r\n    if (typeof Request !== \"undefined\" && request instanceof Request) {\r\n        request.headers.append(key, value);\r\n    }\r\n    else if (typeof options !== \"undefined\") {\r\n        if (options.headers === undefined) {\r\n            options.headers = new Headers({\r\n                [key]: value,\r\n            });\r\n        }\r\n        else {\r\n            if (typeof Headers !== \"undefined\" && options.headers instanceof Headers) {\r\n                options.headers.append(key, value);\r\n            }\r\n            else if (options.headers instanceof Array) {\r\n                options.headers.push([key, value]);\r\n            }\r\n            else if (options.headers === undefined) {\r\n                options.headers = { [key]: value };\r\n            }\r\n            else if (options.headers[key] === undefined) {\r\n                options.headers[key] = value;\r\n            }\r\n            else {\r\n                options.headers[key] += `, ${value}`;\r\n            }\r\n        }\r\n    }\r\n};\r\n/**\r\n * @constant\r\n * To clone the request with the new url\r\n * @param {string} url - The new url string\r\n * @param {Request} request - The request object\r\n * @returns A promise that resolves to request object\r\n */\r\nexport const cloneRequestWithNewUrl = (newUrl, request) => tslib_1.__awaiter(this, void 0, void 0, function* () {\r\n    const body = request.headers.get(\"Content-Type\") ? yield request.blob() : yield Promise.resolve(undefined);\r\n    const { method, headers, referrer, referrerPolicy, mode, credentials, cache, redirect, integrity, keepalive, signal } = request;\r\n    return new Request(newUrl, { method, headers, body, referrer, referrerPolicy, mode, credentials, cache, redirect, integrity, keepalive, signal });\r\n});\r\n//# sourceMappingURL=MiddlewareUtil.js.map","/**\r\n * -------------------------------------------------------------------------------------------\r\n * Copyright (c) Microsoft Corporation.  All Rights Reserved.  Licensed under the MIT License.\r\n * See License in the project root for license information.\r\n * -------------------------------------------------------------------------------------------\r\n */\r\n/**\r\n * @class\r\n * @implements MiddlewareOptions\r\n * Class representing AuthenticationHandlerOptions\r\n */\r\nexport class AuthenticationHandlerOptions {\r\n    /**\r\n     * @public\r\n     * @constructor\r\n     * To create an instance of AuthenticationHandlerOptions\r\n     * @param {AuthenticationProvider} [authenticationProvider] - The authentication provider instance\r\n     * @param {AuthenticationProviderOptions} [authenticationProviderOptions] - The authentication provider options instance\r\n     * @returns An instance of AuthenticationHandlerOptions\r\n     */\r\n    constructor(authenticationProvider, authenticationProviderOptions) {\r\n        this.authenticationProvider = authenticationProvider;\r\n        this.authenticationProviderOptions = authenticationProviderOptions;\r\n    }\r\n}\r\n//# sourceMappingURL=AuthenticationHandlerOptions.js.map","/**\r\n * -------------------------------------------------------------------------------------------\r\n * Copyright (c) Microsoft Corporation.  All Rights Reserved.  Licensed under the MIT License.\r\n * See License in the project root for license information.\r\n * -------------------------------------------------------------------------------------------\r\n */\r\nimport { MiddlewareControl } from \"../MiddlewareControl\";\r\n/**\r\n * @enum\r\n * @property {number} NONE - The hexadecimal flag value for nothing enabled\r\n * @property {number} REDIRECT_HANDLER_ENABLED - The hexadecimal flag value for redirect handler enabled\r\n * @property {number} RETRY_HANDLER_ENABLED - The hexadecimal flag value for retry handler enabled\r\n * @property {number} AUTHENTICATION_HANDLER_ENABLED - The hexadecimal flag value for the authentication handler enabled\r\n */\r\nexport var FeatureUsageFlag;\r\n(function (FeatureUsageFlag) {\r\n    FeatureUsageFlag[FeatureUsageFlag[\"NONE\"] = 0] = \"NONE\";\r\n    FeatureUsageFlag[FeatureUsageFlag[\"REDIRECT_HANDLER_ENABLED\"] = 1] = \"REDIRECT_HANDLER_ENABLED\";\r\n    FeatureUsageFlag[FeatureUsageFlag[\"RETRY_HANDLER_ENABLED\"] = 2] = \"RETRY_HANDLER_ENABLED\";\r\n    FeatureUsageFlag[FeatureUsageFlag[\"AUTHENTICATION_HANDLER_ENABLED\"] = 4] = \"AUTHENTICATION_HANDLER_ENABLED\";\r\n})(FeatureUsageFlag || (FeatureUsageFlag = {}));\r\n/**\r\n * @class\r\n * @implements MiddlewareOptions\r\n * Class for TelemetryHandlerOptions\r\n */\r\nexport class TelemetryHandlerOptions {\r\n    constructor() {\r\n        /**\r\n         * @private\r\n         * A member to hold the OR of feature usage flags\r\n         */\r\n        this.featureUsage = FeatureUsageFlag.NONE;\r\n    }\r\n    /**\r\n     * @public\r\n     * @static\r\n     * To update the feature usage in the context object\r\n     * @param {Context} context - The request context object containing middleware options\r\n     * @param {FeatureUsageFlag} flag - The flag value\r\n     * @returns nothing\r\n     */\r\n    static updateFeatureUsageFlag(context, flag) {\r\n        let options;\r\n        if (context.middlewareControl instanceof MiddlewareControl) {\r\n            options = context.middlewareControl.getMiddlewareOptions(TelemetryHandlerOptions);\r\n        }\r\n        else {\r\n            context.middlewareControl = new MiddlewareControl();\r\n        }\r\n        if (typeof options === \"undefined\") {\r\n            options = new TelemetryHandlerOptions();\r\n            context.middlewareControl.setMiddlewareOptions(TelemetryHandlerOptions, options);\r\n        }\r\n        options.setFeatureUsage(flag);\r\n    }\r\n    /**\r\n     * @private\r\n     * To set the feature usage flag\r\n     * @param {FeatureUsageFlag} flag - The flag value\r\n     * @returns nothing\r\n     */\r\n    setFeatureUsage(flag) {\r\n        /* tslint:disable: no-bitwise */\r\n        this.featureUsage = this.featureUsage | flag;\r\n        /* tslint:enable: no-bitwise */\r\n    }\r\n    /**\r\n     * @public\r\n     * To get the feature usage\r\n     * @returns A feature usage flag as hexadecimal string\r\n     */\r\n    getFeatureUsage() {\r\n        return this.featureUsage.toString(16);\r\n    }\r\n}\r\n//# sourceMappingURL=TelemetryHandlerOptions.js.map","/**\r\n * -------------------------------------------------------------------------------------------\r\n * Copyright (c) Microsoft Corporation.  All Rights Reserved.  Licensed under the MIT License.\r\n * See License in the project root for license information.\r\n * -------------------------------------------------------------------------------------------\r\n */\r\nimport * as tslib_1 from \"tslib\";\r\nimport { MiddlewareControl } from \"./MiddlewareControl\";\r\nimport { appendRequestHeader } from \"./MiddlewareUtil\";\r\nimport { AuthenticationHandlerOptions } from \"./options/AuthenticationHandlerOptions\";\r\nimport { FeatureUsageFlag, TelemetryHandlerOptions } from \"./options/TelemetryHandlerOptions\";\r\n/**\r\n * @class\r\n * @implements Middleware\r\n * Class representing AuthenticationHandler\r\n */\r\nexport class AuthenticationHandler {\r\n    /**\r\n     * @public\r\n     * @constructor\r\n     * Creates an instance of AuthenticationHandler\r\n     * @param {AuthenticationProvider} authenticationProvider - The authentication provider for the authentication handler\r\n     */\r\n    constructor(authenticationProvider) {\r\n        this.authenticationProvider = authenticationProvider;\r\n    }\r\n    /**\r\n     * @public\r\n     * @async\r\n     * To execute the current middleware\r\n     * @param {Context} context - The context object of the request\r\n     * @returns A Promise that resolves to nothing\r\n     */\r\n    execute(context) {\r\n        return tslib_1.__awaiter(this, void 0, void 0, function* () {\r\n            try {\r\n                let options;\r\n                if (context.middlewareControl instanceof MiddlewareControl) {\r\n                    options = context.middlewareControl.getMiddlewareOptions(AuthenticationHandlerOptions);\r\n                }\r\n                let authenticationProvider;\r\n                let authenticationProviderOptions;\r\n                if (typeof options !== \"undefined\") {\r\n                    authenticationProvider = options.authenticationProvider;\r\n                    authenticationProviderOptions = options.authenticationProviderOptions;\r\n                }\r\n                if (typeof authenticationProvider === \"undefined\") {\r\n                    authenticationProvider = this.authenticationProvider;\r\n                }\r\n                const token = yield authenticationProvider.getAccessToken(authenticationProviderOptions);\r\n                const bearerKey = `Bearer ${token}`;\r\n                appendRequestHeader(context.request, context.options, AuthenticationHandler.AUTHORIZATION_HEADER, bearerKey);\r\n                TelemetryHandlerOptions.updateFeatureUsageFlag(context, FeatureUsageFlag.AUTHENTICATION_HANDLER_ENABLED);\r\n                return yield this.nextMiddleware.execute(context);\r\n            }\r\n            catch (error) {\r\n                throw error;\r\n            }\r\n        });\r\n    }\r\n    /**\r\n     * @public\r\n     * To set the next middleware in the chain\r\n     * @param {Middleware} next - The middleware instance\r\n     * @returns Nothing\r\n     */\r\n    setNext(next) {\r\n        this.nextMiddleware = next;\r\n    }\r\n}\r\n/**\r\n * @private\r\n * A member representing the authorization header name\r\n */\r\nAuthenticationHandler.AUTHORIZATION_HEADER = \"Authorization\";\r\n//# sourceMappingURL=AuthenticationHandler.js.map","/**\r\n * -------------------------------------------------------------------------------------------\r\n * Copyright (c) Microsoft Corporation.  All Rights Reserved.  Licensed under the MIT License.\r\n * See License in the project root for license information.\r\n * -------------------------------------------------------------------------------------------\r\n */\r\nimport * as tslib_1 from \"tslib\";\r\n/**\r\n * @class\r\n * @implements Middleware\r\n * Class for HTTPMessageHandler\r\n */\r\nexport class HTTPMessageHandler {\r\n    /**\r\n     * @public\r\n     * @async\r\n     * To execute the current middleware\r\n     * @param {Context} context - The request context object\r\n     * @returns A promise that resolves to nothing\r\n     */\r\n    execute(context) {\r\n        return tslib_1.__awaiter(this, void 0, void 0, function* () {\r\n            try {\r\n                context.response = yield fetch(context.request, context.options);\r\n                return;\r\n            }\r\n            catch (error) {\r\n                throw error;\r\n            }\r\n        });\r\n    }\r\n}\r\n//# sourceMappingURL=HTTPMessageHandler.js.map","/**\r\n * -------------------------------------------------------------------------------------------\r\n * Copyright (c) Microsoft Corporation.  All Rights Reserved.  Licensed under the MIT License.\r\n * See License in the project root for license information.\r\n * -------------------------------------------------------------------------------------------\r\n */\r\n/**\r\n * @class\r\n * @implements MiddlewareOptions\r\n * Class for RetryHandlerOptions\r\n */\r\nexport class RetryHandlerOptions {\r\n    /**\r\n     * @public\r\n     * @constructor\r\n     * To create an instance of RetryHandlerOptions\r\n     * @param {number} [delay = RetryHandlerOptions.DEFAULT_DELAY] - The delay value in seconds\r\n     * @param {number} [maxRetries = RetryHandlerOptions.DEFAULT_MAX_RETRIES] - The maxRetries value\r\n     * @param {ShouldRetry} [shouldRetry = RetryHandlerOptions.DEFAULT_SHOULD_RETRY] - The shouldRetry callback function\r\n     * @returns An instance of RetryHandlerOptions\r\n     */\r\n    constructor(delay = RetryHandlerOptions.DEFAULT_DELAY, maxRetries = RetryHandlerOptions.DEFAULT_MAX_RETRIES, shouldRetry = RetryHandlerOptions.DEFAULT_SHOULD_RETRY) {\r\n        if (delay > RetryHandlerOptions.MAX_DELAY && maxRetries > RetryHandlerOptions.MAX_MAX_RETRIES) {\r\n            const error = new Error(`Delay and MaxRetries should not be more than ${RetryHandlerOptions.MAX_DELAY} and ${RetryHandlerOptions.MAX_MAX_RETRIES}`);\r\n            error.name = \"MaxLimitExceeded\";\r\n            throw error;\r\n        }\r\n        else if (delay > RetryHandlerOptions.MAX_DELAY) {\r\n            const error = new Error(`Delay should not be more than ${RetryHandlerOptions.MAX_DELAY}`);\r\n            error.name = \"MaxLimitExceeded\";\r\n            throw error;\r\n        }\r\n        else if (maxRetries > RetryHandlerOptions.MAX_MAX_RETRIES) {\r\n            const error = new Error(`MaxRetries should not be more than ${RetryHandlerOptions.MAX_MAX_RETRIES}`);\r\n            error.name = \"MaxLimitExceeded\";\r\n            throw error;\r\n        }\r\n        else if (delay < 0 && maxRetries < 0) {\r\n            const error = new Error(`Delay and MaxRetries should not be negative`);\r\n            error.name = \"MinExpectationNotMet\";\r\n            throw error;\r\n        }\r\n        else if (delay < 0) {\r\n            const error = new Error(`Delay should not be negative`);\r\n            error.name = \"MinExpectationNotMet\";\r\n            throw error;\r\n        }\r\n        else if (maxRetries < 0) {\r\n            const error = new Error(`MaxRetries should not be negative`);\r\n            error.name = \"MinExpectationNotMet\";\r\n            throw error;\r\n        }\r\n        this.delay = Math.min(delay, RetryHandlerOptions.MAX_DELAY);\r\n        this.maxRetries = Math.min(maxRetries, RetryHandlerOptions.MAX_MAX_RETRIES);\r\n        this.shouldRetry = shouldRetry;\r\n    }\r\n    /**\r\n     * @public\r\n     * To get the maximum delay\r\n     * @returns A maximum delay\r\n     */\r\n    getMaxDelay() {\r\n        return RetryHandlerOptions.MAX_DELAY;\r\n    }\r\n}\r\n/**\r\n * @private\r\n * @static\r\n * A member holding default delay value in seconds\r\n */\r\nRetryHandlerOptions.DEFAULT_DELAY = 3;\r\n/**\r\n * @private\r\n * @static\r\n * A member holding default maxRetries value\r\n */\r\nRetryHandlerOptions.DEFAULT_MAX_RETRIES = 3;\r\n/**\r\n * @private\r\n * @static\r\n * A member holding maximum delay value in seconds\r\n */\r\nRetryHandlerOptions.MAX_DELAY = 180;\r\n/**\r\n * @private\r\n * @static\r\n * A member holding maximum maxRetries value\r\n */\r\nRetryHandlerOptions.MAX_MAX_RETRIES = 10;\r\n/**\r\n * @private\r\n * A member holding default shouldRetry callback\r\n */\r\nRetryHandlerOptions.DEFAULT_SHOULD_RETRY = () => true;\r\n//# sourceMappingURL=RetryHandlerOptions.js.map","/**\r\n * -------------------------------------------------------------------------------------------\r\n * Copyright (c) Microsoft Corporation.  All Rights Reserved.  Licensed under the MIT License.\r\n * See License in the project root for license information.\r\n * -------------------------------------------------------------------------------------------\r\n */\r\nimport * as tslib_1 from \"tslib\";\r\nimport { RequestMethod } from \"../RequestMethod\";\r\nimport { MiddlewareControl } from \"./MiddlewareControl\";\r\nimport { getRequestHeader, setRequestHeader } from \"./MiddlewareUtil\";\r\nimport { RetryHandlerOptions } from \"./options/RetryHandlerOptions\";\r\nimport { FeatureUsageFlag, TelemetryHandlerOptions } from \"./options/TelemetryHandlerOptions\";\r\n/**\r\n * @class\r\n * @implements Middleware\r\n * Class for RetryHandler\r\n */\r\nexport class RetryHandler {\r\n    /**\r\n     * @public\r\n     * @constructor\r\n     * To create an instance of RetryHandler\r\n     * @param {RetryHandlerOptions} [options = new RetryHandlerOptions()] - The retry handler options value\r\n     * @returns An instance of RetryHandler\r\n     */\r\n    constructor(options = new RetryHandlerOptions()) {\r\n        this.options = options;\r\n    }\r\n    /**\r\n     *\r\n     * @private\r\n     * To check whether the response has the retry status code\r\n     * @param {Response} response - The response object\r\n     * @returns Whether the response has retry status code or not\r\n     */\r\n    isRetry(response) {\r\n        return RetryHandler.RETRY_STATUS_CODES.indexOf(response.status) !== -1;\r\n    }\r\n    /**\r\n     * @private\r\n     * To check whether the payload is buffered or not\r\n     * @param {RequestInfo} request - The url string or the request object value\r\n     * @param {FetchOptions} options - The options of a request\r\n     * @returns Whether the payload is buffered or not\r\n     */\r\n    isBuffered(request, options) {\r\n        const method = typeof request === \"string\" ? options.method : request.method;\r\n        const isPutPatchOrPost = method === RequestMethod.PUT || method === RequestMethod.PATCH || method === RequestMethod.POST;\r\n        if (isPutPatchOrPost) {\r\n            const isStream = getRequestHeader(request, options, \"Content-Type\") === \"application/octet-stream\";\r\n            if (isStream) {\r\n                return false;\r\n            }\r\n        }\r\n        return true;\r\n    }\r\n    /**\r\n     * @private\r\n     * To get the delay for a retry\r\n     * @param {Response} response - The response object\r\n     * @param {number} retryAttempts - The current attempt count\r\n     * @param {number} delay - The delay value in seconds\r\n     * @returns A delay for a retry\r\n     */\r\n    getDelay(response, retryAttempts, delay) {\r\n        const getRandomness = () => Number(Math.random().toFixed(3));\r\n        const retryAfter = response.headers !== undefined ? response.headers.get(RetryHandler.RETRY_AFTER_HEADER) : null;\r\n        let newDelay;\r\n        if (retryAfter !== null) {\r\n            // tslint:disable: prefer-conditional-expression\r\n            if (Number.isNaN(Number(retryAfter))) {\r\n                newDelay = Math.round((new Date(retryAfter).getTime() - Date.now()) / 1000);\r\n            }\r\n            else {\r\n                newDelay = Number(retryAfter);\r\n            }\r\n            // tslint:enable: prefer-conditional-expression\r\n        }\r\n        else {\r\n            // Adding randomness to avoid retrying at a same\r\n            newDelay = retryAttempts >= 2 ? this.getExponentialBackOffTime(retryAttempts) + delay + getRandomness() : delay + getRandomness();\r\n        }\r\n        return Math.min(newDelay, this.options.getMaxDelay() + getRandomness());\r\n    }\r\n    /**\r\n     * @private\r\n     * To get an exponential back off value\r\n     * @param {number} attempts - The current attempt count\r\n     * @returns An exponential back off value\r\n     */\r\n    getExponentialBackOffTime(attempts) {\r\n        return Math.round((1 / 2) * (Math.pow(2, attempts) - 1));\r\n    }\r\n    /**\r\n     * @private\r\n     * @async\r\n     * To add delay for the execution\r\n     * @param {number} delaySeconds - The delay value in seconds\r\n     * @returns Nothing\r\n     */\r\n    sleep(delaySeconds) {\r\n        return tslib_1.__awaiter(this, void 0, void 0, function* () {\r\n            const delayMilliseconds = delaySeconds * 1000;\r\n            return new Promise((resolve) => setTimeout(resolve, delayMilliseconds));\r\n        });\r\n    }\r\n    getOptions(context) {\r\n        let options;\r\n        if (context.middlewareControl instanceof MiddlewareControl) {\r\n            options = context.middlewareControl.getMiddlewareOptions(this.options.constructor);\r\n        }\r\n        if (typeof options === \"undefined\") {\r\n            options = Object.assign(new RetryHandlerOptions(), this.options);\r\n        }\r\n        return options;\r\n    }\r\n    /**\r\n     * @private\r\n     * @async\r\n     * To execute the middleware with retries\r\n     * @param {Context} context - The context object\r\n     * @param {number} retryAttempts - The current attempt count\r\n     * @param {RetryHandlerOptions} options - The retry middleware options instance\r\n     * @returns A Promise that resolves to nothing\r\n     */\r\n    executeWithRetry(context, retryAttempts, options) {\r\n        return tslib_1.__awaiter(this, void 0, void 0, function* () {\r\n            try {\r\n                yield this.nextMiddleware.execute(context);\r\n                if (retryAttempts < options.maxRetries && this.isRetry(context.response) && this.isBuffered(context.request, context.options) && options.shouldRetry(options.delay, retryAttempts, context.request, context.options, context.response)) {\r\n                    ++retryAttempts;\r\n                    setRequestHeader(context.request, context.options, RetryHandler.RETRY_ATTEMPT_HEADER, retryAttempts.toString());\r\n                    const delay = this.getDelay(context.response, retryAttempts, options.delay);\r\n                    yield this.sleep(delay);\r\n                    return yield this.executeWithRetry(context, retryAttempts, options);\r\n                }\r\n                else {\r\n                    return;\r\n                }\r\n            }\r\n            catch (error) {\r\n                throw error;\r\n            }\r\n        });\r\n    }\r\n    /**\r\n     * @public\r\n     * @async\r\n     * To execute the current middleware\r\n     * @param {Context} context - The context object of the request\r\n     * @returns A Promise that resolves to nothing\r\n     */\r\n    execute(context) {\r\n        return tslib_1.__awaiter(this, void 0, void 0, function* () {\r\n            try {\r\n                const retryAttempts = 0;\r\n                const options = this.getOptions(context);\r\n                TelemetryHandlerOptions.updateFeatureUsageFlag(context, FeatureUsageFlag.RETRY_HANDLER_ENABLED);\r\n                return yield this.executeWithRetry(context, retryAttempts, options);\r\n            }\r\n            catch (error) {\r\n                throw error;\r\n            }\r\n        });\r\n    }\r\n    /**\r\n     * @public\r\n     * To set the next middleware in the chain\r\n     * @param {Middleware} next - The middleware instance\r\n     * @returns Nothing\r\n     */\r\n    setNext(next) {\r\n        this.nextMiddleware = next;\r\n    }\r\n}\r\n/**\r\n * @private\r\n * @static\r\n * A list of status codes that needs to be retried\r\n */\r\nRetryHandler.RETRY_STATUS_CODES = [\r\n    429,\r\n    503,\r\n    504,\r\n];\r\n/**\r\n * @private\r\n * @static\r\n * A member holding the name of retry attempt header\r\n */\r\nRetryHandler.RETRY_ATTEMPT_HEADER = \"Retry-Attempt\";\r\n/**\r\n * @private\r\n * @static\r\n * A member holding the name of retry after header\r\n */\r\nRetryHandler.RETRY_AFTER_HEADER = \"Retry-After\";\r\n//# sourceMappingURL=RetryHandler.js.map","/**\r\n * -------------------------------------------------------------------------------------------\r\n * Copyright (c) Microsoft Corporation.  All Rights Reserved.  Licensed under the MIT License.\r\n * See License in the project root for license information.\r\n * -------------------------------------------------------------------------------------------\r\n */\r\n/**\r\n * @class\r\n * @implements MiddlewareOptions\r\n * A class representing RedirectHandlerOptions\r\n */\r\nexport class RedirectHandlerOptions {\r\n    /**\r\n     * @public\r\n     * @constructor\r\n     * To create an instance of RedirectHandlerOptions\r\n     * @param {number} [maxRedirects = RedirectHandlerOptions.DEFAULT_MAX_REDIRECTS] - The max redirects value\r\n     * @param {ShouldRedirect} [shouldRedirect = RedirectHandlerOptions.DEFAULT_SHOULD_RETRY] - The should redirect callback\r\n     * @returns An instance of RedirectHandlerOptions\r\n     */\r\n    constructor(maxRedirects = RedirectHandlerOptions.DEFAULT_MAX_REDIRECTS, shouldRedirect = RedirectHandlerOptions.DEFAULT_SHOULD_RETRY) {\r\n        if (maxRedirects > RedirectHandlerOptions.MAX_MAX_REDIRECTS) {\r\n            const error = new Error(`MaxRedirects should not be more than ${RedirectHandlerOptions.MAX_MAX_REDIRECTS}`);\r\n            error.name = \"MaxLimitExceeded\";\r\n            throw error;\r\n        }\r\n        if (maxRedirects < 0) {\r\n            const error = new Error(`MaxRedirects should not be negative`);\r\n            error.name = \"MinExpectationNotMet\";\r\n            throw error;\r\n        }\r\n        this.maxRedirects = maxRedirects;\r\n        this.shouldRedirect = shouldRedirect;\r\n    }\r\n}\r\n/**\r\n * @private\r\n * @static\r\n * A member holding default max redirects value\r\n */\r\nRedirectHandlerOptions.DEFAULT_MAX_REDIRECTS = 5;\r\n/**\r\n * @private\r\n * @static\r\n * A member holding maximum max redirects value\r\n */\r\nRedirectHandlerOptions.MAX_MAX_REDIRECTS = 20;\r\n/**\r\n * @private\r\n * A member holding default shouldRedirect callback\r\n */\r\nRedirectHandlerOptions.DEFAULT_SHOULD_RETRY = () => true;\r\n//# sourceMappingURL=RedirectHandlerOptions.js.map","/**\r\n * -------------------------------------------------------------------------------------------\r\n * Copyright (c) Microsoft Corporation.  All Rights Reserved.  Licensed under the MIT License.\r\n * See License in the project root for license information.\r\n * -------------------------------------------------------------------------------------------\r\n */\r\nimport * as tslib_1 from \"tslib\";\r\nimport { RequestMethod } from \"../RequestMethod\";\r\nimport { MiddlewareControl } from \"./MiddlewareControl\";\r\nimport { cloneRequestWithNewUrl, setRequestHeader } from \"./MiddlewareUtil\";\r\nimport { RedirectHandlerOptions } from \"./options/RedirectHandlerOptions\";\r\nimport { FeatureUsageFlag, TelemetryHandlerOptions } from \"./options/TelemetryHandlerOptions\";\r\n/**\r\n * @class\r\n * Class\r\n * @implements Middleware\r\n * Class representing RedirectHandler\r\n */\r\nexport class RedirectHandler {\r\n    /**\r\n     * @public\r\n     * @constructor\r\n     * To create an instance of RedirectHandler\r\n     * @param {RedirectHandlerOptions} [options = new RedirectHandlerOptions()] - The redirect handler options instance\r\n     * @returns An instance of RedirectHandler\r\n     */\r\n    constructor(options = new RedirectHandlerOptions()) {\r\n        this.options = options;\r\n    }\r\n    /**\r\n     * @private\r\n     * To check whether the response has the redirect status code or not\r\n     * @param {Response} response - The response object\r\n     * @returns A boolean representing whether the response contains the redirect status code or not\r\n     */\r\n    isRedirect(response) {\r\n        return RedirectHandler.REDIRECT_STATUS_CODES.indexOf(response.status) !== -1;\r\n    }\r\n    /**\r\n     * @private\r\n     * To check whether the response has location header or not\r\n     * @param {Response} response - The response object\r\n     * @returns A boolean representing the whether the response has location header or not\r\n     */\r\n    hasLocationHeader(response) {\r\n        return response.headers.has(RedirectHandler.LOCATION_HEADER);\r\n    }\r\n    /**\r\n     * @private\r\n     * To get the redirect url from location header in response object\r\n     * @param {Response} response - The response object\r\n     * @returns A redirect url from location header\r\n     */\r\n    getLocationHeader(response) {\r\n        return response.headers.get(RedirectHandler.LOCATION_HEADER);\r\n    }\r\n    /**\r\n     * @private\r\n     * To check whether the given url is a relative url or not\r\n     * @param {string} url - The url string value\r\n     * @returns A boolean representing whether the given url is a relative url or not\r\n     */\r\n    isRelativeURL(url) {\r\n        return url.indexOf(\"://\") === -1;\r\n    }\r\n    /**\r\n     * @private\r\n     * To check whether the authorization header in the request should be dropped for consequent redirected requests\r\n     * @param {string} requestUrl - The request url value\r\n     * @param {string} redirectUrl - The redirect url value\r\n     * @returns A boolean representing whether the authorization header in the request should be dropped for consequent redirected requests\r\n     */\r\n    shouldDropAuthorizationHeader(requestUrl, redirectUrl) {\r\n        const schemeHostRegex = /^[A-Za-z].+?:\\/\\/.+?(?=\\/|$)/;\r\n        const requestMatches = schemeHostRegex.exec(requestUrl);\r\n        let requestAuthority;\r\n        let redirectAuthority;\r\n        if (requestMatches !== null) {\r\n            requestAuthority = requestMatches[0];\r\n        }\r\n        const redirectMatches = schemeHostRegex.exec(redirectUrl);\r\n        if (redirectMatches !== null) {\r\n            redirectAuthority = redirectMatches[0];\r\n        }\r\n        return typeof requestAuthority !== \"undefined\" && typeof redirectAuthority !== \"undefined\" && requestAuthority !== redirectAuthority;\r\n    }\r\n    /**\r\n     * @private\r\n     * @async\r\n     * To update a request url with the redirect url\r\n     * @param {string} redirectUrl - The redirect url value\r\n     * @param {Context} context - The context object value\r\n     * @returns Nothing\r\n     */\r\n    updateRequestUrl(redirectUrl, context) {\r\n        return tslib_1.__awaiter(this, void 0, void 0, function* () {\r\n            context.request = typeof context.request === \"string\" ? redirectUrl : yield cloneRequestWithNewUrl(redirectUrl, context.request);\r\n        });\r\n    }\r\n    /**\r\n     * @private\r\n     * To get the options for execution of the middleware\r\n     * @param {Context} context - The context object\r\n     * @returns A options for middleware execution\r\n     */\r\n    getOptions(context) {\r\n        let options;\r\n        if (context.middlewareControl instanceof MiddlewareControl) {\r\n            options = context.middlewareControl.getMiddlewareOptions(RedirectHandlerOptions);\r\n        }\r\n        if (typeof options === \"undefined\") {\r\n            options = Object.assign(new RedirectHandlerOptions(), this.options);\r\n        }\r\n        return options;\r\n    }\r\n    /**\r\n     * @private\r\n     * @async\r\n     * To execute the next middleware and to handle in case of redirect response returned by the server\r\n     * @param {Context} context - The context object\r\n     * @param {number} redirectCount - The redirect count value\r\n     * @param {RedirectHandlerOptions} options - The redirect handler options instance\r\n     * @returns A promise that resolves to nothing\r\n     */\r\n    executeWithRedirect(context, redirectCount, options) {\r\n        return tslib_1.__awaiter(this, void 0, void 0, function* () {\r\n            try {\r\n                yield this.nextMiddleware.execute(context);\r\n                const response = context.response;\r\n                if (redirectCount < options.maxRedirects && this.isRedirect(response) && this.hasLocationHeader(response) && options.shouldRedirect(response)) {\r\n                    ++redirectCount;\r\n                    if (response.status === RedirectHandler.STATUS_CODE_SEE_OTHER) {\r\n                        context.options.method = RequestMethod.GET;\r\n                        delete context.options.body;\r\n                    }\r\n                    else {\r\n                        const redirectUrl = this.getLocationHeader(response);\r\n                        if (!this.isRelativeURL(redirectUrl) && this.shouldDropAuthorizationHeader(response.url, redirectUrl)) {\r\n                            setRequestHeader(context.request, context.options, RedirectHandler.AUTHORIZATION_HEADER, undefined);\r\n                        }\r\n                        yield this.updateRequestUrl(redirectUrl, context);\r\n                    }\r\n                    yield this.executeWithRedirect(context, redirectCount, options);\r\n                }\r\n                else {\r\n                    return;\r\n                }\r\n            }\r\n            catch (error) {\r\n                throw error;\r\n            }\r\n        });\r\n    }\r\n    /**\r\n     * @public\r\n     * @async\r\n     * To execute the current middleware\r\n     * @param {Context} context - The context object of the request\r\n     * @returns A Promise that resolves to nothing\r\n     */\r\n    execute(context) {\r\n        return tslib_1.__awaiter(this, void 0, void 0, function* () {\r\n            try {\r\n                const redirectCount = 0;\r\n                const options = this.getOptions(context);\r\n                context.options.redirect = RedirectHandler.MANUAL_REDIRECT;\r\n                TelemetryHandlerOptions.updateFeatureUsageFlag(context, FeatureUsageFlag.REDIRECT_HANDLER_ENABLED);\r\n                return yield this.executeWithRedirect(context, redirectCount, options);\r\n            }\r\n            catch (error) {\r\n                throw error;\r\n            }\r\n        });\r\n    }\r\n    /**\r\n     * @public\r\n     * To set the next middleware in the chain\r\n     * @param {Middleware} next - The middleware instance\r\n     * @returns Nothing\r\n     */\r\n    setNext(next) {\r\n        this.nextMiddleware = next;\r\n    }\r\n}\r\n/**\r\n * @private\r\n * @static\r\n * A member holding the array of redirect status codes\r\n */\r\nRedirectHandler.REDIRECT_STATUS_CODES = [\r\n    301,\r\n    302,\r\n    303,\r\n    307,\r\n    308,\r\n];\r\n/**\r\n * @private\r\n * @static\r\n * A member holding SeeOther status code\r\n */\r\nRedirectHandler.STATUS_CODE_SEE_OTHER = 303;\r\n/**\r\n * @private\r\n * @static\r\n * A member holding the name of the location header\r\n */\r\nRedirectHandler.LOCATION_HEADER = \"Location\";\r\n/**\r\n * @private\r\n * @static\r\n * A member representing the authorization header name\r\n */\r\nRedirectHandler.AUTHORIZATION_HEADER = \"Authorization\";\r\n/**\r\n * @private\r\n * @static\r\n * A member holding the manual redirect value\r\n */\r\nRedirectHandler.MANUAL_REDIRECT = \"manual\";\r\n//# sourceMappingURL=RedirectHandler.js.map","/**\r\n * -------------------------------------------------------------------------------------------\r\n * Copyright (c) Microsoft Corporation.  All Rights Reserved.  Licensed under the MIT License.\r\n * See License in the project root for license information.\r\n * -------------------------------------------------------------------------------------------\r\n */\r\nimport * as tslib_1 from \"tslib\";\r\nimport { PACKAGE_VERSION } from \"../Version\";\r\nimport { MiddlewareControl } from \"./MiddlewareControl\";\r\nimport { appendRequestHeader, generateUUID, getRequestHeader, setRequestHeader } from \"./MiddlewareUtil\";\r\nimport { TelemetryHandlerOptions } from \"./options/TelemetryHandlerOptions\";\r\n/**\r\n * @class\r\n * @implements Middleware\r\n * Class for TelemetryHandler\r\n */\r\nexport class TelemetryHandler {\r\n    /**\r\n     * @public\r\n     * @async\r\n     * To execute the current middleware\r\n     * @param {Context} context - The context object of the request\r\n     * @returns A Promise that resolves to nothing\r\n     */\r\n    execute(context) {\r\n        return tslib_1.__awaiter(this, void 0, void 0, function* () {\r\n            try {\r\n                let clientRequestId = getRequestHeader(context.request, context.options, TelemetryHandler.CLIENT_REQUEST_ID_HEADER);\r\n                if (clientRequestId === null) {\r\n                    clientRequestId = generateUUID();\r\n                    setRequestHeader(context.request, context.options, TelemetryHandler.CLIENT_REQUEST_ID_HEADER, clientRequestId);\r\n                }\r\n                let sdkVersionValue = `${TelemetryHandler.PRODUCT_NAME}/${PACKAGE_VERSION}`;\r\n                let options;\r\n                if (context.middlewareControl instanceof MiddlewareControl) {\r\n                    options = context.middlewareControl.getMiddlewareOptions(TelemetryHandlerOptions);\r\n                }\r\n                if (typeof options !== \"undefined\") {\r\n                    const featureUsage = options.getFeatureUsage();\r\n                    sdkVersionValue += ` (${TelemetryHandler.FEATURE_USAGE_STRING}=${featureUsage})`;\r\n                }\r\n                appendRequestHeader(context.request, context.options, TelemetryHandler.SDK_VERSION_HEADER, sdkVersionValue);\r\n                return yield this.nextMiddleware.execute(context);\r\n            }\r\n            catch (error) {\r\n                throw error;\r\n            }\r\n        });\r\n    }\r\n    /**\r\n     * @public\r\n     * To set the next middleware in the chain\r\n     * @param {Middleware} next - The middleware instance\r\n     * @returns Nothing\r\n     */\r\n    setNext(next) {\r\n        this.nextMiddleware = next;\r\n    }\r\n}\r\n/**\r\n * @private\r\n * @static\r\n * A member holding the name of the client request id header\r\n */\r\nTelemetryHandler.CLIENT_REQUEST_ID_HEADER = \"client-request-id\";\r\n/**\r\n * @private\r\n * @static\r\n * A member holding the name of the sdk version header\r\n */\r\nTelemetryHandler.SDK_VERSION_HEADER = \"SdkVersion\";\r\n/**\r\n * @private\r\n * @static\r\n * A member holding the language prefix for the sdk version header value\r\n */\r\nTelemetryHandler.PRODUCT_NAME = \"graph-js\";\r\n/**\r\n * @private\r\n * @static\r\n * A member holding the key for the feature usage metrics\r\n */\r\nTelemetryHandler.FEATURE_USAGE_STRING = \"featureUsage\";\r\n//# sourceMappingURL=TelemetryHandler.js.map","/**\r\n * -------------------------------------------------------------------------------------------\r\n * Copyright (c) Microsoft Corporation.  All Rights Reserved.  Licensed under the MIT License.\r\n * See License in the project root for license information.\r\n * -------------------------------------------------------------------------------------------\r\n */\r\n// THIS FILE IS AUTO GENERATED\r\n// ANY CHANGES WILL BE LOST DURING BUILD\r\n/**\r\n * @module Version\r\n */\r\nexport const PACKAGE_VERSION = \"2.0.0-Preview.5\";\r\n//# sourceMappingURL=Version.js.map","/**\r\n * -------------------------------------------------------------------------------------------\r\n * Copyright (c) Microsoft Corporation.  All Rights Reserved.  Licensed under the MIT License.\r\n * See License in the project root for license information.\r\n * -------------------------------------------------------------------------------------------\r\n */\r\nimport * as tslib_1 from \"tslib\";\r\n/**\r\n * @class\r\n * Class for PageIterator\r\n */\r\nexport class PageIterator {\r\n    /**\r\n     * @public\r\n     * @constructor\r\n     * Creates new instance for PageIterator\r\n     * @param {Client} client - The graph client instance\r\n     * @param {PageCollection} pageCollection - The page collection object\r\n     * @param {PageIteratorCallback} callBack - The callback function\r\n     * @returns An instance of a PageIterator\r\n     */\r\n    constructor(client, pageCollection, callback) {\r\n        this.client = client;\r\n        this.collection = pageCollection.value;\r\n        this.nextLink = pageCollection[\"@odata.nextLink\"];\r\n        this.deltaLink = pageCollection[\"@odata.deltaLink\"];\r\n        this.callback = callback;\r\n        this.complete = false;\r\n    }\r\n    /**\r\n     * @private\r\n     * Iterates over a collection by enqueuing entries one by one and kicking the callback with the enqueued entry\r\n     * @returns A boolean indicating the continue flag to process next page\r\n     */\r\n    iterationHelper() {\r\n        if (this.collection === undefined) {\r\n            return false;\r\n        }\r\n        let advance = true;\r\n        while (advance && this.collection.length !== 0) {\r\n            const item = this.collection.shift();\r\n            advance = this.callback(item);\r\n        }\r\n        return advance;\r\n    }\r\n    /**\r\n     * @private\r\n     * @async\r\n     * Helper to make a get request to fetch next page with nextLink url and update the page iterator instance with the returned response\r\n     * @returns A promise that resolves to a response data with next page collection\r\n     */\r\n    fetchAndUpdateNextPageData() {\r\n        return tslib_1.__awaiter(this, void 0, void 0, function* () {\r\n            try {\r\n                const response = yield this.client.api(this.nextLink).get();\r\n                this.collection = response.value;\r\n                this.nextLink = response[\"@odata.nextLink\"];\r\n                this.deltaLink = response[\"@odata.deltaLink\"];\r\n            }\r\n            catch (error) {\r\n                throw error;\r\n            }\r\n        });\r\n    }\r\n    /**\r\n     * @public\r\n     * Getter to get the deltaLink in the current response\r\n     * @returns A deltaLink which is being used to make delta requests in future\r\n     */\r\n    getDeltaLink() {\r\n        return this.deltaLink;\r\n    }\r\n    /**\r\n     * @public\r\n     * @async\r\n     * Iterates over the collection and kicks callback for each item on iteration. Fetches next set of data through nextLink and iterates over again\r\n     * This happens until the nextLink is drained out or the user responds with a red flag to continue from callback\r\n     * @returns A Promise that resolves to nothing on completion and throws error incase of any discrepancy.\r\n     */\r\n    iterate() {\r\n        return tslib_1.__awaiter(this, void 0, void 0, function* () {\r\n            try {\r\n                let advance = this.iterationHelper();\r\n                while (advance) {\r\n                    if (this.nextLink !== undefined) {\r\n                        yield this.fetchAndUpdateNextPageData();\r\n                        advance = this.iterationHelper();\r\n                    }\r\n                    else {\r\n                        advance = false;\r\n                    }\r\n                }\r\n                if (this.nextLink === undefined && this.collection.length === 0) {\r\n                    this.complete = true;\r\n                }\r\n            }\r\n            catch (error) {\r\n                throw error;\r\n            }\r\n        });\r\n    }\r\n    /**\r\n     * @public\r\n     * @async\r\n     * To resume the iteration\r\n     * Note: This internally calls the iterate method, It's just for more readability.\r\n     * @returns A Promise that resolves to nothing on completion and throws error incase of any discrepancy\r\n     */\r\n    resume() {\r\n        return tslib_1.__awaiter(this, void 0, void 0, function* () {\r\n            try {\r\n                return this.iterate();\r\n            }\r\n            catch (error) {\r\n                throw error;\r\n            }\r\n        });\r\n    }\r\n    /**\r\n     * @public\r\n     * To get the completeness status of the iterator\r\n     * @returns Boolean indicating the completeness\r\n     */\r\n    isComplete() {\r\n        return this.complete;\r\n    }\r\n}\r\n//# sourceMappingURL=PageIterator.js.map","/**\r\n * -------------------------------------------------------------------------------------------\r\n * Copyright (c) Microsoft Corporation.  All Rights Reserved.  Licensed under the MIT License.\r\n * See License in the project root for license information.\r\n * -------------------------------------------------------------------------------------------\r\n */\r\n/**\r\n * @module Constants\r\n */\r\n/**\r\n * @constant\r\n * A Default API endpoint version for a request\r\n */\r\nexport const GRAPH_API_VERSION = \"v1.0\";\r\n/**\r\n * @constant\r\n * A Default base url for a request\r\n */\r\nexport const GRAPH_BASE_URL = \"https://graph.microsoft.com/\";\r\n//# sourceMappingURL=Constants.js.map","/**\r\n * -------------------------------------------------------------------------------------------\r\n * Copyright (c) Microsoft Corporation.  All Rights Reserved.  Licensed under the MIT License.\r\n * See License in the project root for license information.\r\n * -------------------------------------------------------------------------------------------\r\n */\r\nimport * as tslib_1 from \"tslib\";\r\n/**\r\n * @class\r\n * Class representing CustomAuthenticationProvider\r\n * @extends AuthenticationProvider\r\n */\r\nexport class CustomAuthenticationProvider {\r\n    /**\r\n     * @public\r\n     * @constructor\r\n     * Creates an instance of CustomAuthenticationProvider\r\n     * @param {AuthProviderCallback} provider - An authProvider function\r\n     * @returns An instance of CustomAuthenticationProvider\r\n     */\r\n    constructor(provider) {\r\n        this.provider = provider;\r\n    }\r\n    /**\r\n     * @public\r\n     * @async\r\n     * To get the access token\r\n     * @returns The promise that resolves to an access token\r\n     */\r\n    getAccessToken() {\r\n        return tslib_1.__awaiter(this, void 0, void 0, function* () {\r\n            return new Promise((resolve, reject) => {\r\n                this.provider((error, accessToken) => {\r\n                    if (accessToken) {\r\n                        resolve(accessToken);\r\n                    }\r\n                    else {\r\n                        reject(error);\r\n                    }\r\n                });\r\n            });\r\n        });\r\n    }\r\n}\r\n//# sourceMappingURL=CustomAuthenticationProvider.js.map","/**\r\n * -------------------------------------------------------------------------------------------\r\n * Copyright (c) Microsoft Corporation.  All Rights Reserved.  Licensed under the MIT License.\r\n * See License in the project root for license information.\r\n * -------------------------------------------------------------------------------------------\r\n */\r\n/**\r\n * @module GraphError\r\n */\r\n/**\r\n * @class\r\n * Class for GraphError\r\n * @NOTE: This is NOT what is returned from the Graph\r\n * GraphError is created from parsing JSON errors returned from the graph\r\n * Some fields are renamed ie, \"request-id\" => requestId so you can use dot notation\r\n */\r\nexport class GraphError {\r\n    /**\r\n     * @public\r\n     * @constructor\r\n     * Creates an instance of GraphError\r\n     * @param {number} [statusCode = -1] - The status code of the error\r\n     * @returns An instance of GraphError\r\n     */\r\n    constructor(statusCode = -1) {\r\n        this.statusCode = statusCode;\r\n        this.code = null;\r\n        this.message = null;\r\n        this.requestId = null;\r\n        this.date = new Date();\r\n        this.body = null;\r\n    }\r\n}\r\n//# sourceMappingURL=GraphError.js.map","/**\r\n * -------------------------------------------------------------------------------------------\r\n * Copyright (c) Microsoft Corporation.  All Rights Reserved.  Licensed under the MIT License.\r\n * See License in the project root for license information.\r\n * -------------------------------------------------------------------------------------------\r\n */\r\nimport * as tslib_1 from \"tslib\";\r\n/**\r\n * @module GraphErrorHandler\r\n */\r\nimport { GraphError } from \"./GraphError\";\r\n/**\r\n * @class\r\n * Class for GraphErrorHandler\r\n */\r\nexport class GraphErrorHandler {\r\n    /**\r\n     * @private\r\n     * @static\r\n     * Populates the GraphError instance with Error instance values\r\n     * @param {Error} error - The error returned by graph service or some native error\r\n     * @param {number} [statusCode] - The status code of the response\r\n     * @returns The GraphError instance\r\n     */\r\n    static constructError(error, statusCode) {\r\n        const gError = new GraphError(statusCode);\r\n        if (error.name !== undefined) {\r\n            gError.code = error.name;\r\n        }\r\n        gError.body = error.toString();\r\n        gError.message = error.message;\r\n        gError.date = new Date();\r\n        return gError;\r\n    }\r\n    /**\r\n     * @private\r\n     * @static\r\n     * @async\r\n     * Populates the GraphError instance from the Error returned by graph service\r\n     * @param {any} error - The error returned by graph service or some native error\r\n     * @param {number} statusCode - The status code of the response\r\n     * @returns A promise that resolves to GraphError instance\r\n     *\r\n     * Example error for https://graph.microsoft.com/v1.0/me/events?$top=3&$search=foo\r\n     * {\r\n     *      \"error\": {\r\n     *          \"code\": \"SearchEvents\",\r\n     *          \"message\": \"The parameter $search is not currently supported on the Events resource.\",\r\n     *          \"innerError\": {\r\n     *              \"request-id\": \"b31c83fd-944c-4663-aa50-5d9ceb367e19\",\r\n     *              \"date\": \"2016-11-17T18:37:45\"\r\n     *          }\r\n     *      }\r\n     *  }\r\n     */\r\n    static constructErrorFromResponse(error, statusCode) {\r\n        error = error.error;\r\n        const gError = new GraphError(statusCode);\r\n        gError.code = error.code;\r\n        gError.message = error.message;\r\n        if (error.innerError !== undefined) {\r\n            gError.requestId = error.innerError[\"request-id\"];\r\n            gError.date = new Date(error.innerError.date);\r\n        }\r\n        try {\r\n            gError.body = JSON.stringify(error);\r\n        }\r\n        catch (error) {\r\n            // tslint:disable-line: no-empty\r\n        }\r\n        return gError;\r\n    }\r\n    /**\r\n     * @public\r\n     * @static\r\n     * @async\r\n     * To get the GraphError object\r\n     * @param {any} [error = null] - The error returned by graph service or some native error\r\n     * @param {number} [statusCode = -1] - The status code of the response\r\n     * @param {GraphRequestCallback} [callback] - The graph request callback function\r\n     * @returns A promise that resolves to GraphError instance\r\n     */\r\n    static getError(error = null, statusCode = -1, callback) {\r\n        return tslib_1.__awaiter(this, void 0, void 0, function* () {\r\n            let gError;\r\n            if (error && error.error) {\r\n                gError = GraphErrorHandler.constructErrorFromResponse(error, statusCode);\r\n            }\r\n            else if (typeof Error !== \"undefined\" && error instanceof Error) {\r\n                gError = GraphErrorHandler.constructError(error, statusCode);\r\n            }\r\n            else {\r\n                gError = new GraphError(statusCode);\r\n            }\r\n            if (typeof callback === \"function\") {\r\n                callback(gError, null);\r\n            }\r\n            else {\r\n                return gError;\r\n            }\r\n        });\r\n    }\r\n}\r\n//# sourceMappingURL=GraphErrorHandler.js.map","/**\r\n * -------------------------------------------------------------------------------------------\r\n * Copyright (c) Microsoft Corporation.  All Rights Reserved.  Licensed under the MIT License.\r\n * See License in the project root for license information.\r\n * -------------------------------------------------------------------------------------------\r\n */\r\n/**\r\n * @enum\r\n * Enum for ResponseType values\r\n * @property {string} ARRAYBUFFER - To download response content as an [ArrayBuffer]{@link https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/ArrayBuffer}\r\n * @property {string} BLOB - To download content as a [binary/blob] {@link https://developer.mozilla.org/en-US/docs/Web/API/Blob}\r\n * @property {string} DOCUMENT - This downloads content as a document or stream\r\n * @property {string} JSON - To download response content as a json\r\n * @property {string} STREAM - To download response as a [stream]{@link https://nodejs.org/api/stream.html}\r\n * @property {string} TEXT - For downloading response as a text\r\n */\r\nexport var ResponseType;\r\n(function (ResponseType) {\r\n    ResponseType[\"ARRAYBUFFER\"] = \"arraybuffer\";\r\n    ResponseType[\"BLOB\"] = \"blob\";\r\n    ResponseType[\"DOCUMENT\"] = \"document\";\r\n    ResponseType[\"JSON\"] = \"json\";\r\n    ResponseType[\"RAW\"] = \"raw\";\r\n    ResponseType[\"STREAM\"] = \"stream\";\r\n    ResponseType[\"TEXT\"] = \"text\";\r\n})(ResponseType || (ResponseType = {}));\r\n//# sourceMappingURL=ResponseType.js.map","/**\r\n * -------------------------------------------------------------------------------------------\r\n * Copyright (c) Microsoft Corporation.  All Rights Reserved.  Licensed under the MIT License.\r\n * See License in the project root for license information.\r\n * -------------------------------------------------------------------------------------------\r\n */\r\nimport * as tslib_1 from \"tslib\";\r\nimport { ResponseType } from \"./ResponseType\";\r\n/**\r\n * @enum\r\n * Enum for document types\r\n * @property {string} TEXT_HTML - The text/html content type\r\n * @property {string} TEXT_XML - The text/xml content type\r\n * @property {string} APPLICATION_XML - The application/xml content type\r\n * @property {string} APPLICATION_XHTML - The application/xhml+xml content type\r\n */\r\nexport var DocumentType;\r\n(function (DocumentType) {\r\n    DocumentType[\"TEXT_HTML\"] = \"text/html\";\r\n    DocumentType[\"TEXT_XML\"] = \"text/xml\";\r\n    DocumentType[\"APPLICATION_XML\"] = \"application/xml\";\r\n    DocumentType[\"APPLICATION_XHTML\"] = \"application/xhtml+xml\";\r\n})(DocumentType || (DocumentType = {}));\r\n/**\r\n * @enum\r\n * Enum for Content types\r\n * @property {string} TEXT_PLAIN - The text/plain content type\r\n * @property {string} APPLICATION_JSON - The application/json content type\r\n */\r\nvar ContentType;\r\n(function (ContentType) {\r\n    ContentType[\"TEXT_PLAIN\"] = \"text/plain\";\r\n    ContentType[\"APPLICATION_JSON\"] = \"application/json\";\r\n})(ContentType || (ContentType = {}));\r\n/**\r\n * @enum\r\n * Enum for Content type regex\r\n * @property {string} DOCUMENT - The regex to match document content types\r\n * @property {string} IMAGE - The regex to match image content types\r\n */\r\nvar ContentTypeRegexStr;\r\n(function (ContentTypeRegexStr) {\r\n    ContentTypeRegexStr[\"DOCUMENT\"] = \"^(text\\\\/(html|xml))|(application\\\\/(xml|xhtml\\\\+xml))$\";\r\n    ContentTypeRegexStr[\"IMAGE\"] = \"^image\\\\/.+\";\r\n})(ContentTypeRegexStr || (ContentTypeRegexStr = {}));\r\n/**\r\n * @class\r\n * Class for GraphResponseHandler\r\n */\r\nexport class GraphResponseHandler {\r\n    /**\r\n     * @private\r\n     * @static\r\n     * To parse Document response\r\n     * @param {Response} rawResponse - The response object\r\n     * @param {DocumentType} type - The type to which the document needs to be parsed\r\n     * @returns A promise that resolves to a document content\r\n     */\r\n    static parseDocumentResponse(rawResponse, type) {\r\n        try {\r\n            if (typeof DOMParser !== \"undefined\") {\r\n                return new Promise((resolve, reject) => {\r\n                    rawResponse.text().then((xmlString) => {\r\n                        try {\r\n                            const parser = new DOMParser();\r\n                            const xmlDoc = parser.parseFromString(xmlString, type);\r\n                            resolve(xmlDoc);\r\n                        }\r\n                        catch (error) {\r\n                            reject(error);\r\n                        }\r\n                    });\r\n                });\r\n            }\r\n            else {\r\n                return Promise.resolve(rawResponse.body);\r\n            }\r\n        }\r\n        catch (error) {\r\n            throw error;\r\n        }\r\n    }\r\n    /**\r\n     * @private\r\n     * @static\r\n     * @async\r\n     * To convert the native Response to response content\r\n     * @param {Response} rawResponse - The response object\r\n     * @param {ResponseType} [responseType] - The response type value\r\n     * @returns A promise that resolves to the converted response content\r\n     */\r\n    static convertResponse(rawResponse, responseType) {\r\n        return tslib_1.__awaiter(this, void 0, void 0, function* () {\r\n            if (rawResponse.status === 204) {\r\n                // NO CONTENT\r\n                return Promise.resolve();\r\n            }\r\n            let responseValue;\r\n            try {\r\n                switch (responseType) {\r\n                    case ResponseType.ARRAYBUFFER:\r\n                        responseValue = yield rawResponse.arrayBuffer();\r\n                        break;\r\n                    case ResponseType.BLOB:\r\n                        responseValue = yield rawResponse.blob();\r\n                        break;\r\n                    case ResponseType.DOCUMENT:\r\n                        responseValue = yield GraphResponseHandler.parseDocumentResponse(rawResponse, DocumentType.TEXT_XML);\r\n                        break;\r\n                    case ResponseType.JSON:\r\n                        responseValue = yield rawResponse.json();\r\n                        break;\r\n                    case ResponseType.STREAM:\r\n                        responseValue = yield Promise.resolve(rawResponse.body);\r\n                        break;\r\n                    case ResponseType.TEXT:\r\n                        responseValue = yield rawResponse.text();\r\n                        break;\r\n                    default:\r\n                        const contentType = rawResponse.headers.get(\"Content-type\");\r\n                        if (contentType !== null) {\r\n                            const mimeType = contentType.split(\";\")[0];\r\n                            if (new RegExp(ContentTypeRegexStr.DOCUMENT).test(mimeType)) {\r\n                                responseValue = yield GraphResponseHandler.parseDocumentResponse(rawResponse, mimeType);\r\n                            }\r\n                            else if (new RegExp(ContentTypeRegexStr.IMAGE).test(mimeType)) {\r\n                                responseValue = rawResponse.blob();\r\n                            }\r\n                            else if (mimeType === ContentType.TEXT_PLAIN) {\r\n                                responseValue = yield rawResponse.text();\r\n                            }\r\n                            else if (mimeType === ContentType.APPLICATION_JSON) {\r\n                                responseValue = yield rawResponse.json();\r\n                            }\r\n                            else {\r\n                                responseValue = Promise.resolve(rawResponse.body);\r\n                            }\r\n                        }\r\n                        else {\r\n                            /**\r\n                             * RFC specification {@link https://tools.ietf.org/html/rfc7231#section-3.1.1.5} says:\r\n                             *  A sender that generates a message containing a payload body SHOULD\r\n                             *  generate a Content-Type header field in that message unless the\r\n                             *  intended media type of the enclosed representation is unknown to the\r\n                             *  sender.  If a Content-Type header field is not present, the recipient\r\n                             *  MAY either assume a media type of \"application/octet-stream\"\r\n                             *  ([RFC2046], Section 4.5.1) or examine the data to determine its type.\r\n                             *\r\n                             *  So assuming it as a stream type so returning the body.\r\n                             */\r\n                            responseValue = Promise.resolve(rawResponse.body);\r\n                        }\r\n                        break;\r\n                }\r\n            }\r\n            catch (error) {\r\n                throw error;\r\n            }\r\n            return responseValue;\r\n        });\r\n    }\r\n    /**\r\n     * @public\r\n     * @static\r\n     * @async\r\n     * To get the parsed response\r\n     * @param {Response} rawResponse - The response object\r\n     * @param {ResponseType} [responseType] - The response type value\r\n     * @param {GraphRequestCallback} [callback] - The graph request callback function\r\n     * @returns The parsed response\r\n     */\r\n    static getResponse(rawResponse, responseType, callback) {\r\n        return tslib_1.__awaiter(this, void 0, void 0, function* () {\r\n            try {\r\n                if (responseType === ResponseType.RAW) {\r\n                    return Promise.resolve(rawResponse);\r\n                }\r\n                else {\r\n                    const response = yield GraphResponseHandler.convertResponse(rawResponse, responseType);\r\n                    if (rawResponse.ok) {\r\n                        // Status Code 2XX\r\n                        if (typeof callback === \"function\") {\r\n                            callback(null, response);\r\n                        }\r\n                        else {\r\n                            return response;\r\n                        }\r\n                    }\r\n                    else {\r\n                        // NOT OK Response\r\n                        throw response;\r\n                    }\r\n                }\r\n            }\r\n            catch (error) {\r\n                throw error;\r\n            }\r\n        });\r\n    }\r\n}\r\n//# sourceMappingURL=GraphResponseHandler.js.map","/**\r\n * -------------------------------------------------------------------------------------------\r\n * Copyright (c) Microsoft Corporation.  All Rights Reserved.  Licensed under the MIT License.\r\n * See License in the project root for license information.\r\n * -------------------------------------------------------------------------------------------\r\n */\r\nimport * as tslib_1 from \"tslib\";\r\nimport { GraphErrorHandler } from \"./GraphErrorHandler\";\r\nimport { oDataQueryNames, serializeContent, urlJoin } from \"./GraphRequestUtil\";\r\nimport { GraphResponseHandler } from \"./GraphResponseHandler\";\r\nimport { MiddlewareControl } from \"./middleware/MiddlewareControl\";\r\nimport { RequestMethod } from \"./RequestMethod\";\r\nimport { ResponseType } from \"./ResponseType\";\r\n/**\r\n * @class\r\n * A Class representing GraphRequest\r\n */\r\nexport class GraphRequest {\r\n    /* tslint:enable: variable-name */\r\n    /**\r\n     * @public\r\n     * @constructor\r\n     * Creates an instance of GraphRequest\r\n     * @param {HTTPClient} httpClient - The HTTPClient instance\r\n     * @param {ClientOptions} config - The options for making request\r\n     * @param {string} path - A path string\r\n     */\r\n    constructor(httpClient, config, path) {\r\n        /**\r\n         * @private\r\n         * Parses the path string and creates URLComponents out of it\r\n         * @param {string} path - The request path string\r\n         * @returns Nothing\r\n         */\r\n        this.parsePath = (path) => {\r\n            // Strips out the base of the url if they passed in\r\n            if (path.indexOf(\"https://\") !== -1) {\r\n                path = path.replace(\"https://\", \"\");\r\n                // Find where the host ends\r\n                const endOfHostStrPos = path.indexOf(\"/\");\r\n                if (endOfHostStrPos !== -1) {\r\n                    // Parse out the host\r\n                    this.urlComponents.host = \"https://\" + path.substring(0, endOfHostStrPos);\r\n                    // Strip the host from path\r\n                    path = path.substring(endOfHostStrPos + 1, path.length);\r\n                }\r\n                // Remove the following version\r\n                const endOfVersionStrPos = path.indexOf(\"/\");\r\n                if (endOfVersionStrPos !== -1) {\r\n                    // Parse out the version\r\n                    this.urlComponents.version = path.substring(0, endOfVersionStrPos);\r\n                    // Strip version from path\r\n                    path = path.substring(endOfVersionStrPos + 1, path.length);\r\n                }\r\n            }\r\n            // Strip out any leading \"/\"\r\n            if (path.charAt(0) === \"/\") {\r\n                path = path.substr(1);\r\n            }\r\n            const queryStrPos = path.indexOf(\"?\");\r\n            if (queryStrPos === -1) {\r\n                // No query string\r\n                this.urlComponents.path = path;\r\n            }\r\n            else {\r\n                this.urlComponents.path = path.substr(0, queryStrPos);\r\n                // Capture query string into oDataQueryParams and otherURLQueryParams\r\n                const queryParams = path.substring(queryStrPos + 1, path.length).split(\"&\");\r\n                for (const queryParam of queryParams) {\r\n                    const qParams = queryParam.split(\"=\");\r\n                    const key = qParams[0];\r\n                    const value = qParams[1];\r\n                    if (oDataQueryNames.indexOf(key) !== -1) {\r\n                        this.urlComponents.oDataQueryParams[key] = value;\r\n                    }\r\n                    else {\r\n                        this.urlComponents.otherURLQueryParams[key] = value;\r\n                    }\r\n                }\r\n            }\r\n        };\r\n        this.httpClient = httpClient;\r\n        this.config = config;\r\n        this.urlComponents = {\r\n            host: this.config.baseUrl,\r\n            version: this.config.defaultVersion,\r\n            oDataQueryParams: {},\r\n            otherURLQueryParams: {},\r\n        };\r\n        this._headers = {};\r\n        this._options = {};\r\n        this._middlewareOptions = [];\r\n        this.parsePath(path);\r\n    }\r\n    /**\r\n     * @private\r\n     * Adds the query parameter as comma separated values\r\n     * @param {string} propertyName - The name of a property\r\n     * @param {string|string[]} propertyValue - The vale of a property\r\n     * @param {IArguments} additionalProperties - The additional properties\r\n     * @returns Nothing\r\n     */\r\n    addCsvQueryParameter(propertyName, propertyValue, additionalProperties) {\r\n        // If there are already $propertyName value there, append a \",\"\r\n        this.urlComponents.oDataQueryParams[propertyName] = this.urlComponents.oDataQueryParams[propertyName] ? this.urlComponents.oDataQueryParams[propertyName] + \",\" : \"\";\r\n        let allValues = [];\r\n        if (additionalProperties.length > 1 && typeof propertyValue === \"string\") {\r\n            allValues = Array.prototype.slice.call(additionalProperties);\r\n        }\r\n        else if (typeof propertyValue === \"string\") {\r\n            allValues.push(propertyValue);\r\n        }\r\n        else {\r\n            allValues = allValues.concat(propertyValue);\r\n        }\r\n        this.urlComponents.oDataQueryParams[propertyName] += allValues.join(\",\");\r\n    }\r\n    /**\r\n     * @private\r\n     * Builds the full url from the URLComponents to make a request\r\n     * @returns The URL string that is qualified to make a request to graph endpoint\r\n     */\r\n    buildFullUrl() {\r\n        const url = urlJoin([this.urlComponents.host, this.urlComponents.version, this.urlComponents.path]) + this.createQueryString();\r\n        if (this.config.debugLogging) {\r\n            console.log(url); // tslint:disable-line: no-console\r\n        }\r\n        return url;\r\n    }\r\n    /**\r\n     * @private\r\n     * Builds the query string from the URLComponents\r\n     * @returns The Constructed query string\r\n     */\r\n    createQueryString() {\r\n        // Combining query params from oDataQueryParams and otherURLQueryParams\r\n        const urlComponents = this.urlComponents;\r\n        const query = [];\r\n        if (Object.keys(urlComponents.oDataQueryParams).length !== 0) {\r\n            for (const property in urlComponents.oDataQueryParams) {\r\n                if (urlComponents.oDataQueryParams.hasOwnProperty(property)) {\r\n                    query.push(property + \"=\" + urlComponents.oDataQueryParams[property]);\r\n                }\r\n            }\r\n        }\r\n        if (Object.keys(urlComponents.otherURLQueryParams).length !== 0) {\r\n            for (const property in urlComponents.otherURLQueryParams) {\r\n                if (urlComponents.otherURLQueryParams.hasOwnProperty(property)) {\r\n                    query.push(property + \"=\" + urlComponents.otherURLQueryParams[property]);\r\n                }\r\n            }\r\n        }\r\n        return query.length > 0 ? \"?\" + query.join(\"&\") : \"\";\r\n    }\r\n    /**\r\n     * @private\r\n     * Updates the custom headers and options for a request\r\n     * @param {FetchOptions} options - The request options object\r\n     * @returns Nothing\r\n     */\r\n    updateRequestOptions(options) {\r\n        const optionsHeaders = Object.assign({}, options.headers);\r\n        if (this.config.fetchOptions !== undefined) {\r\n            const fetchOptions = Object.assign({}, this.config.fetchOptions);\r\n            Object.assign(options, fetchOptions);\r\n            if (typeof this.config.fetchOptions.headers !== undefined) {\r\n                options.headers = Object.assign({}, this.config.fetchOptions.headers);\r\n            }\r\n        }\r\n        Object.assign(options, this._options);\r\n        if (options.headers !== undefined) {\r\n            Object.assign(optionsHeaders, options.headers);\r\n        }\r\n        Object.assign(optionsHeaders, this._headers);\r\n        options.headers = optionsHeaders;\r\n    }\r\n    /**\r\n     * @private\r\n     * @async\r\n     * Adds the custom headers and options to the request and makes the HTTPClient send request call\r\n     * @param {RequestInfo} request - The request url string or the Request object value\r\n     * @param {FetchOptions} options - The options to make a request\r\n     * @param {GraphRequestCallback} [callback] - The callback function to be called in response with async call\r\n     * @returns A promise that resolves to the response content\r\n     */\r\n    send(request, options, callback) {\r\n        return tslib_1.__awaiter(this, void 0, void 0, function* () {\r\n            let rawResponse;\r\n            const middlewareControl = new MiddlewareControl(this._middlewareOptions);\r\n            this.updateRequestOptions(options);\r\n            try {\r\n                const context = yield this.httpClient.sendRequest({\r\n                    request,\r\n                    options,\r\n                    middlewareControl,\r\n                });\r\n                rawResponse = context.response;\r\n                const response = yield GraphResponseHandler.getResponse(rawResponse, this._responseType, callback);\r\n                return response;\r\n            }\r\n            catch (error) {\r\n                let statusCode;\r\n                if (typeof rawResponse !== \"undefined\") {\r\n                    statusCode = rawResponse.status;\r\n                }\r\n                const gError = yield GraphErrorHandler.getError(error, statusCode, callback);\r\n                throw gError;\r\n            }\r\n        });\r\n    }\r\n    /**\r\n     * @public\r\n     * Sets the custom header for a request\r\n     * @param {string} headerKey - A header key\r\n     * @param {string} headerValue - A header value\r\n     * @returns The same GraphRequest instance that is being called with\r\n     */\r\n    header(headerKey, headerValue) {\r\n        this._headers[headerKey] = headerValue;\r\n        return this;\r\n    }\r\n    /**\r\n     * @public\r\n     * Sets the custom headers for a request\r\n     * @param {KeyValuePairObjectStringNumber} headers - The headers key value pair object\r\n     * @returns The same GraphRequest instance that is being called with\r\n     */\r\n    headers(headers) {\r\n        for (const key in headers) {\r\n            if (headers.hasOwnProperty(key)) {\r\n                this._headers[key] = headers[key];\r\n            }\r\n        }\r\n        return this;\r\n    }\r\n    /**\r\n     * @public\r\n     * Sets the option for making a request\r\n     * @param {string} key - The key value\r\n     * @param {any} value - The value\r\n     * @returns The same GraphRequest instance that is being called with\r\n     */\r\n    option(key, value) {\r\n        this._options[key] = value;\r\n        return this;\r\n    }\r\n    /**\r\n     * @public\r\n     * Sets the options for making a request\r\n     * @param {{ [key: string]: any }} options - The options key value pair\r\n     * @returns The same GraphRequest instance that is being called with\r\n     */\r\n    options(options) {\r\n        for (const key in options) {\r\n            if (options.hasOwnProperty(key)) {\r\n                this._options[key] = options[key];\r\n            }\r\n        }\r\n        return this;\r\n    }\r\n    /**\r\n     * @public\r\n     * Sets the middleware options for a request\r\n     * @param {MiddlewareOptions[]} options - The array of middleware options\r\n     * @returns The same GraphRequest instance that is being called with\r\n     */\r\n    middlewareOptions(options) {\r\n        this._middlewareOptions = options;\r\n        return this;\r\n    }\r\n    /**\r\n     * @public\r\n     * Sets the api endpoint version for a request\r\n     * @param {string} version - The version value\r\n     * @returns The same GraphRequest instance that is being called with\r\n     */\r\n    version(version) {\r\n        this.urlComponents.version = version;\r\n        return this;\r\n    }\r\n    /**\r\n     * @public\r\n     * Sets the api endpoint version for a request\r\n     * @param {ResponseType} responseType - The response type value\r\n     * @returns The same GraphRequest instance that is being called with\r\n     */\r\n    responseType(responseType) {\r\n        this._responseType = responseType;\r\n        return this;\r\n    }\r\n    /**\r\n     * @public\r\n     * To add properties for select OData Query param\r\n     * @param {string|string[]} properties - The Properties value\r\n     * @returns The same GraphRequest instance that is being called with\r\n     */\r\n    /*\r\n     * Accepts .select(\"displayName,birthday\")\r\n     *     and .select([\"displayName\", \"birthday\"])\r\n     *     and .select(\"displayName\", \"birthday\")\r\n     *\r\n     */\r\n    select(properties) {\r\n        this.addCsvQueryParameter(\"$select\", properties, arguments);\r\n        return this;\r\n    }\r\n    /**\r\n     * @public\r\n     * To add properties for expand OData Query param\r\n     * @param {string|string[]} properties - The Properties value\r\n     * @returns The same GraphRequest instance that is being called with\r\n     */\r\n    expand(properties) {\r\n        this.addCsvQueryParameter(\"$expand\", properties, arguments);\r\n        return this;\r\n    }\r\n    /**\r\n     * @public\r\n     * To add properties for orderby OData Query param\r\n     * @param {string|string[]} properties - The Properties value\r\n     * @returns The same GraphRequest instance that is being called with\r\n     */\r\n    orderby(properties) {\r\n        this.addCsvQueryParameter(\"$orderby\", properties, arguments);\r\n        return this;\r\n    }\r\n    /**\r\n     * @public\r\n     * To add query string for filter OData Query param\r\n     * @param {string} filterStr - The filter query string\r\n     * @returns The same GraphRequest instance that is being called with\r\n     */\r\n    filter(filterStr) {\r\n        this.urlComponents.oDataQueryParams.$filter = filterStr;\r\n        return this;\r\n    }\r\n    /**\r\n     * @public\r\n     * To add criterion for search OData Query param\r\n     * @param {string} searchStr - The search criterion string\r\n     * @returns The same GraphRequest instance that is being called with\r\n     */\r\n    search(searchStr) {\r\n        this.urlComponents.oDataQueryParams.$search = searchStr;\r\n        return this;\r\n    }\r\n    /**\r\n     * @public\r\n     * To add number for top OData Query param\r\n     * @param {number} n - The number value\r\n     * @returns The same GraphRequest instance that is being called with\r\n     */\r\n    top(n) {\r\n        this.urlComponents.oDataQueryParams.$top = n;\r\n        return this;\r\n    }\r\n    /**\r\n     * @public\r\n     * To add number for skip OData Query param\r\n     * @param {number} n - The number value\r\n     * @returns The same GraphRequest instance that is being called with\r\n     */\r\n    skip(n) {\r\n        this.urlComponents.oDataQueryParams.$skip = n;\r\n        return this;\r\n    }\r\n    /**\r\n     * @public\r\n     * To add token string for skipToken OData Query param\r\n     * @param {string} token - The token value\r\n     * @returns The same GraphRequest instance that is being called with\r\n     */\r\n    skipToken(token) {\r\n        this.urlComponents.oDataQueryParams.$skipToken = token;\r\n        return this;\r\n    }\r\n    /**\r\n     * @public\r\n     * To add boolean for count OData Query param\r\n     * @param {boolean} isCount - The count boolean\r\n     * @returns The same GraphRequest instance that is being called with\r\n     */\r\n    count(isCount) {\r\n        this.urlComponents.oDataQueryParams.$count = isCount.toString();\r\n        return this;\r\n    }\r\n    /**\r\n     * @public\r\n     * Appends query string to the urlComponent\r\n     * @param {string|KeyValuePairObjectStringNumber} queryDictionaryOrString - The query value\r\n     * @returns The same GraphRequest instance that is being called with\r\n     */\r\n    query(queryDictionaryOrString) {\r\n        const otherURLQueryParams = this.urlComponents.otherURLQueryParams;\r\n        if (typeof queryDictionaryOrString === \"string\") {\r\n            const querySplit = queryDictionaryOrString.split(\"=\");\r\n            const queryKey = querySplit[0];\r\n            const queryValue = querySplit[1];\r\n            otherURLQueryParams[queryKey] = queryValue;\r\n        }\r\n        else {\r\n            for (const key in queryDictionaryOrString) {\r\n                if (queryDictionaryOrString.hasOwnProperty(key)) {\r\n                    otherURLQueryParams[key] = queryDictionaryOrString[key];\r\n                }\r\n            }\r\n        }\r\n        return this;\r\n    }\r\n    /**\r\n     * @public\r\n     * @async\r\n     * Makes a http request with GET method\r\n     * @param {GraphRequestCallback} [callback] - The callback function to be called in response with async call\r\n     * @returns A promise that resolves to the get response\r\n     */\r\n    get(callback) {\r\n        return tslib_1.__awaiter(this, void 0, void 0, function* () {\r\n            const url = this.buildFullUrl();\r\n            const options = {\r\n                method: RequestMethod.GET,\r\n            };\r\n            try {\r\n                const response = yield this.send(url, options, callback);\r\n                return response;\r\n            }\r\n            catch (error) {\r\n                throw error;\r\n            }\r\n        });\r\n    }\r\n    /**\r\n     * @public\r\n     * @async\r\n     * Makes a http request with POST method\r\n     * @param {any} content - The content that needs to be sent with the request\r\n     * @param {GraphRequestCallback} [callback] - The callback function to be called in response with async call\r\n     * @returns A promise that resolves to the post response\r\n     */\r\n    post(content, callback) {\r\n        return tslib_1.__awaiter(this, void 0, void 0, function* () {\r\n            const url = this.buildFullUrl();\r\n            const options = {\r\n                method: RequestMethod.POST,\r\n                body: serializeContent(content),\r\n                headers: typeof FormData !== \"undefined\" && content instanceof FormData\r\n                    ? {}\r\n                    : {\r\n                        \"Content-Type\": \"application/json\",\r\n                    },\r\n            };\r\n            try {\r\n                const response = yield this.send(url, options, callback);\r\n                return response;\r\n            }\r\n            catch (error) {\r\n                throw error;\r\n            }\r\n        });\r\n    }\r\n    /**\r\n     * @public\r\n     * @async\r\n     * Alias for Post request call\r\n     * @param {any} content - The content that needs to be sent with the request\r\n     * @param {GraphRequestCallback} [callback] - The callback function to be called in response with async call\r\n     * @returns A promise that resolves to the post response\r\n     */\r\n    create(content, callback) {\r\n        return tslib_1.__awaiter(this, void 0, void 0, function* () {\r\n            try {\r\n                return yield this.post(content, callback);\r\n            }\r\n            catch (error) {\r\n                throw error;\r\n            }\r\n        });\r\n    }\r\n    /**\r\n     * @public\r\n     * @async\r\n     * Makes http request with PUT method\r\n     * @param {any} content - The content that needs to be sent with the request\r\n     * @param {GraphRequestCallback} [callback] - The callback function to be called in response with async call\r\n     * @returns A promise that resolves to the put response\r\n     */\r\n    put(content, callback) {\r\n        return tslib_1.__awaiter(this, void 0, void 0, function* () {\r\n            const url = this.buildFullUrl();\r\n            const options = {\r\n                method: RequestMethod.PUT,\r\n                body: serializeContent(content),\r\n                headers: {\r\n                    \"Content-Type\": \"application/json\",\r\n                },\r\n            };\r\n            try {\r\n                const response = yield this.send(url, options, callback);\r\n                return response;\r\n            }\r\n            catch (error) {\r\n                throw error;\r\n            }\r\n        });\r\n    }\r\n    /**\r\n     * @public\r\n     * @async\r\n     * Makes http request with PATCH method\r\n     * @param {any} content - The content that needs to be sent with the request\r\n     * @param {GraphRequestCallback} [callback] - The callback function to be called in response with async call\r\n     * @returns A promise that resolves to the patch response\r\n     */\r\n    patch(content, callback) {\r\n        return tslib_1.__awaiter(this, void 0, void 0, function* () {\r\n            const url = this.buildFullUrl();\r\n            const options = {\r\n                method: RequestMethod.PATCH,\r\n                body: serializeContent(content),\r\n                headers: {\r\n                    \"Content-Type\": \"application/json\",\r\n                },\r\n            };\r\n            try {\r\n                const response = yield this.send(url, options, callback);\r\n                return response;\r\n            }\r\n            catch (error) {\r\n                throw error;\r\n            }\r\n        });\r\n    }\r\n    /**\r\n     * @public\r\n     * @async\r\n     * Alias for PATCH request\r\n     * @param {any} content - The content that needs to be sent with the request\r\n     * @param {GraphRequestCallback} [callback] - The callback function to be called in response with async call\r\n     * @returns A promise that resolves to the patch response\r\n     */\r\n    update(content, callback) {\r\n        return tslib_1.__awaiter(this, void 0, void 0, function* () {\r\n            try {\r\n                return yield this.patch(content, callback);\r\n            }\r\n            catch (error) {\r\n                throw error;\r\n            }\r\n        });\r\n    }\r\n    /**\r\n     * @public\r\n     * @async\r\n     * Makes http request with DELETE method\r\n     * @param {GraphRequestCallback} [callback] - The callback function to be called in response with async call\r\n     * @returns A promise that resolves to the delete response\r\n     */\r\n    delete(callback) {\r\n        return tslib_1.__awaiter(this, void 0, void 0, function* () {\r\n            const url = this.buildFullUrl();\r\n            const options = {\r\n                method: RequestMethod.DELETE,\r\n            };\r\n            try {\r\n                const response = yield this.send(url, options, callback);\r\n                return response;\r\n            }\r\n            catch (error) {\r\n                throw error;\r\n            }\r\n        });\r\n    }\r\n    /**\r\n     * @public\r\n     * @async\r\n     * Alias for delete request call\r\n     * @param {GraphRequestCallback} [callback] - The callback function to be called in response with async call\r\n     * @returns A promise that resolves to the delete response\r\n     */\r\n    del(callback) {\r\n        return tslib_1.__awaiter(this, void 0, void 0, function* () {\r\n            try {\r\n                return yield this.delete(callback);\r\n            }\r\n            catch (error) {\r\n                throw error;\r\n            }\r\n        });\r\n    }\r\n    /**\r\n     * @public\r\n     * @async\r\n     * Makes a http request with GET method to read response as a stream.\r\n     * @param {GraphRequestCallback} [callback] - The callback function to be called in response with async call\r\n     * @returns A promise that resolves to the getStream response\r\n     */\r\n    getStream(callback) {\r\n        return tslib_1.__awaiter(this, void 0, void 0, function* () {\r\n            const url = this.buildFullUrl();\r\n            const options = {\r\n                method: RequestMethod.GET,\r\n            };\r\n            this.responseType(ResponseType.STREAM);\r\n            try {\r\n                const stream = yield this.send(url, options, callback);\r\n                return stream;\r\n            }\r\n            catch (error) {\r\n                throw error;\r\n            }\r\n        });\r\n    }\r\n    /**\r\n     * @public\r\n     * @async\r\n     * Makes a http request with GET method to read response as a stream.\r\n     * @param {any} stream - The stream instance\r\n     * @param {GraphRequestCallback} [callback] - The callback function to be called in response with async call\r\n     * @returns A promise that resolves to the putStream response\r\n     */\r\n    putStream(stream, callback) {\r\n        return tslib_1.__awaiter(this, void 0, void 0, function* () {\r\n            const url = this.buildFullUrl();\r\n            const options = {\r\n                method: RequestMethod.PUT,\r\n                headers: {\r\n                    \"Content-Type\": \"application/octet-stream\",\r\n                },\r\n                body: stream,\r\n            };\r\n            try {\r\n                const response = yield this.send(url, options, callback);\r\n                return response;\r\n            }\r\n            catch (error) {\r\n                throw error;\r\n            }\r\n        });\r\n    }\r\n}\r\n//# sourceMappingURL=GraphRequest.js.map","/**\r\n * -------------------------------------------------------------------------------------------\r\n * Copyright (c) Microsoft Corporation.  All Rights Reserved.  Licensed under the MIT License.\r\n * See License in the project root for license information.\r\n * -------------------------------------------------------------------------------------------\r\n */\r\nimport * as tslib_1 from \"tslib\";\r\n/**\r\n * @class\r\n * Class representing HTTPClient\r\n */\r\nexport class HTTPClient {\r\n    /**\r\n     * @public\r\n     * @constructor\r\n     * Creates an instance of a HTTPClient\r\n     * @param {Middleware} middleware - The first middleware of the middleware chain\r\n     */\r\n    constructor(middleware) {\r\n        this.middleware = middleware;\r\n    }\r\n    /**\r\n     * @public\r\n     * @async\r\n     * To send the request through the middleware chain\r\n     * @param {Context} context - The context of a request\r\n     * @returns A promise that resolves to the Context\r\n     */\r\n    sendRequest(context) {\r\n        return tslib_1.__awaiter(this, void 0, void 0, function* () {\r\n            try {\r\n                if (typeof context.request === \"string\" && context.options === undefined) {\r\n                    const error = new Error();\r\n                    error.name = \"InvalidRequestOptions\";\r\n                    error.message = \"Unable to execute the middleware, Please provide valid options for a request\";\r\n                    throw error;\r\n                }\r\n                yield this.middleware.execute(context);\r\n                return context;\r\n            }\r\n            catch (error) {\r\n                throw error;\r\n            }\r\n        });\r\n    }\r\n}\r\n//# sourceMappingURL=HTTPClient.js.map","/**\r\n * -------------------------------------------------------------------------------------------\r\n * Copyright (c) Microsoft Corporation.  All Rights Reserved.  Licensed under the MIT License.\r\n * See License in the project root for license information.\r\n * -------------------------------------------------------------------------------------------\r\n */\r\n/**\r\n * @module HTTPClientFactory\r\n */\r\nimport { HTTPClient } from \"./HTTPClient\";\r\nimport { AuthenticationHandler } from \"./middleware/AuthenticationHandler\";\r\nimport { HTTPMessageHandler } from \"./middleware/HTTPMessageHandler\";\r\nimport { RedirectHandlerOptions } from \"./middleware/options/RedirectHandlerOptions\";\r\nimport { RetryHandlerOptions } from \"./middleware/options/RetryHandlerOptions\";\r\nimport { RedirectHandler } from \"./middleware/RedirectHandler\";\r\nimport { RetryHandler } from \"./middleware/RetryHandler\";\r\nimport { TelemetryHandler } from \"./middleware/TelemetryHandler\";\r\n/**\r\n * @private\r\n * To check whether the environment is node or not\r\n * @returns A boolean representing the environment is node or not\r\n */\r\nconst isNodeEnvironment = () => {\r\n    return new Function(\"try {return this === global;}catch(e){return false;}\")(); // tslint:disable-line: function-constructor\r\n};\r\n/**\r\n * @class\r\n * Class representing HTTPClientFactory\r\n */\r\nexport class HTTPClientFactory {\r\n    /**\r\n     * @public\r\n     * @static\r\n     * Creates HTTPClient with default middleware chain\r\n     * @param {AuthenticationProvider} authProvider - The authentication provider instance\r\n     * @returns A HTTPClient instance\r\n     *\r\n     * NOTE: These are the things that we need to remember while doing modifications in the below default pipeline.\r\n     * \t\t* HTTPMessageHander should be the last one in the middleware pipeline, because this makes the actual network call of the request\r\n     * \t\t* TelemetryHandler should be the one prior to the last middleware in the chain, because this is the one which actually collects and appends the usage flag and placing this handler \t*\t\t  before making the actual network call ensures that the usage of all features are recorded in the flag.\r\n     * \t\t* The best place for AuthenticationHandler is in the starting of the pipeline, because every other handler might have to work for multiple times for a request but the auth token for\r\n     * \t\t  them will remain same. For example, Retry and Redirect handlers might be working multiple times for a request based on the response but their auth token would remain same.\r\n     */\r\n    static createWithAuthenticationProvider(authProvider) {\r\n        const authenticationHandler = new AuthenticationHandler(authProvider);\r\n        const retryHandler = new RetryHandler(new RetryHandlerOptions());\r\n        const telemetryHandler = new TelemetryHandler();\r\n        const httpMessageHandler = new HTTPMessageHandler();\r\n        authenticationHandler.setNext(retryHandler);\r\n        if (isNodeEnvironment()) {\r\n            const redirectHandler = new RedirectHandler(new RedirectHandlerOptions());\r\n            retryHandler.setNext(redirectHandler);\r\n            redirectHandler.setNext(telemetryHandler);\r\n        }\r\n        else {\r\n            retryHandler.setNext(telemetryHandler);\r\n        }\r\n        telemetryHandler.setNext(httpMessageHandler);\r\n        return HTTPClientFactory.createWithMiddleware(authenticationHandler);\r\n    }\r\n    /**\r\n     * @public\r\n     * @static\r\n     * Creates a middleware chain with the given one\r\n     * @param {Middleware} middleware - The first middleware of the middleware chain\r\n     * @returns A HTTPClient instance\r\n     */\r\n    static createWithMiddleware(middleware) {\r\n        return new HTTPClient(middleware);\r\n    }\r\n}\r\n//# sourceMappingURL=HTTPClientFactory.js.map","/**\r\n * -------------------------------------------------------------------------------------------\r\n * Copyright (c) Microsoft Corporation.  All Rights Reserved.  Licensed under the MIT License.\r\n * See License in the project root for license information.\r\n * -------------------------------------------------------------------------------------------\r\n */\r\n/**\r\n * @constant\r\n * @function\r\n * Validates availability of Promise and fetch in global context\r\n * @returns The true in case the Promise and fetch available, otherwise throws error\r\n */\r\nexport const validatePolyFilling = () => {\r\n    if (typeof Promise === \"undefined\" && typeof fetch === \"undefined\") {\r\n        const error = new Error(\"Library cannot function without Promise and fetch. So, please provide polyfill for them.\");\r\n        error.name = \"PolyFillNotAvailable\";\r\n        throw error;\r\n    }\r\n    else if (typeof Promise === \"undefined\") {\r\n        const error = new Error(\"Library cannot function without Promise. So, please provide polyfill for it.\");\r\n        error.name = \"PolyFillNotAvailable\";\r\n        throw error;\r\n    }\r\n    else if (typeof fetch === \"undefined\") {\r\n        const error = new Error(\"Library cannot function without fetch. So, please provide polyfill for it.\");\r\n        error.name = \"PolyFillNotAvailable\";\r\n        throw error;\r\n    }\r\n    return true;\r\n};\r\n//# sourceMappingURL=ValidatePolyFilling.js.map","/**\r\n * -------------------------------------------------------------------------------------------\r\n * Copyright (c) Microsoft Corporation.  All Rights Reserved.  Licensed under the MIT License.\r\n * See License in the project root for license information.\r\n * -------------------------------------------------------------------------------------------\r\n */\r\n/**\r\n * @module Client\r\n */\r\nimport { GRAPH_API_VERSION, GRAPH_BASE_URL } from \"./Constants\";\r\nimport { CustomAuthenticationProvider } from \"./CustomAuthenticationProvider\";\r\nimport { GraphRequest } from \"./GraphRequest\";\r\nimport { HTTPClient } from \"./HTTPClient\";\r\nimport { HTTPClientFactory } from \"./HTTPClientFactory\";\r\nimport { validatePolyFilling } from \"./ValidatePolyFilling\";\r\nexport class Client {\r\n    /**\r\n     * @private\r\n     * @constructor\r\n     * Creates an instance of Client\r\n     * @param {ClientOptions} clientOptions - The options to instantiate the client object\r\n     */\r\n    constructor(clientOptions) {\r\n        /**\r\n         * @private\r\n         * A member which stores the Client instance options\r\n         */\r\n        this.config = {\r\n            baseUrl: GRAPH_BASE_URL,\r\n            debugLogging: false,\r\n            defaultVersion: GRAPH_API_VERSION,\r\n        };\r\n        try {\r\n            validatePolyFilling();\r\n        }\r\n        catch (error) {\r\n            throw error;\r\n        }\r\n        for (const key in clientOptions) {\r\n            if (clientOptions.hasOwnProperty(key)) {\r\n                this.config[key] = clientOptions[key];\r\n            }\r\n        }\r\n        let httpClient;\r\n        if (clientOptions.authProvider !== undefined && clientOptions.middleware !== undefined) {\r\n            const error = new Error();\r\n            error.name = \"AmbiguityInInitialization\";\r\n            error.message = \"Unable to Create Client, Please provide either authentication provider for default middleware chain or custom middleware chain not both\";\r\n            throw error;\r\n        }\r\n        else if (clientOptions.authProvider !== undefined) {\r\n            httpClient = HTTPClientFactory.createWithAuthenticationProvider(clientOptions.authProvider);\r\n        }\r\n        else if (clientOptions.middleware !== undefined) {\r\n            httpClient = new HTTPClient(clientOptions.middleware);\r\n        }\r\n        else {\r\n            const error = new Error();\r\n            error.name = \"InvalidMiddlewareChain\";\r\n            error.message = \"Unable to Create Client, Please provide either authentication provider for default middleware chain or custom middleware chain\";\r\n            throw error;\r\n        }\r\n        this.httpClient = httpClient;\r\n    }\r\n    /**\r\n     * @public\r\n     * @static\r\n     * To create a client instance with options and initializes the default middleware chain\r\n     * @param {Options} options - The options for client instance\r\n     * @returns The Client instance\r\n     */\r\n    static init(options) {\r\n        const clientOptions = {};\r\n        for (const i in options) {\r\n            if (options.hasOwnProperty(i)) {\r\n                clientOptions[i] = i === \"authProvider\" ? new CustomAuthenticationProvider(options[i]) : options[i];\r\n            }\r\n        }\r\n        return Client.initWithMiddleware(clientOptions);\r\n    }\r\n    /**\r\n     * @public\r\n     * @static\r\n     * To create a client instance with the Client Options\r\n     * @param {ClientOptions} clientOptions - The options object for initializing the client\r\n     * @returns The Client instance\r\n     */\r\n    static initWithMiddleware(clientOptions) {\r\n        try {\r\n            return new Client(clientOptions);\r\n        }\r\n        catch (error) {\r\n            throw error;\r\n        }\r\n    }\r\n    /**\r\n     * @public\r\n     * Entry point to make requests\r\n     * @param {string} path - The path string value\r\n     * @returns The graph request instance\r\n     */\r\n    api(path) {\r\n        return new GraphRequest(this.httpClient, this.config, path);\r\n    }\r\n}\r\n//# sourceMappingURL=Client.js.map","/**\r\n * -------------------------------------------------------------------------------------------\r\n * Copyright (c) Microsoft Corporation.  All Rights Reserved.  Licensed under the MIT License.\r\n * See License in the project root for license information.\r\n * -------------------------------------------------------------------------------------------\r\n */\r\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nimport { Client, AuthenticationHandlerOptions, AuthenticationHandler, RetryHandler, TelemetryHandler, RetryHandlerOptions, HTTPMessageHandler, ResponseType, BatchRequestContent } from '@microsoft/microsoft-graph-client';\r\nimport { getRequestHeader, setRequestHeader } from '@microsoft/microsoft-graph-client/lib/es/middleware/MiddlewareUtil';\r\nimport { PACKAGE_VERSION } from './utils/version';\r\nexport function prepScopes(...scopes) {\r\n    const authProviderOptions = {\r\n        scopes: scopes\r\n    };\r\n    return [new AuthenticationHandlerOptions(undefined, authProviderOptions)];\r\n}\r\nclass SdkVersionMiddleware {\r\n    execute(context) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            try {\r\n                let sdkVersionValue = `mgt/${PACKAGE_VERSION}`; // todo - add real version\r\n                sdkVersionValue += ', ' + getRequestHeader(context.request, context.options, 'SdkVersion');\r\n                setRequestHeader(context.request, context.options, 'SdkVersion', sdkVersionValue);\r\n                return yield this.nextMiddleware.execute(context);\r\n            }\r\n            catch (error) {\r\n                throw error;\r\n            }\r\n        });\r\n    }\r\n    setNext(next) {\r\n        this.nextMiddleware = next;\r\n    }\r\n}\r\nclass BatchRequest {\r\n    constructor(resource, method) {\r\n        if (resource.charAt(0) !== '/') {\r\n            resource = '/' + resource;\r\n        }\r\n        this.resource = resource;\r\n        this.method = method;\r\n    }\r\n}\r\nexport class Batch {\r\n    constructor(client) {\r\n        this.requests = new Map();\r\n        this.scopes = [];\r\n        this.client = client;\r\n    }\r\n    get(id, resource, scopes) {\r\n        const request = new BatchRequest(resource, 'GET');\r\n        this.requests.set(id, request);\r\n        if (scopes) {\r\n            this.scopes = this.scopes.concat(scopes);\r\n        }\r\n    }\r\n    execute() {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            const responses = {};\r\n            if (!this.requests.size) {\r\n                return responses;\r\n            }\r\n            let batchRequestContent = new BatchRequestContent();\r\n            for (let request of this.requests) {\r\n                batchRequestContent.addRequest({\r\n                    id: request[0],\r\n                    request: new Request(Batch.baseUrl + request[1].resource, {\r\n                        method: request[1].method\r\n                    })\r\n                });\r\n            }\r\n            let batchRequest = this.client.api('$batch').version('beta');\r\n            if (this.scopes.length) {\r\n                batchRequest = batchRequest.middlewareOptions(prepScopes(...this.scopes));\r\n            }\r\n            let batchResponse = yield batchRequest.post(yield batchRequestContent.getContent());\r\n            for (let response of batchResponse.responses) {\r\n                if (response.status !== 200) {\r\n                    response[response.id] = null;\r\n                }\r\n                else if (response.headers['Content-Type'].includes('image/jpeg')) {\r\n                    responses[response.id] = 'data:image/jpeg;base64,' + response.body;\r\n                }\r\n                else {\r\n                    responses[response.id] = response.body;\r\n                }\r\n            }\r\n            return responses;\r\n        });\r\n    }\r\n}\r\n// this doesn't really mater what it is as long as it's a root base url\r\n// otherwise a Request assumes the current path and that could change the relative path\r\nBatch.baseUrl = 'https://graph.microsoft.com';\r\nexport class Graph {\r\n    constructor(provider) {\r\n        if (provider) {\r\n            let authenticationHandler = new AuthenticationHandler(provider);\r\n            const retryHandler = new RetryHandler(new RetryHandlerOptions());\r\n            const telemetryHandler = new TelemetryHandler();\r\n            const sdkVersionMiddleware = new SdkVersionMiddleware();\r\n            const httpMessageHandler = new HTTPMessageHandler();\r\n            authenticationHandler.setNext(retryHandler);\r\n            retryHandler.setNext(telemetryHandler);\r\n            telemetryHandler.setNext(sdkVersionMiddleware);\r\n            sdkVersionMiddleware.setNext(httpMessageHandler);\r\n            this.client = Client.initWithMiddleware({\r\n                middleware: authenticationHandler\r\n            });\r\n        }\r\n    }\r\n    blobToBase64(blob) {\r\n        return new Promise((resolve, reject) => {\r\n            const reader = new FileReader();\r\n            reader.onerror = reject;\r\n            reader.onload = _ => {\r\n                resolve(reader.result);\r\n            };\r\n            reader.readAsDataURL(blob);\r\n        });\r\n    }\r\n    createBatch() {\r\n        return new Batch(this.client);\r\n    }\r\n    getMe() {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            return this.client\r\n                .api('me')\r\n                .middlewareOptions(prepScopes('user.read'))\r\n                .get();\r\n        });\r\n    }\r\n    getUser(userPrincipleName) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            let scopes = 'user.readbasic.all';\r\n            return this.client\r\n                .api(`/users/${userPrincipleName}`)\r\n                .middlewareOptions(prepScopes(scopes))\r\n                .get();\r\n        });\r\n    }\r\n    findPerson(query) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            let scopes = 'people.read';\r\n            let result = yield this.client\r\n                .api(`/me/people`)\r\n                .search('\"' + query + '\"')\r\n                .middlewareOptions(prepScopes(scopes))\r\n                .get();\r\n            return result ? result.value : null;\r\n        });\r\n    }\r\n    findContactByEmail(email) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            let scopes = 'contacts.read';\r\n            let result = yield this.client\r\n                .api(`/me/contacts`)\r\n                .filter(`emailAddresses/any(a:a/address eq '${email}')`)\r\n                .middlewareOptions(prepScopes(scopes))\r\n                .get();\r\n            return result ? result.value : null;\r\n        });\r\n    }\r\n    findUserByEmail(email) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            return Promise.all([this.findPerson(email), this.findContactByEmail(email)]).then(([people, contacts]) => {\r\n                return (people || []).concat(contacts || []);\r\n            });\r\n        });\r\n    }\r\n    getPhotoForResource(resource, scopes) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            try {\r\n                let blob = yield this.client\r\n                    .api(`${resource}/photo/$value`)\r\n                    .version('beta')\r\n                    .responseType(ResponseType.BLOB)\r\n                    .middlewareOptions(prepScopes(...scopes))\r\n                    .get();\r\n                return yield this.blobToBase64(blob);\r\n            }\r\n            catch (e) {\r\n                return null;\r\n            }\r\n        });\r\n    }\r\n    myPhoto() {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            return this.getPhotoForResource('me', ['user.read']);\r\n        });\r\n    }\r\n    getUserPhoto(userId) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            return this.getPhotoForResource(`users/${userId}`, ['user.readbasic.all']);\r\n        });\r\n    }\r\n    getContactPhoto(contactId) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            return this.getPhotoForResource(`me/contacts/${contactId}`, ['contacts.read']);\r\n        });\r\n    }\r\n    getEvents(startDateTime, endDateTime, groupId) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            let scopes = 'calendars.read';\r\n            let sdt = `startdatetime=${startDateTime.toISOString()}`;\r\n            let edt = `enddatetime=${endDateTime.toISOString()}`;\r\n            let uri;\r\n            if (groupId) {\r\n                uri = `groups/${groupId}/calendar`;\r\n            }\r\n            else {\r\n                uri = `me`;\r\n            }\r\n            uri += `/calendarview?${sdt}&${edt}`;\r\n            let calendarView = yield this.client\r\n                .api(uri)\r\n                .middlewareOptions(prepScopes(scopes))\r\n                .orderby('start/dateTime')\r\n                .get();\r\n            return calendarView ? calendarView.value : null;\r\n        });\r\n    }\r\n    getPeople() {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            let scopes = 'people.read';\r\n            let uri = `/me/people`;\r\n            let people = yield this.client\r\n                .api(uri)\r\n                .middlewareOptions(prepScopes(scopes))\r\n                .filter(\"personType/class eq 'Person'\")\r\n                .get();\r\n            return people ? people.value : null;\r\n        });\r\n    }\r\n    getPeopleFromGroup(groupId) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            let scopes = 'people.read';\r\n            let uri = `/groups/${groupId}/members`;\r\n            let people = yield this.client\r\n                .api(uri)\r\n                .middlewareOptions(prepScopes(scopes))\r\n                .get();\r\n            return people ? people.value : null;\r\n        });\r\n    }\r\n    // Planner Methods\r\n    planner_getAllMyPlans() {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            let plans = yield this.client\r\n                .api('/me/planner/plans')\r\n                .header('Cache-Control', 'no-store')\r\n                .middlewareOptions(prepScopes('Group.Read.All'))\r\n                .get();\r\n            return plans && plans.value;\r\n        });\r\n    }\r\n    planner_getSinglePlan(planId) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            let plan = yield this.client\r\n                .api(`/planner/plans/${planId}`)\r\n                .header('Cache-Control', 'no-store')\r\n                .middlewareOptions(prepScopes('Group.Read.All'))\r\n                .get();\r\n            return plan;\r\n        });\r\n    }\r\n    planner_getBucketsForPlan(planId) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            let buckets = yield this.client\r\n                .api(`/planner/plans/${planId}/buckets`)\r\n                .header('Cache-Control', 'no-store')\r\n                .middlewareOptions(prepScopes('Group.Read.All'))\r\n                .get();\r\n            return buckets && buckets.value;\r\n        });\r\n    }\r\n    planner_getTasksForBucket(bucketId) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            let tasks = yield this.client\r\n                .api(`/planner/buckets/${bucketId}/tasks`)\r\n                .header('Cache-Control', 'no-store')\r\n                .middlewareOptions(prepScopes('Group.Read.All'))\r\n                .get();\r\n            return tasks && tasks.value;\r\n        });\r\n    }\r\n    planner_setTaskDetails(taskId, details, eTag) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            return yield this.client\r\n                .api(`/planner/tasks/${taskId}`)\r\n                .header('Cache-Control', 'no-store')\r\n                .middlewareOptions(prepScopes('Group.ReadWrite.All'))\r\n                .header('If-Match', eTag)\r\n                .patch(JSON.stringify(details));\r\n        });\r\n    }\r\n    planner_setTaskComplete(taskId, eTag) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            return this.planner_setTaskDetails(taskId, {\r\n                percentComplete: 100\r\n            }, eTag);\r\n        });\r\n    }\r\n    planner_setTaskIncomplete(taskId, eTag) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            return this.planner_setTaskDetails(taskId, {\r\n                percentComplete: 0\r\n            }, eTag);\r\n        });\r\n    }\r\n    planner_addTask(newTask) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            return this.client\r\n                .api(`/planner/tasks`)\r\n                .header('Cache-Control', 'no-store')\r\n                .middlewareOptions(prepScopes('Group.ReadWrite.All'))\r\n                .post(newTask);\r\n        });\r\n    }\r\n    planner_removeTask(taskId, eTag) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            return this.client\r\n                .api(`/planner/tasks/${taskId}`)\r\n                .header('Cache-Control', 'no-store')\r\n                .header('If-Match', eTag)\r\n                .middlewareOptions(prepScopes('Group.ReadWrite.All'))\r\n                .delete();\r\n        });\r\n    }\r\n    // Todo Methods\r\n    todo_getAllMyGroups() {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            let groups = yield this.client\r\n                .api('/me/outlook/taskGroups')\r\n                .header('Cache-Control', 'no-store')\r\n                .version('beta')\r\n                .middlewareOptions(prepScopes('Tasks.Read'))\r\n                .get();\r\n            return groups && groups.value;\r\n        });\r\n    }\r\n    todo_getSingleGroup(groupId) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            let group = yield this.client\r\n                .api(`/me/outlook/taskGroups/${groupId}`)\r\n                .header('Cache-Control', 'no-store')\r\n                .version('beta')\r\n                .middlewareOptions(prepScopes('Tasks.Read'))\r\n                .get();\r\n            return group;\r\n        });\r\n    }\r\n    todo_getFoldersForGroup(groupId) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            let folders = yield this.client\r\n                .api(`/me/outlook/taskGroups/${groupId}/taskFolders`)\r\n                .header('Cache-Control', 'no-store')\r\n                .version('beta')\r\n                .middlewareOptions(prepScopes('Tasks.Read'))\r\n                .get();\r\n            return folders && folders.value;\r\n        });\r\n    }\r\n    todo_getAllTasksForFolder(folderId) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            let tasks = yield this.client\r\n                .api(`/me/outlook/taskFolders/${folderId}/tasks`)\r\n                .header('Cache-Control', 'no-store')\r\n                .version('beta')\r\n                .middlewareOptions(prepScopes('Tasks.Read'))\r\n                .get();\r\n            return tasks && tasks.value;\r\n        });\r\n    }\r\n    todo_setTaskDetails(taskId, task, eTag) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            return yield this.client\r\n                .api(`/me/outlook/tasks/${taskId}`)\r\n                .header('Cache-Control', 'no-store')\r\n                .version('beta')\r\n                .header('If-Match', eTag)\r\n                .middlewareOptions(prepScopes('Tasks.ReadWrite'))\r\n                .patch(task);\r\n        });\r\n    }\r\n    todo_setTaskComplete(taskId, eTag) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            return yield this.todo_setTaskDetails(taskId, {\r\n                status: 'completed',\r\n                isReminderOn: false\r\n            }, eTag);\r\n        });\r\n    }\r\n    todo_setTaskIncomplete(taskId, eTag) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            return yield this.todo_setTaskDetails(taskId, {\r\n                status: 'notStarted',\r\n                isReminderOn: true\r\n            }, eTag);\r\n        });\r\n    }\r\n    todo_addTask(newTask) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            let { parentFolderId = null } = newTask;\r\n            if (parentFolderId)\r\n                return yield this.client\r\n                    .api(`/me/outlook/taskFolders/${parentFolderId}/tasks`)\r\n                    .header('Cache-Control', 'no-store')\r\n                    .version('beta')\r\n                    .middlewareOptions(prepScopes('Tasks.ReadWrite'))\r\n                    .post(newTask);\r\n            else\r\n                return yield this.client\r\n                    .api(`/me/outlook/tasks`)\r\n                    .header('Cache-Control', 'no-store')\r\n                    .version('beta')\r\n                    .middlewareOptions(prepScopes('Tasks.ReadWrite'))\r\n                    .post(newTask);\r\n        });\r\n    }\r\n    todo_removeTask(taskId, eTag) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            return yield this.client\r\n                .api(`/me/outlook/tasks/${taskId}`)\r\n                .header('Cache-Control', 'no-store')\r\n                .version('beta')\r\n                .header('If-Match', eTag)\r\n                .middlewareOptions(prepScopes('Tasks.ReadWrite'))\r\n                .delete();\r\n        });\r\n    }\r\n}\r\n//# sourceMappingURL=Graph.js.map","/**\r\n * -------------------------------------------------------------------------------------------\r\n * Copyright (c) Microsoft Corporation.  All Rights Reserved.  Licensed under the MIT License.\r\n * See License in the project root for license information.\r\n * -------------------------------------------------------------------------------------------\r\n */\r\n// THIS FILE IS AUTO GENERATED\r\n// ANY CHANGES WILL BE LOST DURING BUILD\r\nexport const PACKAGE_VERSION = '0.2.0';\r\n//# sourceMappingURL=version.js.map","/**\r\n * -------------------------------------------------------------------------------------------\r\n * Copyright (c) Microsoft Corporation.  All Rights Reserved.  Licensed under the MIT License.\r\n * See License in the project root for license information.\r\n * -------------------------------------------------------------------------------------------\r\n */\r\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nimport { html, customElement, property } from 'lit-element';\r\nimport { Providers } from '../../Providers';\r\nimport { ProviderState } from '../../providers/IProvider';\r\nimport { styles } from './mgt-agenda-css';\r\nimport '../mgt-person/mgt-person';\r\nimport '../../styles/fabric-icon-font';\r\nimport { MgtTemplatedComponent } from '../templatedComponent';\r\nimport { prepScopes } from '../../Graph';\r\nlet MgtAgenda = class MgtAgenda extends MgtTemplatedComponent {\r\n    constructor() {\r\n        super();\r\n        this._firstUpdated = false;\r\n        this._loading = true;\r\n        this.groupByDay = false;\r\n        this.days = 3;\r\n        this.onResize = this.onResize.bind(this);\r\n    }\r\n    static get styles() {\r\n        return styles;\r\n    }\r\n    firstUpdated() {\r\n        this._firstUpdated = true;\r\n        Providers.onProviderUpdated(() => this.loadData());\r\n        this.loadData();\r\n    }\r\n    connectedCallback() {\r\n        this._isNarrow = this.offsetWidth < 600;\r\n        super.connectedCallback();\r\n        window.addEventListener('resize', this.onResize);\r\n    }\r\n    disconnectedCallback() {\r\n        window.removeEventListener('resize', this.onResize);\r\n        super.disconnectedCallback();\r\n    }\r\n    attributeChangedCallback(name, oldValue, newValue) {\r\n        if (oldValue !== newValue && (name === 'date' || name === 'days' || name === 'group-id')) {\r\n            this.events = null;\r\n            this.loadData();\r\n        }\r\n        super.attributeChangedCallback(name, oldValue, newValue);\r\n    }\r\n    onResize() {\r\n        this._isNarrow = this.offsetWidth < 600;\r\n    }\r\n    loadData() {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            if (this.events) {\r\n                return;\r\n            }\r\n            if (!this._firstUpdated) {\r\n                return;\r\n            }\r\n            let p = Providers.globalProvider;\r\n            if (p && p.state === ProviderState.SignedIn) {\r\n                this._loading = true;\r\n                if (this.eventQuery) {\r\n                    try {\r\n                        let tokens = this.eventQuery.split('|');\r\n                        let scope, query;\r\n                        if (tokens.length > 1) {\r\n                            query = tokens[0].trim();\r\n                            scope = tokens[1].trim();\r\n                        }\r\n                        else {\r\n                            query = this.eventQuery;\r\n                        }\r\n                        let request = yield p.graph.client.api(query);\r\n                        if (scope) {\r\n                            request = request.middlewareOptions(prepScopes(scope));\r\n                        }\r\n                        let results = yield request.get();\r\n                        if (results && results.value) {\r\n                            this.events = results.value;\r\n                        }\r\n                    }\r\n                    catch (e) { }\r\n                }\r\n                else {\r\n                    let start = this.date ? new Date(this.date) : new Date();\r\n                    start.setHours(0, 0, 0, 0);\r\n                    let end = new Date();\r\n                    end.setHours(0, 0, 0, 0);\r\n                    end.setDate(start.getDate() + this.days);\r\n                    try {\r\n                        this.events = yield p.graph.getEvents(start, end, this.groupId);\r\n                    }\r\n                    catch (error) {\r\n                        // noop - possible error with graph\r\n                    }\r\n                }\r\n                this._loading = false;\r\n            }\r\n            else if (p && p.state === ProviderState.Loading) {\r\n                this._loading = true;\r\n            }\r\n            else {\r\n                this._loading = false;\r\n            }\r\n        });\r\n    }\r\n    render() {\r\n        this._isNarrow = this.offsetWidth < 600;\r\n        return html `\n      <div class=\"agenda ${this._isNarrow ? 'narrow' : ''}\">\n        ${this.renderAgenda()}\n      </div>\n    `;\r\n    }\r\n    renderAgenda() {\r\n        if (this._loading) {\r\n            return this.renderTemplate('loading', null) || this.renderLoading();\r\n        }\r\n        if (this.events) {\r\n            let events = this.showMax && this.showMax > 0 ? this.events.slice(0, this.showMax) : this.events;\r\n            let renderedTemplate = this.renderTemplate('default', { events: events });\r\n            if (renderedTemplate) {\r\n                return renderedTemplate;\r\n            }\r\n            if (this.groupByDay) {\r\n                let grouped = {};\r\n                for (let i = 0; i < events.length; i++) {\r\n                    let header = this.getDateHeaderFromDateTimeString(events[i].start.dateTime);\r\n                    grouped[header] = grouped[header] || [];\r\n                    grouped[header].push(events[i]);\r\n                }\r\n                return html `\n          <div class=\"agenda grouped ${this._isNarrow ? 'narrow' : ''}\">\n            ${Object.keys(grouped).map(header => html `\n                  <div class=\"group\">\n                    ${this.renderTemplate('header', { header: header }, 'header-' + header) ||\r\n                    html `\n                        <div class=\"header\" aria-label=\"${header}\">${header}</div>\n                      `}\n                    ${this.renderListOfEvents(grouped[header])}\n                  </div>\n                `)}\n          </div>\n        `;\r\n            }\r\n            return this.renderListOfEvents(events);\r\n        }\r\n        else {\r\n            return this.renderTemplate('no-data', null) || html ``;\r\n        }\r\n    }\r\n    renderListOfEvents(events) {\r\n        return html `\n      <ul class=\"agenda-list\">\n        ${events.map(event => html `\n              <li>\n                ${this.renderTemplate('event', { event: event }, event.id) || this.renderEvent(event)}\n              </li>\n            `)}\n      </ul>\n    `;\r\n    }\r\n    renderLoading() {\r\n        return html `\n      <div class=\"event\">\n        <div class=\"event-time-container\">\n          <div class=\"event-time-loading loading-element\"></div>\n        </div>\n        <div class=\"event-details-container\">\n          <div class=\"event-subject-loading loading-element\"></div>\n          <div class=\"event-location-container\">\n            <div class=\"event-location-icon-loading loading-element\"></div>\n            <div class=\"event-location-loading loading-element\"></div>\n          </div>\n          <div class=\"event-location-container\">\n            <div class=\"event-attendee-loading loading-element\"></div>\n            <div class=\"event-attendee-loading loading-element\"></div>\n            <div class=\"event-attendee-loading loading-element\"></div>\n          </div>\n        </div>\n      </div>\n    `;\r\n    }\r\n    renderEvent(event) {\r\n        return html `\n      <div class=\"event\">\n        <div class=\"event-time-container\">\n          <div class=\"event-time\" aria-label=\"${this.getEventTimeString(event)}\">${this.getEventTimeString(event)}</div>\n        </div>\n        <div class=\"event-details-container\">\n          <div class=\"event-subject\">${event.subject}</div>\n          ${this.renderLocation(event)} ${this.renderAttendies(event)}\n        </div>\n        ${this.templates['event-other']\r\n            ? html `\n              <div class=\"event-other-container\">\n                ${this.renderTemplate('event-other', { event: event }, event.id + '-other')}\n              </div>\n            `\r\n            : ''}\n      </div>\n    `;\r\n        // <div class=\"event-duration\">${this.getEventDuration(event)}</div>\r\n    }\r\n    renderLocation(event) {\r\n        if (!event.location.displayName) {\r\n            return null;\r\n        }\r\n        return html `\n      <div class=\"event-location-container\">\n        <svg width=\"10\" height=\"13\" viewBox=\"0 0 10 13\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n          <path\n            fill-rule=\"evenodd\"\n            clip-rule=\"evenodd\"\n            d=\"M4.99989 6.49989C4.15159 6.49989 3.46143 5.81458 3.46143 4.97224C3.46143 4.12965 4.15159 3.44434 4.99989 3.44434C5.84845 3.44434 6.53835 4.12965 6.53835 4.97224C6.53835 5.81458 5.84845 6.49989 4.99989 6.49989Z\"\n            stroke=\"black\"\n          />\n          <path\n            fill-rule=\"evenodd\"\n            clip-rule=\"evenodd\"\n            d=\"M8.1897 7.57436L5.00029 12L1.80577 7.56765C0.5971 6.01895 0.770299 3.47507 2.17681 2.12383C2.93098 1.39918 3.93367 1 5.00029 1C6.06692 1 7.06961 1.39918 7.82401 2.12383C9.23075 3.47507 9.40372 6.01895 8.1897 7.57436Z\"\n            stroke=\"black\"\n          />\n        </svg>\n        <div class=\"event-location\" aria-label=\"${event.location.displayName}\">${event.location.displayName}</div>\n      </div>\n    `;\r\n    }\r\n    renderAttendies(event) {\r\n        if (!event.attendees.length) {\r\n            return null;\r\n        }\r\n        return html `\n      <mgt-people\n        class=\"event-attendees\"\n        .people=${event.attendees.map(attendee => ({\r\n            displayName: attendee.emailAddress.name,\r\n            email: attendee.emailAddress.address,\r\n            image: '@'\r\n        }))}\n      ></mgt-people>\n    `;\r\n    }\r\n    getEventTimeString(event) {\r\n        if (event.isAllDay) {\r\n            return 'ALL DAY';\r\n        }\r\n        let start = this.prettyPrintTimeFromDateTime(new Date(event.start.dateTime));\r\n        let end = this.prettyPrintTimeFromDateTime(new Date(event.end.dateTime));\r\n        return `${start} - ${end}`;\r\n    }\r\n    prettyPrintTimeFromDateTime(date) {\r\n        date.setMinutes(date.getMinutes() - date.getTimezoneOffset());\r\n        let hours = date.getHours();\r\n        let minutes = date.getMinutes();\r\n        let ampm = hours >= 12 ? 'PM' : 'AM';\r\n        hours = hours % 12;\r\n        hours = hours ? hours : 12;\r\n        let minutesStr = minutes < 10 ? '0' + minutes : minutes;\r\n        return `${hours}:${minutesStr} ${ampm}`;\r\n    }\r\n    getDateHeaderFromDateTimeString(dateTimeString) {\r\n        let date = new Date(dateTimeString);\r\n        date.setMinutes(date.getMinutes() - date.getTimezoneOffset());\r\n        let monthNames = [\r\n            'January',\r\n            'February',\r\n            'March',\r\n            'April',\r\n            'May',\r\n            'June',\r\n            'July',\r\n            'August',\r\n            'September',\r\n            'October',\r\n            'November',\r\n            'December'\r\n        ];\r\n        var dayNames = ['Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday'];\r\n        let dayIndex = date.getDay();\r\n        let monthIndex = date.getMonth();\r\n        let day = date.getDate();\r\n        let year = date.getFullYear();\r\n        return `${dayNames[dayIndex]}, ${monthNames[monthIndex]} ${day}, ${year}`;\r\n    }\r\n    getEventDuration(event) {\r\n        let dtStart = new Date(event.start.dateTime);\r\n        let dtEnd = new Date(event.end.dateTime);\r\n        let dtNow = new Date();\r\n        let result = '';\r\n        if (dtNow > dtStart) {\r\n            dtStart = dtNow;\r\n        }\r\n        let diff = dtEnd.getTime() - dtStart.getTime();\r\n        var durationMinutes = Math.round(diff / 60000);\r\n        if (durationMinutes > 1440 || event.isAllDay) {\r\n            result = Math.ceil(durationMinutes / 1440) + 'd';\r\n        }\r\n        else if (durationMinutes > 60) {\r\n            result = Math.round(durationMinutes / 60) + 'h';\r\n            let leftoverMinutes = durationMinutes % 60;\r\n            if (leftoverMinutes) {\r\n                result += leftoverMinutes + 'm';\r\n            }\r\n        }\r\n        else {\r\n            result = durationMinutes + 'm';\r\n        }\r\n        return result;\r\n    }\r\n};\r\n__decorate([\r\n    property({ attribute: false })\r\n], MgtAgenda.prototype, \"_isNarrow\", void 0);\r\n__decorate([\r\n    property({ attribute: false })\r\n], MgtAgenda.prototype, \"_loading\", void 0);\r\n__decorate([\r\n    property({\r\n        attribute: 'events'\r\n    })\r\n], MgtAgenda.prototype, \"events\", void 0);\r\n__decorate([\r\n    property({\r\n        attribute: 'group-by-day',\r\n        type: Boolean,\r\n        reflect: true\r\n    })\r\n], MgtAgenda.prototype, \"groupByDay\", void 0);\r\n__decorate([\r\n    property({\r\n        attribute: 'date',\r\n        type: String,\r\n        reflect: true\r\n    })\r\n], MgtAgenda.prototype, \"date\", void 0);\r\n__decorate([\r\n    property({\r\n        attribute: 'days',\r\n        type: Number,\r\n        reflect: true\r\n    })\r\n], MgtAgenda.prototype, \"days\", void 0);\r\n__decorate([\r\n    property({\r\n        attribute: 'event-query',\r\n        type: String\r\n    })\r\n], MgtAgenda.prototype, \"eventQuery\", void 0);\r\n__decorate([\r\n    property({\r\n        attribute: 'show-max',\r\n        type: Number\r\n    })\r\n], MgtAgenda.prototype, \"showMax\", void 0);\r\n__decorate([\r\n    property({\r\n        attribute: 'group-id',\r\n        type: String\r\n    })\r\n], MgtAgenda.prototype, \"groupId\", void 0);\r\nMgtAgenda = __decorate([\r\n    customElement('mgt-agenda')\r\n], MgtAgenda);\r\nexport { MgtAgenda };\r\n//# sourceMappingURL=mgt-agenda.js.map","// THIS FILE IS AUTO GENERATED\r\n// ANY CHANGES WILL BE LOST DURING BUILD\r\n// MODIFY THE .SCSS FILE INSTEAD\r\nimport { css } from 'lit-element';\r\nexport const styles = [\r\n    css `\n/**\n * -------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation.  All Rights Reserved.  Licensed under the MIT License.\n * See License in the project root for license information.\n * -------------------------------------------------------------------------------------------\n */\n/*\r\n  Your use of the content in the files referenced here is subject to the terms of the license at http://aka.ms/fabric-assets-license\r\n*/\n/**\n * -------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation.  All Rights Reserved.  Licensed under the MIT License.\n * See License in the project root for license information.\n * -------------------------------------------------------------------------------------------\n */\n:host([hidden]) {\n  display: none; }\n\n:host {\n  display: block;\n  --default-font-family: \"Segoe UI\", \"Segoe UI Web (West European)\", \"Segoe UI\",\n    -apple-system, BlinkMacSystemFont, Roboto, \"Helvetica Neue\", sans-serif;\n  --theme-primary-color: #0078d7;\n  --theme-dark-color: #005a9e; }\n\n.ms-Icon {\n  display: inline-block;\n  font-family: \"FabricMDL2Icons\";\n  font-style: normal;\n  font-weight: normal;\n  font-size: 16px;\n  -moz-osx-font-smoothing: grayscale;\n  -webkit-font-smoothing: antialiased;\n  margin: 4px 0; }\n\n.ms-Icon--ChevronDown::before {\n  content: \"\\\\\\E70D\"; }\n\n.ms-Icon--ChevronUp::before {\n  content: \"\\\\\\E70E\"; }\n\n.ms-Icon--Contact::before {\n  content: \"\\\\\\E77B\"; }\n\n.ms-Icon--AddFriend::before {\n  content: \"\\\\\\E8FA\"; }\n\n.ms-Icon--OutlookLogoInverse::before {\n  content: \"\\\\\\EB6D\"; }\n\n:host .people-list,\nmgt-people .people-list {\n  list-style-type: none;\n  margin: var(--list-margin, 8px 4px 8px 8px);\n  padding: 0;\n  font-family: var(--default-font-family, \"Segoe UI\");\n  font-style: normal;\n  font-weight: normal;\n  display: flex; }\n\n:host .people-person,\nmgt-people .people-person {\n  margin: var(--avatar-margin, 0 4px 0 0);\n  display: flex; }\n\n`\r\n];\r\n//# sourceMappingURL=mgt-people-css.js.map","/**\r\n * -------------------------------------------------------------------------------------------\r\n * Copyright (c) Microsoft Corporation.  All Rights Reserved.  Licensed under the MIT License.\r\n * See License in the project root for license information.\r\n * -------------------------------------------------------------------------------------------\r\n */\r\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nimport { html, customElement, property } from 'lit-element';\r\nimport { Providers } from '../../Providers';\r\nimport { ProviderState } from '../../providers/IProvider';\r\nimport { styles } from './mgt-people-css';\r\nimport '../mgt-person/mgt-person';\r\nimport '../../styles/fabric-icon-font';\r\nimport { MgtTemplatedComponent } from '../templatedComponent';\r\nlet MgtPeople = class MgtPeople extends MgtTemplatedComponent {\r\n    constructor() {\r\n        super();\r\n        this._firstUpdated = false;\r\n        this.people = null;\r\n        this.showMax = 3;\r\n    }\r\n    /* TODO: Do we want a query property for loading groups from calls? */\r\n    static get styles() {\r\n        return styles;\r\n    }\r\n    firstUpdated() {\r\n        this._firstUpdated = true;\r\n        Providers.onProviderUpdated(() => this.loadPeople());\r\n        this.loadPeople();\r\n    }\r\n    loadPeople() {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            if (!this._firstUpdated) {\r\n                return;\r\n            }\r\n            if (!this.people) {\r\n                let provider = Providers.globalProvider;\r\n                if (provider && provider.state === ProviderState.SignedIn) {\r\n                    let client = Providers.globalProvider.graph;\r\n                    this.people = (yield client.getPeople()).slice(0, this.showMax);\r\n                    for (let person of this.people) {\r\n                        // set image to @ to flag the mgt-person component to\r\n                        // query the image from the graph\r\n                        person.image = '@';\r\n                    }\r\n                }\r\n            }\r\n        });\r\n    }\r\n    render() {\r\n        if (this.people) {\r\n            return (this.renderTemplate('default', { people: this.people }) ||\r\n                html `\n          <ul class=\"people-list\">\n            ${this.people.slice(0, this.showMax).map(person => html `\n                  <li class=\"people-person\">\n                    ${this.renderTemplate('person', { person: person }, person.displayName) ||\r\n                    this.renderPerson(person)}\n                  </li>\n                `)}\n            ${this.people.length > this.showMax\r\n                    ? this.renderTemplate('overflow', {\r\n                        people: this.people,\r\n                        max: this.showMax,\r\n                        extra: this.people.length - this.showMax\r\n                    }) ||\r\n                        html `\n                  <li>+${this.people.length - this.showMax}</li>\n                `\r\n                    : null}\n          </ul>\n        `);\r\n        }\r\n        else {\r\n            return this.renderTemplate('no-data', null) || html ``;\r\n        }\r\n    }\r\n    renderPerson(person) {\r\n        return html `\n      <mgt-person .personDetails=${person}></mgt-person>\n    `;\r\n    }\r\n};\r\n__decorate([\r\n    property({\r\n        attribute: 'people',\r\n        type: Object\r\n    })\r\n], MgtPeople.prototype, \"people\", void 0);\r\n__decorate([\r\n    property({\r\n        attribute: 'show-max',\r\n        type: Number\r\n    })\r\n], MgtPeople.prototype, \"showMax\", void 0);\r\nMgtPeople = __decorate([\r\n    customElement('mgt-people')\r\n], MgtPeople);\r\nexport { MgtPeople };\r\n//# sourceMappingURL=mgt-people.js.map","/**\n * @license\n * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at\n * http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at\n * http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at\n * http://polymer.github.io/PATENTS.txt\n */\n\nimport {DirectiveFn} from '../lib/directive.js';\nimport {createMarker, directive, NodePart, Part, removeNodes, reparentNodes} from '../lit-html.js';\n\nexport type KeyFn<T> = (item: T, index: number) => unknown;\nexport type ItemTemplate<T> = (item: T, index: number) => unknown;\n\n// Helper functions for manipulating parts\n// TODO(kschaaf): Refactor into Part API?\nconst createAndInsertPart =\n    (containerPart: NodePart, beforePart?: NodePart): NodePart => {\n      const container = containerPart.startNode.parentNode as Node;\n      const beforeNode = beforePart === undefined ? containerPart.endNode :\n                                                    beforePart.startNode;\n      const startNode = container.insertBefore(createMarker(), beforeNode);\n      container.insertBefore(createMarker(), beforeNode);\n      const newPart = new NodePart(containerPart.options);\n      newPart.insertAfterNode(startNode);\n      return newPart;\n    };\n\nconst updatePart = (part: NodePart, value: unknown) => {\n  part.setValue(value);\n  part.commit();\n  return part;\n};\n\nconst insertPartBefore =\n    (containerPart: NodePart, part: NodePart, ref?: NodePart) => {\n      const container = containerPart.startNode.parentNode as Node;\n      const beforeNode = ref ? ref.startNode : containerPart.endNode;\n      const endNode = part.endNode.nextSibling;\n      if (endNode !== beforeNode) {\n        reparentNodes(container, part.startNode, endNode, beforeNode);\n      }\n    };\n\nconst removePart = (part: NodePart) => {\n  removeNodes(\n      part.startNode.parentNode!, part.startNode, part.endNode.nextSibling);\n};\n\n// Helper for generating a map of array item to its index over a subset\n// of an array (used to lazily generate `newKeyToIndexMap` and\n// `oldKeyToIndexMap`)\nconst generateMap = (list: unknown[], start: number, end: number) => {\n  const map = new Map();\n  for (let i = start; i <= end; i++) {\n    map.set(list[i], i);\n  }\n  return map;\n};\n\n// Stores previous ordered list of parts and map of key to index\nconst partListCache = new WeakMap<NodePart, (NodePart | null)[]>();\nconst keyListCache = new WeakMap<NodePart, unknown[]>();\n\n/**\n * A directive that repeats a series of values (usually `TemplateResults`)\n * generated from an iterable, and updates those items efficiently when the\n * iterable changes based on user-provided `keys` associated with each item.\n *\n * Note that if a `keyFn` is provided, strict key-to-DOM mapping is maintained,\n * meaning previous DOM for a given key is moved into the new position if\n * needed, and DOM will never be reused with values for different keys (new DOM\n * will always be created for new keys). This is generally the most efficient\n * way to use `repeat` since it performs minimum unnecessary work for insertions\n * amd removals.\n *\n * IMPORTANT: If providing a `keyFn`, keys *must* be unique for all items in a\n * given call to `repeat`. The behavior when two or more items have the same key\n * is undefined.\n *\n * If no `keyFn` is provided, this directive will perform similar to mapping\n * items to values, and DOM will be reused against potentially different items.\n */\nexport const repeat =\n    directive(\n        <T>(items: Iterable<T>,\n            keyFnOrTemplate: KeyFn<T>|ItemTemplate<T>,\n            template?: ItemTemplate<T>):\n            DirectiveFn => {\n              let keyFn: KeyFn<T>;\n              if (template === undefined) {\n                template = keyFnOrTemplate;\n              } else if (keyFnOrTemplate !== undefined) {\n                keyFn = keyFnOrTemplate as KeyFn<T>;\n              }\n\n              return (containerPart: Part): void => {\n                if (!(containerPart instanceof NodePart)) {\n                  throw new Error('repeat can only be used in text bindings');\n                }\n                // Old part & key lists are retrieved from the last update\n                // (associated with the part for this instance of the directive)\n                const oldParts = partListCache.get(containerPart) || [];\n                const oldKeys = keyListCache.get(containerPart) || [];\n\n                // New part list will be built up as we go (either reused from\n                // old parts or created for new keys in this update). This is\n                // saved in the above cache at the end of the update.\n                const newParts: NodePart[] = [];\n\n                // New value list is eagerly generated from items along with a\n                // parallel array indicating its key.\n                const newValues: unknown[] = [];\n                const newKeys: unknown[] = [];\n                let index = 0;\n                for (const item of items) {\n                  newKeys[index] = keyFn ? keyFn(item, index) : index;\n                  newValues[index] = template !(item, index);\n                  index++;\n                }\n\n                // Maps from key to index for current and previous update; these\n                // are generated lazily only when needed as a performance\n                // optimization, since they are only required for multiple\n                // non-contiguous changes in the list, which are less common.\n                let newKeyToIndexMap!: Map<unknown, number>;\n                let oldKeyToIndexMap!: Map<unknown, number>;\n\n                // Head and tail pointers to old parts and new values\n                let oldHead = 0;\n                let oldTail = oldParts.length - 1;\n                let newHead = 0;\n                let newTail = newValues.length - 1;\n\n                // Overview of O(n) reconciliation algorithm (general approach\n                // based on ideas found in ivi, vue, snabbdom, etc.):\n                //\n                // * We start with the list of old parts and new values (and\n                //   arrays of their respective keys), head/tail pointers into\n                //   each, and we build up the new list of parts by updating\n                //   (and when needed, moving) old parts or creating new ones.\n                //   The initial scenario might look like this (for brevity of\n                //   the diagrams, the numbers in the array reflect keys\n                //   associated with the old parts or new values, although keys\n                //   and parts/values are actually stored in parallel arrays\n                //   indexed using the same head/tail pointers):\n                //\n                //      oldHead v                 v oldTail\n                //   oldKeys:  [0, 1, 2, 3, 4, 5, 6]\n                //   newParts: [ ,  ,  ,  ,  ,  ,  ]\n                //   newKeys:  [0, 2, 1, 4, 3, 7, 6] <- reflects the user's new\n                //                                      item order\n                //      newHead ^                 ^ newTail\n                //\n                // * Iterate old & new lists from both sides, updating,\n                //   swapping, or removing parts at the head/tail locations\n                //   until neither head nor tail can move.\n                //\n                // * Example below: keys at head pointers match, so update old\n                //   part 0 in-place (no need to move it) and record part 0 in\n                //   the `newParts` list. The last thing we do is advance the\n                //   `oldHead` and `newHead` pointers (will be reflected in the\n                //   next diagram).\n                //\n                //      oldHead v                 v oldTail\n                //   oldKeys:  [0, 1, 2, 3, 4, 5, 6]\n                //   newParts: [0,  ,  ,  ,  ,  ,  ] <- heads matched: update 0\n                //   newKeys:  [0, 2, 1, 4, 3, 7, 6]    and advance both oldHead\n                //                                      & newHead\n                //      newHead ^                 ^ newTail\n                //\n                // * Example below: head pointers don't match, but tail\n                //   pointers do, so update part 6 in place (no need to move\n                //   it), and record part 6 in the `newParts` list. Last,\n                //   advance the `oldTail` and `oldHead` pointers.\n                //\n                //         oldHead v              v oldTail\n                //   oldKeys:  [0, 1, 2, 3, 4, 5, 6]\n                //   newParts: [0,  ,  ,  ,  ,  , 6] <- tails matched: update 6\n                //   newKeys:  [0, 2, 1, 4, 3, 7, 6]    and advance both oldTail\n                //                                      & newTail\n                //         newHead ^              ^ newTail\n                //\n                // * If neither head nor tail match; next check if one of the\n                //   old head/tail items was removed. We first need to generate\n                //   the reverse map of new keys to index (`newKeyToIndexMap`),\n                //   which is done once lazily as a performance optimization,\n                //   since we only hit this case if multiple non-contiguous\n                //   changes were made. Note that for contiguous removal\n                //   anywhere in the list, the head and tails would advance\n                //   from either end and pass each other before we get to this\n                //   case and removals would be handled in the final while loop\n                //   without needing to generate the map.\n                //\n                // * Example below: The key at `oldTail` was removed (no longer\n                //   in the `newKeyToIndexMap`), so remove that part from the\n                //   DOM and advance just the `oldTail` pointer.\n                //\n                //         oldHead v           v oldTail\n                //   oldKeys:  [0, 1, 2, 3, 4, 5, 6]\n                //   newParts: [0,  ,  ,  ,  ,  , 6] <- 5 not in new map: remove\n                //   newKeys:  [0, 2, 1, 4, 3, 7, 6]    5 and advance oldTail\n                //         newHead ^           ^ newTail\n                //\n                // * Once head and tail cannot move, any mismatches are due to\n                //   either new or moved items; if a new key is in the previous\n                //   \"old key to old index\" map, move the old part to the new\n                //   location, otherwise create and insert a new part. Note\n                //   that when moving an old part we null its position in the\n                //   oldParts array if it lies between the head and tail so we\n                //   know to skip it when the pointers get there.\n                //\n                // * Example below: neither head nor tail match, and neither\n                //   were removed; so find the `newHead` key in the\n                //   `oldKeyToIndexMap`, and move that old part's DOM into the\n                //   next head position (before `oldParts[oldHead]`). Last,\n                //   null the part in the `oldPart` array since it was\n                //   somewhere in the remaining oldParts still to be scanned\n                //   (between the head and tail pointers) so that we know to\n                //   skip that old part on future iterations.\n                //\n                //         oldHead v        v oldTail\n                //   oldKeys:  [0, 1, -, 3, 4, 5, 6]\n                //   newParts: [0, 2,  ,  ,  ,  , 6] <- stuck: update & move 2\n                //   newKeys:  [0, 2, 1, 4, 3, 7, 6]    into place and advance\n                //                                      newHead\n                //         newHead ^           ^ newTail\n                //\n                // * Note that for moves/insertions like the one above, a part\n                //   inserted at the head pointer is inserted before the\n                //   current `oldParts[oldHead]`, and a part inserted at the\n                //   tail pointer is inserted before `newParts[newTail+1]`. The\n                //   seeming asymmetry lies in the fact that new parts are\n                //   moved into place outside in, so to the right of the head\n                //   pointer are old parts, and to the right of the tail\n                //   pointer are new parts.\n                //\n                // * We always restart back from the top of the algorithm,\n                //   allowing matching and simple updates in place to\n                //   continue...\n                //\n                // * Example below: the head pointers once again match, so\n                //   simply update part 1 and record it in the `newParts`\n                //   array.  Last, advance both head pointers.\n                //\n                //         oldHead v        v oldTail\n                //   oldKeys:  [0, 1, -, 3, 4, 5, 6]\n                //   newParts: [0, 2, 1,  ,  ,  , 6] <- heads matched: update 1\n                //   newKeys:  [0, 2, 1, 4, 3, 7, 6]    and advance both oldHead\n                //                                      & newHead\n                //            newHead ^        ^ newTail\n                //\n                // * As mentioned above, items that were moved as a result of\n                //   being stuck (the final else clause in the code below) are\n                //   marked with null, so we always advance old pointers over\n                //   these so we're comparing the next actual old value on\n                //   either end.\n                //\n                // * Example below: `oldHead` is null (already placed in\n                //   newParts), so advance `oldHead`.\n                //\n                //            oldHead v     v oldTail\n                //   oldKeys:  [0, 1, -, 3, 4, 5, 6] <- old head already used:\n                //   newParts: [0, 2, 1,  ,  ,  , 6]    advance oldHead\n                //   newKeys:  [0, 2, 1, 4, 3, 7, 6]\n                //               newHead ^     ^ newTail\n                //\n                // * Note it's not critical to mark old parts as null when they\n                //   are moved from head to tail or tail to head, since they\n                //   will be outside the pointer range and never visited again.\n                //\n                // * Example below: Here the old tail key matches the new head\n                //   key, so the part at the `oldTail` position and move its\n                //   DOM to the new head position (before `oldParts[oldHead]`).\n                //   Last, advance `oldTail` and `newHead` pointers.\n                //\n                //               oldHead v  v oldTail\n                //   oldKeys:  [0, 1, -, 3, 4, 5, 6]\n                //   newParts: [0, 2, 1, 4,  ,  , 6] <- old tail matches new\n                //   newKeys:  [0, 2, 1, 4, 3, 7, 6]   head: update & move 4,\n                //                                     advance oldTail & newHead\n                //               newHead ^     ^ newTail\n                //\n                // * Example below: Old and new head keys match, so update the\n                //   old head part in place, and advance the `oldHead` and\n                //   `newHead` pointers.\n                //\n                //               oldHead v oldTail\n                //   oldKeys:  [0, 1, -, 3, 4, 5, 6]\n                //   newParts: [0, 2, 1, 4, 3,   ,6] <- heads match: update 3\n                //   newKeys:  [0, 2, 1, 4, 3, 7, 6]    and advance oldHead &\n                //                                      newHead\n                //                  newHead ^  ^ newTail\n                //\n                // * Once the new or old pointers move past each other then all\n                //   we have left is additions (if old list exhausted) or\n                //   removals (if new list exhausted). Those are handled in the\n                //   final while loops at the end.\n                //\n                // * Example below: `oldHead` exceeded `oldTail`, so we're done\n                //   with the main loop.  Create the remaining part and insert\n                //   it at the new head position, and the update is complete.\n                //\n                //                   (oldHead > oldTail)\n                //   oldKeys:  [0, 1, -, 3, 4, 5, 6]\n                //   newParts: [0, 2, 1, 4, 3, 7 ,6] <- create and insert 7\n                //   newKeys:  [0, 2, 1, 4, 3, 7, 6]\n                //                     newHead ^ newTail\n                //\n                // * Note that the order of the if/else clauses is not\n                //   important to the algorithm, as long as the null checks\n                //   come first (to ensure we're always working on valid old\n                //   parts) and that the final else clause comes last (since\n                //   that's where the expensive moves occur). The order of\n                //   remaining clauses is is just a simple guess at which cases\n                //   will be most common.\n                //\n                // * TODO(kschaaf) Note, we could calculate the longest\n                //   increasing subsequence (LIS) of old items in new position,\n                //   and only move those not in the LIS set. However that costs\n                //   O(nlogn) time and adds a bit more code, and only helps\n                //   make rare types of mutations require fewer moves. The\n                //   above handles removes, adds, reversal, swaps, and single\n                //   moves of contiguous items in linear time, in the minimum\n                //   number of moves. As the number of multiple moves where LIS\n                //   might help approaches a random shuffle, the LIS\n                //   optimization becomes less helpful, so it seems not worth\n                //   the code at this point. Could reconsider if a compelling\n                //   case arises.\n\n                while (oldHead <= oldTail && newHead <= newTail) {\n                  if (oldParts[oldHead] === null) {\n                    // `null` means old part at head has already been used\n                    // below; skip\n                    oldHead++;\n                  } else if (oldParts[oldTail] === null) {\n                    // `null` means old part at tail has already been used\n                    // below; skip\n                    oldTail--;\n                  } else if (oldKeys[oldHead] === newKeys[newHead]) {\n                    // Old head matches new head; update in place\n                    newParts[newHead] =\n                        updatePart(oldParts[oldHead]!, newValues[newHead]);\n                    oldHead++;\n                    newHead++;\n                  } else if (oldKeys[oldTail] === newKeys[newTail]) {\n                    // Old tail matches new tail; update in place\n                    newParts[newTail] =\n                        updatePart(oldParts[oldTail]!, newValues[newTail]);\n                    oldTail--;\n                    newTail--;\n                  } else if (oldKeys[oldHead] === newKeys[newTail]) {\n                    // Old head matches new tail; update and move to new tail\n                    newParts[newTail] =\n                        updatePart(oldParts[oldHead]!, newValues[newTail]);\n                    insertPartBefore(\n                        containerPart,\n                        oldParts[oldHead]!,\n                        newParts[newTail + 1]);\n                    oldHead++;\n                    newTail--;\n                  } else if (oldKeys[oldTail] === newKeys[newHead]) {\n                    // Old tail matches new head; update and move to new head\n                    newParts[newHead] =\n                        updatePart(oldParts[oldTail]!, newValues[newHead]);\n                    insertPartBefore(\n                        containerPart, oldParts[oldTail]!, oldParts[oldHead]!);\n                    oldTail--;\n                    newHead++;\n                  } else {\n                    if (newKeyToIndexMap === undefined) {\n                      // Lazily generate key-to-index maps, used for removals &\n                      // moves below\n                      newKeyToIndexMap = generateMap(newKeys, newHead, newTail);\n                      oldKeyToIndexMap = generateMap(oldKeys, oldHead, oldTail);\n                    }\n                    if (!newKeyToIndexMap.has(oldKeys[oldHead])) {\n                      // Old head is no longer in new list; remove\n                      removePart(oldParts[oldHead]!);\n                      oldHead++;\n                    } else if (!newKeyToIndexMap.has(oldKeys[oldTail])) {\n                      // Old tail is no longer in new list; remove\n                      removePart(oldParts[oldTail]!);\n                      oldTail--;\n                    } else {\n                      // Any mismatches at this point are due to additions or\n                      // moves; see if we have an old part we can reuse and move\n                      // into place\n                      const oldIndex = oldKeyToIndexMap.get(newKeys[newHead]);\n                      const oldPart =\n                          oldIndex !== undefined ? oldParts[oldIndex] : null;\n                      if (oldPart === null) {\n                        // No old part for this value; create a new one and\n                        // insert it\n                        const newPart = createAndInsertPart(\n                            containerPart, oldParts[oldHead]!);\n                        updatePart(newPart, newValues[newHead]);\n                        newParts[newHead] = newPart;\n                      } else {\n                        // Reuse old part\n                        newParts[newHead] =\n                            updatePart(oldPart, newValues[newHead]);\n                        insertPartBefore(\n                            containerPart, oldPart, oldParts[oldHead]!);\n                        // This marks the old part as having been used, so that\n                        // it will be skipped in the first two checks above\n                        oldParts[oldIndex as number] = null;\n                      }\n                      newHead++;\n                    }\n                  }\n                }\n                // Add parts for any remaining new values\n                while (newHead <= newTail) {\n                  // For all remaining additions, we insert before last new\n                  // tail, since old pointers are no longer valid\n                  const newPart =\n                      createAndInsertPart(containerPart, newParts[newTail + 1]);\n                  updatePart(newPart, newValues[newHead]);\n                  newParts[newHead++] = newPart;\n                }\n                // Remove any remaining unused old parts\n                while (oldHead <= oldTail) {\n                  const oldPart = oldParts[oldHead++];\n                  if (oldPart !== null) {\n                    removePart(oldPart);\n                  }\n                }\n                // Save order of new parts for next round\n                partListCache.set(containerPart, newParts);\n                keyListCache.set(containerPart, newKeys);\n              };\n            }) as\n    <T>(items: Iterable<T>,\n        keyFnOrTemplate: KeyFn<T>|ItemTemplate<T>,\n        template?: ItemTemplate<T>) => DirectiveFn;\n","/**\n * @license\n * Copyright (c) 2018 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at\n * http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at\n * http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at\n * http://polymer.github.io/PATENTS.txt\n */\n\nimport {AttributePart, directive, Part, PropertyPart} from '../lit-html.js';\n\n\nexport interface ClassInfo {\n  readonly [name: string]: string|boolean|number;\n}\n\n/**\n * Stores the ClassInfo object applied to a given AttributePart.\n * Used to unset existing values when a new ClassInfo object is applied.\n */\nconst classMapCache = new WeakMap();\n\n/**\n * A directive that applies CSS classes. This must be used in the `class`\n * attribute and must be the only part used in the attribute. It takes each\n * property in the `classInfo` argument and adds the property name to the\n * element's `classList` if the property value is truthy; if the property value\n * is falsey, the property name is removed from the element's `classList`. For\n * example\n * `{foo: bar}` applies the class `foo` if the value of `bar` is truthy.\n * @param classInfo {ClassInfo}\n */\nexport const classMap = directive((classInfo: ClassInfo) => (part: Part) => {\n  if (!(part instanceof AttributePart) || (part instanceof PropertyPart) ||\n      part.committer.name !== 'class' || part.committer.parts.length > 1) {\n    throw new Error(\n        'The `classMap` directive must be used in the `class` attribute ' +\n        'and must be the only part in the attribute.');\n  }\n\n  const {committer} = part;\n  const {element} = committer;\n\n  // handle static classes\n  if (!classMapCache.has(part)) {\n    element.className = committer.strings.join(' ');\n  }\n\n  const {classList} = element;\n\n  // remove old classes that no longer apply\n  const oldInfo = classMapCache.get(part);\n  for (const name in oldInfo) {\n    if (!(name in classInfo)) {\n      classList.remove(name);\n    }\n  }\n\n  // add new classes\n  for (const name in classInfo) {\n    const value = classInfo[name];\n    if (!oldInfo || value !== oldInfo[name]) {\n      // We explicitly want a loose truthy check here because\n      // it seems more convenient that '' and 0 are skipped.\n      const method = value ? 'add' : 'remove';\n      classList[method](name);\n    }\n  }\n  classMapCache.set(part, classInfo);\n});\n","/**\r\n * -------------------------------------------------------------------------------------------\r\n * Copyright (c) Microsoft Corporation.  All Rights Reserved.  Licensed under the MIT License.\r\n * See License in the project root for license information.\r\n * -------------------------------------------------------------------------------------------\r\n */\r\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nclass TaskSourceBase {\r\n    constructor(graph) {\r\n        this.graph = graph;\r\n    }\r\n    me() {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            return yield this.graph.getMe();\r\n        });\r\n    }\r\n}\r\nexport class PlannerTaskSource extends TaskSourceBase {\r\n    getMyDressers() {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            let plans = yield this.graph.planner_getAllMyPlans();\r\n            return plans.map(plan => ({ id: plan.id, title: plan.title }));\r\n        });\r\n    }\r\n    getSingleDresser(id) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            let plan = yield this.graph.planner_getSinglePlan(id);\r\n            return { id: plan.id, title: plan.title, _raw: plan };\r\n        });\r\n    }\r\n    getDrawersForDresser(id) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            let buckets = yield this.graph.planner_getBucketsForPlan(id);\r\n            return buckets.map(bucket => ({\r\n                id: bucket.id,\r\n                parentId: bucket.planId,\r\n                name: bucket.name,\r\n                _raw: bucket\r\n            }));\r\n        });\r\n    }\r\n    getAllTasksForDrawer(id) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            let tasks = yield this.graph.planner_getTasksForBucket(id);\r\n            return tasks.map(task => ({\r\n                id: task.id,\r\n                immediateParentId: task.bucketId,\r\n                topParentId: task.planId,\r\n                name: task.title,\r\n                eTag: task['@odata.etag'],\r\n                completed: task.percentComplete === 100,\r\n                dueDate: task.dueDateTime,\r\n                assignments: task.assignments,\r\n                _raw: task\r\n            }));\r\n        });\r\n    }\r\n    setTaskComplete(id, eTag) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            return yield this.graph.planner_setTaskComplete(id, eTag);\r\n        });\r\n    }\r\n    setTaskIncomplete(id, eTag) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            return yield this.graph.planner_setTaskIncomplete(id, eTag);\r\n        });\r\n    }\r\n    addTask(newTask) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            return yield this.graph.planner_addTask({\r\n                title: newTask.name,\r\n                bucketId: newTask.immediateParentId,\r\n                planId: newTask.topParentId,\r\n                dueDateTime: newTask.dueDate,\r\n                assignments: newTask.assignments\r\n            });\r\n        });\r\n    }\r\n    removeTask(id, eTag) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            return yield this.graph.planner_removeTask(id, eTag);\r\n        });\r\n    }\r\n}\r\nexport class TodoTaskSource extends TaskSourceBase {\r\n    getMyDressers() {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            let groups = yield this.graph.todo_getAllMyGroups();\r\n            return groups.map(group => ({\r\n                id: group.id,\r\n                secondaryId: group.groupKey,\r\n                title: group.name,\r\n                _raw: group\r\n            }));\r\n        });\r\n    }\r\n    getSingleDresser(id) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            let group = yield this.graph.todo_getSingleGroup(id);\r\n            return { id: group.id, secondaryId: group.groupKey, title: group.name, _raw: group };\r\n        });\r\n    }\r\n    getDrawersForDresser(id) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            let folders = yield this.graph.todo_getFoldersForGroup(id);\r\n            return folders.map(folder => ({\r\n                id: folder.id,\r\n                parentId: id,\r\n                name: folder.name,\r\n                _raw: folder\r\n            }));\r\n        });\r\n    }\r\n    getAllTasksForDrawer(id, parId) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            let tasks = yield this.graph.todo_getAllTasksForFolder(id);\r\n            return tasks.map(task => ({\r\n                id: task.id,\r\n                immediateParentId: id,\r\n                topParentId: parId,\r\n                name: task.subject,\r\n                eTag: task['@odata.etag'],\r\n                completed: !!task.completedDateTime,\r\n                dueDate: task.dueDateTime && task.dueDateTime.dateTime,\r\n                assignments: {},\r\n                _raw: task\r\n            }));\r\n        });\r\n    }\r\n    setTaskComplete(id, eTag) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            return yield this.graph.todo_setTaskComplete(id, eTag);\r\n        });\r\n    }\r\n    setTaskIncomplete(id, eTag) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            return yield this.graph.todo_setTaskIncomplete(id, eTag);\r\n        });\r\n    }\r\n    addTask(newTask) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            let task = {\r\n                subject: newTask.name,\r\n                assignedTo: plannerAssignmentsToTodoAssign(newTask.assignments),\r\n                parentFolderId: newTask.immediateParentId\r\n            };\r\n            if (newTask.dueDate)\r\n                task.dueDateTime = { dateTime: newTask.dueDate, timeZone: 'UTC' };\r\n            return yield this.graph.todo_addTask(task);\r\n        });\r\n    }\r\n    removeTask(id, eTag) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            return yield this.graph.todo_removeTask(id, eTag);\r\n        });\r\n    }\r\n}\r\nfunction plannerAssignmentsToTodoAssign(assignments) {\r\n    return 'John Doe';\r\n}\r\n//# sourceMappingURL=task-sources.js.map","// THIS FILE IS AUTO GENERATED\r\n// ANY CHANGES WILL BE LOST DURING BUILD\r\n// MODIFY THE .SCSS FILE INSTEAD\r\nimport { css } from 'lit-element';\r\nexport const styles = [\r\n    css `\n/**\n * -------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation.  All Rights Reserved.  Licensed under the MIT License.\n * See License in the project root for license information.\n * -------------------------------------------------------------------------------------------\n */\n/**\n * -------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation.  All Rights Reserved.  Licensed under the MIT License.\n * See License in the project root for license information.\n * -------------------------------------------------------------------------------------------\n */\n:host([hidden]) {\n  display: none; }\n\n:host {\n  display: block;\n  --default-font-family: \"Segoe UI\", \"Segoe UI Web (West European)\", \"Segoe UI\",\n    -apple-system, BlinkMacSystemFont, Roboto, \"Helvetica Neue\", sans-serif;\n  --theme-primary-color: #0078d7;\n  --theme-dark-color: #005a9e; }\n\n.ms-Icon {\n  display: inline-block;\n  font-family: \"FabricMDL2Icons\";\n  font-style: normal;\n  font-weight: normal;\n  font-size: 16px;\n  -moz-osx-font-smoothing: grayscale;\n  -webkit-font-smoothing: antialiased;\n  margin: 4px 0; }\n\n.ms-Icon--ChevronDown::before {\n  content: \"\\\\\\E70D\"; }\n\n.ms-Icon--ChevronUp::before {\n  content: \"\\\\\\E70E\"; }\n\n.ms-Icon--Contact::before {\n  content: \"\\\\\\E77B\"; }\n\n.ms-Icon--AddFriend::before {\n  content: \"\\\\\\E8FA\"; }\n\n.ms-Icon--OutlookLogoInverse::before {\n  content: \"\\\\\\EB6D\"; }\n\n/*\r\n  Your use of the content in the files referenced here is subject to the terms of the license at http://aka.ms/fabric-assets-license\r\n*/\nmgt-tasks,\n:host {\n  font-family: var(--default-font-family, \"Segoe UI\");\n  display: flex;\n  flex-direction: column; }\n\nmgt-tasks .TaskIcon,\n:host .TaskIcon {\n  font-family: 'FabricMDL2Icons';\n  text-align: center;\n  justify-self: center;\n  align-content: center;\n  align-self: center;\n  vertical-align: middle;\n  user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none; }\n\nmgt-tasks .Header,\n:host .Header {\n  padding: var(--tasks-header-padding, 0px 10px 0 10px);\n  margin: var(--tasks-header-margin, 0 0 10px 0); }\n\nmgt-tasks .TaskIcon.Divider,\n:host .TaskIcon.Divider {\n  vertical-align: initial;\n  margin: 0 12px;\n  font-size: 16px; }\n\nmgt-tasks .Header .PlannerTitle,\n:host .Header .PlannerTitle {\n  padding: var(--tasks-title-padding, 0px 0px 0px 0px);\n  display: flex;\n  align-items: center;\n  align-content: center; }\n\nmgt-tasks select,\n:host select {\n  font-family: var(--default-font-family, \"Segoe UI\");\n  border: none;\n  -moz-appearance: none;\n  -webkit-appearance: none;\n  cursor: pointer; }\n\nmgt-tasks select::-ms-expand,\n:host select::-ms-expand {\n  display: none; }\n\nmgt-tasks .PlannerTitle select,\n:host .PlannerTitle select,\nmgt-tasks .Header .PlannerTitle .PlanTitle,\n:host .Header .PlannerTitle .PlanTitle {\n  font-family: var(--default-font-family, \"Segoe UI\");\n  font-size: var(--tasks-plan-title-font-size, 1.1em);\n  padding: var(--tasks-plan-title-padding, 5px); }\n\nmgt-tasks .Header .AddBar,\n:host .Header .AddBar {\n  display: flex; }\n\nmgt-tasks .Header .AddBar .AddBarItem,\n:host .Header .AddBar .AddBarItem {\n  flex: 1 1 auto; }\n\nmgt-tasks .Header .NewTaskDue,\n:host .Header .NewTaskDue {\n  display: flex; }\n\nmgt-tasks .Header .NewTaskDue input,\n:host .Header .NewTaskDue input {\n  flex: 1 1 auto; }\n\nmgt-tasks .Header .TitleCont,\n:host .Header .TitleCont {\n  flex: 1 1 auto;\n  height: var(--tasks-new-button-height, 34px); }\n\nmgt-tasks .Header .NewTaskButton,\n:host .Header .NewTaskButton {\n  flex: 0 0 auto;\n  display: inline-block;\n  width: var(--task-new-button-width, 90px);\n  height: var(--tasks-new-button-height, 32px);\n  max-width: 90px;\n  min-width: 90px;\n  line-height: 200%;\n  text-align: center;\n  align-content: center;\n  align-self: center;\n  vertical-align: middle;\n  justify-self: flex-end;\n  background: var(--tasks-new-button-background, #0078d4);\n  border: var(--tasks-new-button-border, solid 1px rgba(0, 0, 0, 0));\n  color: var(--tasks-new-button-color, #ffffff);\n  user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n  cursor: pointer; }\n\nmgt-tasks .Header .NewTaskButton:hover,\n:host .Header .NewTaskButton:hover {\n  background: var(--tasks-new-button-hover-background, #0091ff); }\n\nmgt-tasks .Header .NewTaskButton:active,\n:host .Header .NewTaskButton:active {\n  background: var(--tasks-new-button-active-background, #00508d); }\n\nmgt-tasks .NewTaskName,\n:host .NewTaskName {\n  margin: var(--task-new-name-margin, 0 130px 0 0); }\n\nmgt-tasks .Task,\n:host .Task {\n  display: flex;\n  flex-direction: column;\n  margin: var(--task-margin, 0 10px 10px 10px);\n  padding: var(--task-padding, 0 0 0 0);\n  box-shadow: var(--task-box-shadow, 0px 2px 8px rgba(0, 0, 0, 0.092));\n  background: var(--task-background, #ffffff); }\n\nmgt-tasks .Task.NewTask,\n:host .Task.NewTask {\n  flex-direction: row;\n  margin: var(--task-new-margin, var(--task-margin, 0 10px 10px 10px)); }\n\nmgt-tasks .Task.NewTask .InnerTask,\n:host .Task.NewTask .InnerTask {\n  flex: 1 1 auto;\n  align-content: center;\n  vertical-align: middle;\n  margin: 0 0 0 12px; }\n\nmgt-tasks .Task.NewTask .TaskTitle,\n:host .Task.NewTask .TaskTitle {\n  display: flex; }\n\nmgt-tasks .Task.NewTask .TaskHeader,\n:host .Task.NewTask .TaskHeader {\n  margin: 0; }\n\nmgt-tasks .Task.NewTask .TaskTitle input,\n:host .Task.NewTask .TaskTitle input {\n  flex: 1 1 auto;\n  font-family: var(--default-font-family, \"Segoe UI\");\n  margin: var(--task-new-input-margin, 16px 0 0 0);\n  padding: var(--task-new-input-padding, 7px);\n  font-size: var(--task-new-input-font-size, 1.2em);\n  border: var(--task-new-border, none); }\n\nmgt-tasks .Task.NewTask .TaskTitle input:active,\n:host .Task.NewTask .TaskTitle input:active {\n  border: var(--task-new-input-active-border, none); }\n\nmgt-tasks .Task.NewTask hr,\n:host .Task.NewTask hr {\n  border: var(--task-new-line-border, solid 1px #d8d8d8);\n  margin: 0; }\n\nmgt-tasks .Task.NewTask .TaskDetails,\n:host .Task.NewTask .TaskDetails {\n  flex: 0 0 auto;\n  margin: 14px 0 14px 4px; }\n\nmgt-tasks .Task.NewTask .TaskDetails .TaskPeople label,\n:host .Task.NewTask .TaskDetails .TaskPeople label {\n  display: flex;\n  align-content: center;\n  align-items: center; }\n\nmgt-tasks .Task.NewTask .TaskDetails select,\n:host .Task.NewTask .TaskDetails select,\nmgt-tasks .Task.NewTask .TaskDetails input,\n:host .Task.NewTask .TaskDetails input {\n  font-family: var(--default-font-family, \"Segoe UI\");\n  border: var(--task-new-select-border, none); }\n\nmgt-tasks .Task.NewTask .TaskAddCont,\n:host .Task.NewTask .TaskAddCont {\n  flex: 0 0 auto;\n  display: flex;\n  align-content: center;\n  align-items: center; }\n\nmgt-tasks .Task.NewTask .TaskAddCont .TaskAdd,\n:host .Task.NewTask .TaskAddCont .TaskAdd,\nmgt-tasks .Task.NewTask .TaskAddCont .TaskCancel,\n:host .Task.NewTask .TaskAddCont .TaskCancel {\n  height: 100%;\n  max-width: 50px;\n  min-width: 50px;\n  flex: 1 1 auto;\n  justify-content: center;\n  align-items: center;\n  display: flex;\n  cursor: pointer;\n  color: white; }\n\nmgt-tasks .Task.NewTask .TaskAddCont .TaskAdd,\n:host .Task.NewTask .TaskAddCont .TaskAdd {\n  background: var(--task-new-add-button-background, #0078d4); }\n\nmgt-tasks .Task.NewTask .TaskAddCont .TaskCancel,\n:host .Task.NewTask .TaskAddCont .TaskCancel {\n  font-family: 'Segoe UI';\n  color: var(--task-new-cancel-button-color, gray);\n  margin: 0px 20px 0px 32px; }\n\nmgt-tasks .Task.NewTask .TaskAddCont.Disabled .TaskAdd,\n:host .Task.NewTask .TaskAddCont.Disabled .TaskAdd {\n  background: var(--task-new-add-button-disabled-background, #eaeaea);\n  cursor: default; }\n\nmgt-tasks .Task.NewTask .SelfAssign,\n:host .Task.NewTask .SelfAssign {\n  display: none; }\n\nmgt-tasks .Task.NewTask .FakeCheckBox,\n:host .Task.NewTask .FakeCheckBox {\n  width: 15px;\n  height: 15px;\n  cursor: pointer;\n  margin: 0 5px 0 5px; }\n\nmgt-tasks .Task.NewTask .FakeCheckBox::after,\n:host .Task.NewTask .FakeCheckBox::after {\n  font-family: 'FabricMDL2Icons';\n  content: '\\uE739'; }\n\nmgt-tasks .Task.NewTask input:checked,\n:host .Task.NewTask input:checked ~ .FakeCheckBox::after {\n  font-family: 'FabricMDL2Icons';\n  content: '\\uE73A'; }\n\nmgt-tasks .Task .TaskDetails,\n:host .Task .TaskDetails {\n  margin: 0 0 16px 20px;\n  color: var(--task-detail-color, #767676);\n  font-size: 0.9em;\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: flex-start;\n  justify-items: flex-start;\n  align-content: stretch;\n  align-items: stretch; }\n\nmgt-tasks .Task .TaskDetails input,\n:host .Task .TaskDetails input,\nmgt-tasks .Task .TaskDetails select,\n:host .Task .TaskDetails select {\n  color: var(--task-detail-color, #767676);\n  font-size: 0.9em; }\n\nmgt-tasks .Task.Complete,\n:host .Task.Complete {\n  background: var(--task-complete-background, #f6f6f6);\n  border-color: var(--task-complete-border, #e2e2e2); }\n\nmgt-tasks .Task.Complete .TaskHeader,\n:host .Task.Complete .TaskHeader {\n  color: var(--task-complete-header-color, #959595); }\n\nmgt-tasks .Task.Complete .TaskDetails,\n:host .Task.Complete .TaskDetails {\n  color: var(--task-complete-detail-color #b0b0b0); }\n\nmgt-tasks .Task.Complete .TaskDetails .TaskIcon,\n:host .Task.Complete .TaskDetails .TaskIcon {\n  color: var(--task-compete-detail-icon-color, #959595); }\n\nmgt-tasks .Task .TaskDetail,\n:host .Task .TaskDetail {\n  align-items: center;\n  align-content: center;\n  display: flex; }\n\nmgt-tasks .Task .TaskDetail svg,\n:host .Task .TaskDetail svg,\nmgt-tasks .Task .TaskDetail span,\n:host .Task .TaskDetail span {\n  vertical-align: middle; }\n\nmgt-tasks .Task .TaskDetail svg,\n:host .Task .TaskDetail svg {\n  margin-right: 4px; }\n\nmgt-tasks .Task .TaskDetail .TaskIcon,\n:host .Task .TaskDetail .TaskIcon {\n  margin: var(--task-detail-icon-margin 0 8px 0 0); }\n\nmgt-tasks .Task .TaskHeader,\n:host .Task .TaskHeader {\n  display: flex;\n  justify-content: center;\n  color: var(--task-header-color, #333333);\n  margin: var(--task-header-margin, 0 0 0 10px); }\n\nmgt-tasks .Task.ReadOnly .TaskCheckCont,\n:host .Task.ReadOnly .TaskCheckCont {\n  cursor: default; }\n\nmgt-tasks .Task .TaskCheckCont,\n:host .Task .TaskCheckCont {\n  font-family: 'FabricMDL2Icons';\n  display: inline-block;\n  width: 35px;\n  height: 35px;\n  margin: 5px;\n  text-align: center;\n  border-radius: 50%;\n  flex: 0 0 auto;\n  color: white;\n  cursor: pointer;\n  display: flex;\n  align-items: center;\n  align-content: center;\n  justify-items: center;\n  justify-content: center;\n  user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none; }\n\nmgt-tasks .Task .TaskCheckCont.Complete .TaskCheck,\n:host .Task .TaskCheckCont.Complete .TaskCheck {\n  background: #00b294;\n  border-color: #00b294;\n  display: flex;\n  align-items: center;\n  align-content: center;\n  justify-items: center;\n  justify-content: center; }\n\nmgt-tasks .Task .TaskCheck,\n:host .Task .TaskCheck {\n  flex: 1 1 auto;\n  font-family: 'FabricMDL2Icons';\n  display: inline-block;\n  width: 22px;\n  height: 22px;\n  text-align: center;\n  border-radius: 50%;\n  border: solid 1px #666666;\n  flex: 0 0 auto;\n  color: white;\n  display: flex;\n  align-items: center;\n  align-content: center;\n  justify-items: center;\n  justify-content: center;\n  user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none; }\n\nmgt-tasks .Task .TaskCheck.Loading,\n:host .Task .TaskCheck.Loading {\n  color: black;\n  animation: rotateIcon 2s infinite linear; }\n\nmgt-tasks .Task .TaskTitle,\n:host .Task .TaskTitle {\n  flex: 1 1 auto;\n  justify-self: center;\n  align-self: center;\n  align-content: center;\n  color: #333333; }\n\nmgt-tasks .Task .TaskDetails .TaskDetail,\n:host .Task .TaskDetails .TaskDetail {\n  margin: 0 20px 0 0; }\n\nmgt-tasks .Task .TaskDetails .TaskIcon,\n:host .Task .TaskDetails .TaskIcon {\n  color: #333333; }\n\nmgt-tasks .Task .TaskDetails mgt-person,\n:host .Task .TaskDetails mgt-person {\n  display: inline-block; }\n\nmgt-tasks .Task .TaskDelete,\n:host .Task .TaskDelete {\n  cursor: pointer;\n  user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n  margin: 0 10px 0 0; }\n\n@keyframes rotateIcon {\n  from {\n    transform: rotate(0deg); }\n  to {\n    transform: rotate(360deg); } }\n\nmgt-tasks .LoadingHeader,\n:host .LoadingHeader {\n  max-width: 90px;\n  width: 100%;\n  height: 20px;\n  background: #f2f2f2; }\n\nmgt-tasks .Task.LoadingTask .TaskCheckCont,\n:host .Task.LoadingTask .TaskCheckCont {\n  cursor: default; }\n\nmgt-tasks .Task.LoadingTask .TaskCheck,\n:host .Task.LoadingTask .TaskCheck {\n  background: #f2f2f2;\n  border-color: #f2f2f2;\n  cursor: default; }\n\nmgt-tasks .Task.LoadingTask .TaskHeader,\n:host .Task.LoadingTask .TaskHeader {\n  justify-content: flex-start;\n  justify-items: flex-start; }\n\nmgt-tasks .Task.LoadingTask .TaskTitle,\n:host .Task.LoadingTask .TaskTitle {\n  max-width: 370px;\n  width: 100%;\n  height: 20px;\n  background: #f2f2f2; }\n\nmgt-tasks .Task.LoadingTask .TaskDetailIcon,\n:host .Task.LoadingTask .TaskDetailIcon {\n  width: 16px;\n  height: 16px;\n  margin: 5px;\n  background: #f2f2f2; }\n\nmgt-tasks .Task.LoadingTask .TaskDetail,\n:host .Task.LoadingTask .TaskDetail {\n  margin-right: 8px; }\n\nmgt-tasks .Task.LoadingTask .TaskDetailName,\n:host .Task.LoadingTask .TaskDetailName {\n  width: 81px;\n  height: 10px;\n  background: #f2f2f2; }\n\n`\r\n];\r\n//# sourceMappingURL=mgt-tasks-css.js.map","// THIS FILE IS AUTO GENERATED\r\n// ANY CHANGES WILL BE LOST DURING BUILD\r\n// MODIFY THE .SCSS FILE INSTEAD\r\nimport { css } from 'lit-element';\r\nexport const styles = [\r\n    css `\n/**\n * -------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation.  All Rights Reserved.  Licensed under the MIT License.\n * See License in the project root for license information.\n * -------------------------------------------------------------------------------------------\n */\n:host,\nmgt-arrow-options {\n  position: relative;\n  font-family: 'Segoe UI';\n  margin: 0 0 12px 0; }\n\n:host .ArrowIcon,\nmgt-arrow-options .ArrowIcon {\n  font-family: 'FabricMDL2Icons';\n  margin: 0 0 0 20px;\n  user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none; }\n\n:host .Header,\nmgt-arrow-options .Header {\n  cursor: pointer; }\n\n:host .Header:hover,\nmgt-arrow-options .Header:hover {\n  color: var(--theme-primary-color);\n  background-color: var(--background-color--hover); }\n\n:host .Menu,\nmgt-arrow-options .Menu {\n  position: absolute;\n  left: 0;\n  box-shadow: rgba(0, 0, 0, 0.08) 0px 0px 40px 5px;\n  background: #ffffff;\n  z-index: 1;\n  display: none;\n  color: black;\n  white-space: nowrap; }\n\n:host .Menu.Open,\nmgt-arrow-options .Menu.Open {\n  display: block; }\n\n:host .MenuOption,\nmgt-arrow-options .MenuOption {\n  padding: 20px;\n  cursor: pointer;\n  user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n  display: flex;\n  align-items: center;\n  justify-content: stretch;\n  justify-items: stretch; }\n\n:host .MenuOption:first,\nmgt-arrow-options .MenuOption:first {\n  padding: 12px 20px 20px 20px; }\n\n:host .MenuOption:hover,\nmgt-arrow-options .MenuOption:hover {\n  background: #c0c0c0; }\n\n:host .MenuOption:active,\nmgt-arrow-options .MenuOption:active {\n  background: #d8d8d8; }\n\n:host .MenuOptionCheck,\nmgt-arrow-options .MenuOptionCheck {\n  font-family: 'FabricMDL2Icons';\n  color: rgba(0, 0, 0, 0);\n  margin-right: 10px; }\n\n:host .MenuOptionCheck.CurrentValue,\nmgt-arrow-options .MenuOptionCheck.CurrentValue {\n  color: #0078d4; }\n\n`\r\n];\r\n//# sourceMappingURL=mgt-arrow-options-css.js.map","/**\r\n * -------------------------------------------------------------------------------------------\r\n * Copyright (c) Microsoft Corporation.  All Rights Reserved.  Licensed under the MIT License.\r\n * See License in the project root for license information.\r\n * -------------------------------------------------------------------------------------------\r\n */\r\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nimport { customElement, html, property } from 'lit-element';\r\nimport { classMap } from 'lit-html/directives/class-map';\r\nimport { MgtBaseComponent } from '../../baseComponent';\r\nimport { styles } from './mgt-arrow-options-css';\r\n/*\r\n  Ok, the name here deserves a bit of explanation,\r\n  This component originally had a built-in arrow icon,\r\n  The problem came when you wanted to use a different symbol,\r\n  So the arrow was removed, but the name was already set everywhere.\r\n  - benotter\r\n */\r\nlet MgtArrowOptions = class MgtArrowOptions extends MgtBaseComponent {\r\n    constructor() {\r\n        super();\r\n        this.open = false;\r\n        this.value = '';\r\n        this.options = {};\r\n        this._clickHandler = (e) => (this.open = false);\r\n    }\r\n    static get styles() {\r\n        return styles;\r\n    }\r\n    connectedCallback() {\r\n        super.connectedCallback();\r\n        window.addEventListener('click', this._clickHandler);\r\n    }\r\n    disconnectedCallback() {\r\n        window.removeEventListener('click', this._clickHandler);\r\n        super.disconnectedCallback();\r\n    }\r\n    onHeaderClick(e) {\r\n        let keys = Object.keys(this.options);\r\n        if (keys.length > 1) {\r\n            e.preventDefault();\r\n            e.stopPropagation();\r\n            this.open = !this.open;\r\n        }\r\n    }\r\n    render() {\r\n        return html `\n      <span class=\"Header\" @click=${e => this.onHeaderClick(e)}>\n        <span class=\"CurrentValue\">${this.value}</span>\n      </span>\n      <div class=${classMap({ Menu: true, Open: this.open, Closed: !this.open })}>\n        ${this.getMenuOptions()}\n      </div>\n    `;\r\n    }\r\n    getMenuOptions() {\r\n        let keys = Object.keys(this.options);\r\n        let funcs = this.options;\r\n        return keys.map(opt => html `\n        <div\n          class=\"MenuOption\"\n          @click=\"${(e) => {\r\n            this.open = false;\r\n            funcs[opt](e);\r\n        }}\"\n        >\n          <span class=${classMap({ MenuOptionCheck: true, CurrentValue: this.value === opt })}>\n            \\uE73E\n          </span>\n          <span class=\"MenuOptionName\">${opt}</span>\n        </div>\n      `);\r\n    }\r\n};\r\n__decorate([\r\n    property({ type: Boolean })\r\n], MgtArrowOptions.prototype, \"open\", void 0);\r\n__decorate([\r\n    property({ type: String })\r\n], MgtArrowOptions.prototype, \"value\", void 0);\r\n__decorate([\r\n    property({ type: Object })\r\n], MgtArrowOptions.prototype, \"options\", void 0);\r\nMgtArrowOptions = __decorate([\r\n    customElement('mgt-arrow-options')\r\n], MgtArrowOptions);\r\nexport { MgtArrowOptions };\r\n//# sourceMappingURL=mgt-arrow-options.js.map","// THIS FILE IS AUTO GENERATED\r\n// ANY CHANGES WILL BE LOST DURING BUILD\r\n// MODIFY THE .SCSS FILE INSTEAD\r\nimport { css } from 'lit-element';\r\nexport const styles = [\r\n    css `\n/**\n * -------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation.  All Rights Reserved.  Licensed under the MIT License.\n * See License in the project root for license information.\n * -------------------------------------------------------------------------------------------\n */\n/**\n * -------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation.  All Rights Reserved.  Licensed under the MIT License.\n * See License in the project root for license information.\n * -------------------------------------------------------------------------------------------\n */\n:host([hidden]) {\n  display: none; }\n\n:host {\n  display: block;\n  --default-font-family: \"Segoe UI\", \"Segoe UI Web (West European)\", \"Segoe UI\",\n    -apple-system, BlinkMacSystemFont, Roboto, \"Helvetica Neue\", sans-serif;\n  --theme-primary-color: #0078d7;\n  --theme-dark-color: #005a9e; }\n\n.ms-Icon {\n  display: inline-block;\n  font-family: \"FabricMDL2Icons\";\n  font-style: normal;\n  font-weight: normal;\n  font-size: 16px;\n  -moz-osx-font-smoothing: grayscale;\n  -webkit-font-smoothing: antialiased;\n  margin: 4px 0; }\n\n.ms-Icon--ChevronDown::before {\n  content: \"\\\\\\E70D\"; }\n\n.ms-Icon--ChevronUp::before {\n  content: \"\\\\\\E70E\"; }\n\n.ms-Icon--Contact::before {\n  content: \"\\\\\\E77B\"; }\n\n.ms-Icon--AddFriend::before {\n  content: \"\\\\\\E8FA\"; }\n\n.ms-Icon--OutlookLogoInverse::before {\n  content: \"\\\\\\EB6D\"; }\n\n/*\r\n  Your use of the content in the files referenced here is subject to the terms of the license at http://aka.ms/fabric-assets-license\r\n*/\n:host,\nmgt-dot-options {\n  font-family: 'Segoe UI'; }\n\n:host .DotIcon,\nmgt-dot-options .DotIcon {\n  display: inline-block;\n  font-family: 'FabricMDL2Icons';\n  min-width: 30px;\n  min-height: 30px; }\n\n:host .Menu,\nmgt-dot-options .Menu {\n  position: absolute;\n  box-shadow: rgba(0, 0, 0, 0.08) 0px 0px 40px 5px;\n  background: #ffffff;\n  z-index: 1;\n  display: none;\n  color: black;\n  white-space: nowrap;\n  transform: translateX(-50px); }\n\n:host .DotMenu.Open .Menu,\nmgt-dot-options .DotMenu.Open .Menu {\n  display: block; }\n\n:host .DotMenu .DotItem,\nmgt-dot-options .DotMenu .DotItem {\n  direction: ltr;\n  text-align: left;\n  padding: 10px 10px 8px 10px; }\n\n:host .DotMenu .DotItem:hover,\nmgt-dot-options .DotMenu .DotItem:hover {\n  background: #c0c0c0; }\n\n:host .DotMenu .DotItem:active,\nmgt-dot-options .DotMenu .DotItem:active {\n  background: #d8d8d8; }\n\n:host .DotMenu .DotItemName,\nmgt-dot-options .DotMenu .DotItemName {\n  direction: rtl; }\n\n`\r\n];\r\n//# sourceMappingURL=mgt-dot-options-css.js.map","/**\r\n * -------------------------------------------------------------------------------------------\r\n * Copyright (c) Microsoft Corporation.  All Rights Reserved.  Licensed under the MIT License.\r\n * See License in the project root for license information.\r\n * -------------------------------------------------------------------------------------------\r\n */\r\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nimport { customElement, html, property } from 'lit-element';\r\nimport { classMap } from 'lit-html/directives/class-map';\r\nimport { MgtBaseComponent } from '../../baseComponent';\r\nimport { styles } from './mgt-dot-options-css';\r\nlet MgtDotOptions = class MgtDotOptions extends MgtBaseComponent {\r\n    constructor() {\r\n        super();\r\n        this.open = false;\r\n        this.options = null;\r\n        this._clickHandler = null;\r\n        this._clickHandler = (e) => (this.open = false);\r\n    }\r\n    static get styles() {\r\n        return styles;\r\n    }\r\n    connectedCallback() {\r\n        super.connectedCallback();\r\n        window.addEventListener('click', this._clickHandler);\r\n    }\r\n    disconnectedCallback() {\r\n        window.removeEventListener('click', this._clickHandler);\r\n        super.disconnectedCallback();\r\n    }\r\n    onDotClick(e) {\r\n        e.preventDefault();\r\n        e.stopPropagation();\r\n        this.open = !this.open;\r\n    }\r\n    render() {\r\n        return html `\n      <div class=${classMap({ DotMenu: true, Open: this.open })} @click=${e => this.onDotClick(e)}>\n        <span class=\"DotIcon\">\\uE712</span>\n        <div class=\"Menu\">\n          ${Object.keys(this.options).map(prop => this.getMenuOption(prop, this.options[prop]))}\n        </div>\n      </div>\n    `;\r\n    }\r\n    getMenuOption(name, click) {\r\n        return html `\n      <div\n        class=\"DotItem\"\n        @click=\"${e => {\r\n            e.preventDefault();\r\n            e.stopPropagation();\r\n            click(e);\r\n            this.open = false;\r\n        }}\"\n      >\n        <span class=\"DotItemName\">\n          ${name}\n        </span>\n      </div>\n    `;\r\n    }\r\n};\r\n__decorate([\r\n    property({ type: Boolean })\r\n], MgtDotOptions.prototype, \"open\", void 0);\r\n__decorate([\r\n    property({ type: Object })\r\n], MgtDotOptions.prototype, \"options\", void 0);\r\nMgtDotOptions = __decorate([\r\n    customElement('mgt-dot-options')\r\n], MgtDotOptions);\r\nexport { MgtDotOptions };\r\n//# sourceMappingURL=mgt-dot-options.js.map","/**\r\n * -------------------------------------------------------------------------------------------\r\n * Copyright (c) Microsoft Corporation.  All Rights Reserved.  Licensed under the MIT License.\r\n * See License in the project root for license information.\r\n * -------------------------------------------------------------------------------------------\r\n */\r\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nimport { customElement, html, property } from 'lit-element';\r\nimport { repeat } from 'lit-html/directives/repeat';\r\nimport { classMap } from 'lit-html/directives/class-map';\r\nimport { MgtBaseComponent } from '../baseComponent';\r\nimport { Providers } from '../../Providers';\r\nimport { ProviderState } from '../../providers/IProvider';\r\nimport { getShortDateString } from '../../utils/utils';\r\nimport { PlannerTaskSource, TodoTaskSource } from './task-sources';\r\nimport { styles } from './mgt-tasks-css';\r\nimport '../mgt-person/mgt-person';\r\nimport '../sub-components/mgt-arrow-options/mgt-arrow-options';\r\nimport '../sub-components/mgt-dot-options/mgt-dot-options';\r\n// Strings and Resources for different task contexts\r\nconst TASK_RES = {\r\n    todo: {\r\n        DUE_DATE_TIME: 'T17:00',\r\n        BASE_SELF_ASSIGNED: 'All Tasks',\r\n        PLANS_SELF_ASSIGNED: 'All groups',\r\n        BUCKETS_SELF_ASSIGNED: 'All Folders',\r\n        PLAN_NOT_FOUND: 'Group not found',\r\n        BUCKET_NOT_FOUND: 'Folder not found'\r\n    },\r\n    planner: {\r\n        DUE_DATE_TIME: 'T17:00',\r\n        BASE_SELF_ASSIGNED: 'Assigned to Me',\r\n        PLANS_SELF_ASSIGNED: 'All Plans',\r\n        BUCKETS_SELF_ASSIGNED: 'All Buckets',\r\n        PLAN_NOT_FOUND: 'Plan not found',\r\n        BUCKET_NOT_FOUND: 'Bucket not found'\r\n    }\r\n};\r\nlet MgtTasks = class MgtTasks extends MgtBaseComponent {\r\n    constructor() {\r\n        super();\r\n        /**\r\n         * readOnly property, determines if tasks are un-editable\r\n         * @type {boolean}\r\n         */\r\n        this.readOnly = false;\r\n        /**\r\n         * data-source property, determines which task source is loaded, either planner or todo\r\n         * @type {string}\r\n         */\r\n        this.dataSource = 'planner';\r\n        /**\r\n         * target-id property, allows developer to define location of task component\r\n         * @type {string}\r\n         */\r\n        this.targetId = null;\r\n        /**\r\n         * target-bucket-id property, allows developer to define specific bucket id\r\n         * @type {string}\r\n         */\r\n        this.targetBucketId = null;\r\n        this.initialId = null;\r\n        this.initialBucketId = null;\r\n        this.hideHeader = false;\r\n        /**\r\n         * _showNewTask property, determines if tasks needs to show new task\r\n         * @type {boolean}\r\n         */\r\n        this._showNewTask = false;\r\n        /**\r\n         * _newTaskBeingAdded property, determines that new task is currently being added\r\n         * @type {boolean}\r\n         */\r\n        this._newTaskBeingAdded = false;\r\n        /**\r\n         * _newTaskSelfAssigned property, determines if user assigned task to themselves\r\n         * @type {boolean}\r\n         */\r\n        this._newTaskSelfAssigned = true;\r\n        /**\r\n         * _newTaskName property, contains new user created task name\r\n         * @type {string}\r\n         */\r\n        this._newTaskName = '';\r\n        /**\r\n         * _newTaskDueDate property, contains user chosen date for new task due date\r\n         * @type {string}\r\n         */\r\n        this._newTaskDueDate = '';\r\n        /**\r\n         * _newTaskDresserId property, contains id for new user created task??\r\n         * @type {string}\r\n         */\r\n        this._newTaskDresserId = '';\r\n        /**\r\n         * _showNewTask property, determines if tasks needs to render new task\r\n         * @type {string}\r\n         */\r\n        this._newTaskDrawerId = '';\r\n        this._dressers = [];\r\n        this._drawers = [];\r\n        /**\r\n         * _tasks property, contains all user tasks\r\n         * @type {string}\r\n         */\r\n        this._tasks = [];\r\n        this._currentTargetDresser = this.res.BASE_SELF_ASSIGNED;\r\n        this._currentSubTargetDresser = this.res.PLANS_SELF_ASSIGNED;\r\n        this._currentTargetDrawer = this.res.BUCKETS_SELF_ASSIGNED;\r\n        /**\r\n         * _hiddenTasks property, used for filter if task has been deleted\r\n         * @type {string[]}\r\n         */\r\n        this._hiddenTasks = [];\r\n        /**\r\n         * _loadingTasks property, determines if tasks are in loading state\r\n         * @type {string[]}\r\n         */\r\n        this._loadingTasks = [];\r\n        this._inTaskLoad = false;\r\n        this._hasDoneInitialLoad = false;\r\n        this._todoDefaultSet = false;\r\n        this._me = null;\r\n        this._providerUpdateCallback = () => this.loadTasks();\r\n    }\r\n    get res() {\r\n        switch (this.dataSource) {\r\n            case 'todo':\r\n                return TASK_RES.todo;\r\n            case 'planner':\r\n            default:\r\n                return TASK_RES.planner;\r\n        }\r\n    }\r\n    static get styles() {\r\n        return styles;\r\n    }\r\n    connectedCallback() {\r\n        super.connectedCallback();\r\n        Providers.onProviderUpdated(this._providerUpdateCallback);\r\n    }\r\n    disconnectedCallback() {\r\n        Providers.removeProviderUpdatedListener(this._providerUpdateCallback);\r\n        super.disconnectedCallback();\r\n    }\r\n    firstUpdated() {\r\n        if (this.initialId && (!this._currentTargetDresser || this.isDefault(this._currentTargetDresser))) {\r\n            if (this.dataSource === 'planner') {\r\n                this._currentTargetDresser = this.initialId;\r\n            }\r\n            else if (this.dataSource === 'todo') {\r\n                this._currentTargetDrawer = this.initialId;\r\n            }\r\n        }\r\n        if (this.dataSource === 'planner' &&\r\n            this.initialBucketId &&\r\n            (!this._currentTargetDrawer || this.isDefault(this._currentTargetDrawer))) {\r\n            this._currentTargetDrawer = this.initialBucketId;\r\n        }\r\n        this.loadTasks();\r\n    }\r\n    attributeChangedCallback(name, oldVal, newVal) {\r\n        super.attributeChangedCallback(name, oldVal, newVal);\r\n        if (name === 'data-source') {\r\n            if (this.dataSource === 'planner') {\r\n                this._currentTargetDresser = this.initialId || this.res.BASE_SELF_ASSIGNED;\r\n                this._currentTargetDrawer = this.initialBucketId || this.res.BUCKETS_SELF_ASSIGNED;\r\n            }\r\n            else if (this.dataSource === 'todo') {\r\n                this._currentTargetDresser = this.res.BASE_SELF_ASSIGNED;\r\n                this._currentTargetDrawer = this.initialId || this.res.BUCKETS_SELF_ASSIGNED;\r\n            }\r\n            this._newTaskSelfAssigned = false;\r\n            this._newTaskDrawerId = '';\r\n            this._newTaskDresserId = '';\r\n            this._newTaskDueDate = '';\r\n            this._newTaskName = '';\r\n            this._newTaskBeingAdded = false;\r\n            this._tasks = [];\r\n            this._drawers = [];\r\n            this._dressers = [];\r\n            this._hasDoneInitialLoad = false;\r\n            this._inTaskLoad = false;\r\n            this._todoDefaultSet = false;\r\n            this.loadTasks();\r\n        }\r\n    }\r\n    loadTasks() {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            let ts = this.getTaskSource();\r\n            if (!ts)\r\n                return;\r\n            this._inTaskLoad = true;\r\n            this._me = yield ts.me();\r\n            if (this.targetId) {\r\n                if (this.dataSource === 'todo') {\r\n                    yield this._loadTargetTodoTasks(ts);\r\n                }\r\n                else {\r\n                    yield this._loadTargetPlannerTasks(ts);\r\n                }\r\n            }\r\n            else {\r\n                yield this._loadAllTasks(ts);\r\n            }\r\n            this._inTaskLoad = false;\r\n            if (!this._hasDoneInitialLoad)\r\n                this._hasDoneInitialLoad = true;\r\n        });\r\n    }\r\n    _loadTargetTodoTasks(ts) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            let dressers = yield ts.getMyDressers();\r\n            let drawers = (yield Promise.all(dressers.map(dresser => ts.getDrawersForDresser(dresser.id)))).reduce((cur, ret) => [...cur, ...ret], []);\r\n            let tasks = (yield Promise.all(drawers.map(drawer => ts.getAllTasksForDrawer(drawer.id, drawer.parentId)))).reduce((cur, ret) => [...cur, ...ret], []);\r\n            this._tasks = tasks;\r\n            this._drawers = drawers;\r\n            this._dressers = dressers;\r\n            this._currentTargetDresser = this.res.BASE_SELF_ASSIGNED;\r\n            this._currentTargetDrawer = this.targetId;\r\n        });\r\n    }\r\n    _loadTargetPlannerTasks(ts) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            let dresser = yield ts.getSingleDresser(this.targetId);\r\n            let drawers = yield ts.getDrawersForDresser(dresser.id);\r\n            let tasks = (yield Promise.all(drawers.map(drawer => ts.getAllTasksForDrawer(drawer.id, drawer.parentId)))).reduce((cur, ret) => [...cur, ...ret], []);\r\n            this._tasks = tasks;\r\n            this._drawers = drawers;\r\n            this._dressers = [dresser];\r\n            this._currentTargetDresser = this.targetId;\r\n            if (this.targetBucketId)\r\n                this._currentTargetDrawer = this.targetBucketId;\r\n        });\r\n    }\r\n    _loadAllTasks(ts) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            let dressers = yield ts.getMyDressers();\r\n            let drawers = (yield Promise.all(dressers.map(dresser => ts.getDrawersForDresser(dresser.id)))).reduce((cur, ret) => [...cur, ...ret], []);\r\n            if (!this.initialId && this.dataSource === 'todo' && !this._todoDefaultSet) {\r\n                this._todoDefaultSet = true;\r\n                let defaultDrawer = drawers.find(d => d._raw.isDefaultFolder);\r\n                if (defaultDrawer)\r\n                    this._currentTargetDrawer = defaultDrawer.id;\r\n            }\r\n            let tasks = (yield Promise.all(drawers.map(drawer => ts.getAllTasksForDrawer(drawer.id, drawer.parentId)))).reduce((cur, ret) => [...cur, ...ret], []);\r\n            this._tasks = tasks;\r\n            this._drawers = drawers;\r\n            this._dressers = dressers;\r\n        });\r\n    }\r\n    addTask(name, dueDateTime, topParentId, immediateParentId, assignments = {}) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            let ts = this.getTaskSource();\r\n            if (!ts)\r\n                return;\r\n            let newTask = {\r\n                topParentId,\r\n                immediateParentId,\r\n                name,\r\n                assignments\r\n            };\r\n            if (dueDateTime && dueDateTime !== 'T')\r\n                newTask.dueDate = this.getDateTimeOffset(dueDateTime + 'Z');\r\n            this._newTaskBeingAdded = true;\r\n            yield ts.addTask(newTask);\r\n            yield this.loadTasks();\r\n            this._newTaskBeingAdded = false;\r\n            this.closeNewTask(null);\r\n        });\r\n    }\r\n    completeTask(task) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            let ts = this.getTaskSource();\r\n            if (!ts)\r\n                return;\r\n            this._loadingTasks = [...this._loadingTasks, task.id];\r\n            yield ts.setTaskComplete(task.id, task.eTag);\r\n            yield this.loadTasks();\r\n            this._loadingTasks = this._loadingTasks.filter(id => id !== task.id);\r\n        });\r\n    }\r\n    uncompleteTask(task) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            let ts = this.getTaskSource();\r\n            if (!ts)\r\n                return;\r\n            this._loadingTasks = [...this._loadingTasks, task.id];\r\n            yield ts.setTaskIncomplete(task.id, task.eTag);\r\n            yield this.loadTasks();\r\n            this._loadingTasks = this._loadingTasks.filter(id => id !== task.id);\r\n        });\r\n    }\r\n    removeTask(task) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            let ts = this.getTaskSource();\r\n            if (!ts)\r\n                return;\r\n            this._hiddenTasks = [...this._hiddenTasks, task.id];\r\n            yield ts.removeTask(task.id, task.eTag);\r\n            yield this.loadTasks();\r\n            this._hiddenTasks = this._hiddenTasks.filter(id => id !== task.id);\r\n        });\r\n    }\r\n    openNewTask(e) {\r\n        this._showNewTask = true;\r\n    }\r\n    closeNewTask(e) {\r\n        this._showNewTask = false;\r\n        this._newTaskSelfAssigned = false;\r\n        this._newTaskDueDate = '';\r\n        this._newTaskName = '';\r\n        this._newTaskDresserId = '';\r\n    }\r\n    render() {\r\n        let tasks = this._tasks\r\n            .filter(task => this.taskPlanFilter(task))\r\n            .filter(task => this.taskBucketPlanFilter(task))\r\n            .filter(task => !this._hiddenTasks.includes(task.id));\r\n        let loadingTask = this._inTaskLoad && !this._hasDoneInitialLoad ? this.renderLoadingTask() : null;\r\n        let header;\r\n        if (!this.hideHeader) {\r\n            header = html `\n        <div class=\"Header\">\n          <span class=\"PlannerTitle\">\n            ${this.renderPlanOptions()}\n          </span>\n        </div>\n      `;\r\n        }\r\n        return html `\n      ${header}\n      <div class=\"Tasks\">\n        ${this._showNewTask ? this.renderNewTaskHtml() : null} ${loadingTask}\n        ${repeat(tasks, task => task.id, task => this.renderTaskHtml(task))}\n      </div>\n    `;\r\n    }\r\n    onAddTaskClick(e) {\r\n        if (!this._newTaskBeingAdded &&\r\n            this._newTaskName &&\r\n            (!this.isDefault(this._currentTargetDresser) || this._newTaskDresserId))\r\n            this.addTask(this._newTaskName, this._newTaskDueDate ? this._newTaskDueDate + this.res.DUE_DATE_TIME : null, this.isDefault(this._currentTargetDresser) ? this._newTaskDresserId : this._currentTargetDresser, this.isDefault(this._currentTargetDrawer) ? this._newTaskDrawerId : this._currentTargetDrawer, this._newTaskSelfAssigned\r\n                ? {\r\n                    [this._me.id]: {\r\n                        '@odata.type': 'microsoft.graph.plannerAssignment',\r\n                        orderHint: 'string !'\r\n                    }\r\n                }\r\n                : void 0);\r\n    }\r\n    renderPlanOptions() {\r\n        let p = Providers.globalProvider;\r\n        if (!p || p.state !== ProviderState.SignedIn)\r\n            return null;\r\n        if (this._inTaskLoad && !this._hasDoneInitialLoad)\r\n            return html `\n        <span class=\"LoadingHeader\"></span>\n      `;\r\n        let addButton = this.readOnly || this._showNewTask\r\n            ? null\r\n            : html `\n            <span\n              class=\"AddBarItem NewTaskButton\"\n              @click=\"${(e) => {\r\n                if (!this._showNewTask)\r\n                    this.openNewTask(e);\r\n                else\r\n                    this.closeNewTask(e);\r\n            }}\"\n            >\n              <span class=\"TaskIcon\">\\uE710</span>\n              <span>Add</span>\n            </span>\n          `;\r\n        if (this.dataSource === 'planner') {\r\n            let currentDresser = this._dressers.find(d => d.id === this._currentTargetDresser) || {\r\n                title: this.res.BASE_SELF_ASSIGNED\r\n            };\r\n            let dresserOpts = {\r\n                [this.res.BASE_SELF_ASSIGNED]: e => {\r\n                    this._currentTargetDresser = this.res.BASE_SELF_ASSIGNED;\r\n                    this._currentTargetDrawer = this.res.BUCKETS_SELF_ASSIGNED;\r\n                }\r\n            };\r\n            for (let dresser of this._dressers) {\r\n                dresserOpts[dresser.title] = e => {\r\n                    this._currentTargetDresser = dresser.id;\r\n                    this._currentTargetDrawer = this.res.BUCKETS_SELF_ASSIGNED;\r\n                };\r\n            }\r\n            let dresserSelect = this.targetId\r\n                ? html `\n            <span class=\"PlanTitle\">\n              ${this._dressers[0] && this._dressers[0].title}\n            </span>\n          `\r\n                : html `\n            <mgt-arrow-options .options=\"${dresserOpts}\" .value=\"${currentDresser.title}\"></mgt-arrow-options>\n          `;\r\n            let divider = this.isDefault(this._currentTargetDresser)\r\n                ? null\r\n                : html `\n            <span class=\"TaskIcon Divider\">/</span>\n          `;\r\n            let currentDrawer = this._drawers.find(d => d.id === this._currentTargetDrawer) || {\r\n                name: this.res.BUCKETS_SELF_ASSIGNED\r\n            };\r\n            let drawerOpts = {\r\n                [this.res.BUCKETS_SELF_ASSIGNED]: e => {\r\n                    this._currentTargetDrawer = this.res.BUCKETS_SELF_ASSIGNED;\r\n                }\r\n            };\r\n            for (let drawer of this._drawers.filter(d => d.parentId === this._currentTargetDresser)) {\r\n                drawerOpts[drawer.name] = e => {\r\n                    this._currentTargetDrawer = drawer.id;\r\n                };\r\n            }\r\n            let drawerSelect = this.targetBucketId\r\n                ? html `\n            <span class=\"PlanTitle\">\n              ${this._drawers[0] && this._drawers[0].name}\n            </span>\n          `\r\n                : html `\n            <mgt-arrow-options .options=\"${drawerOpts}\" .value=\"${currentDrawer.name}\"></mgt-arrow-options>\n          `;\r\n            return html `\n        <span class=\"TitleCont\">\n          ${dresserSelect} ${divider} ${this.isDefault(this._currentTargetDresser) ? null : drawerSelect}\n        </span>\n        ${addButton}\n      `;\r\n        }\r\n        else {\r\n            let drawer = this._drawers.find(d => d.id === this.targetId) || { name: this.res.BUCKETS_SELF_ASSIGNED };\r\n            let currentDrawer = this._drawers.find(d => d.id === this._currentTargetDrawer) || {\r\n                name: this.res.BUCKETS_SELF_ASSIGNED\r\n            };\r\n            let drawerOpts = {};\r\n            for (let drawer of this._drawers)\r\n                drawerOpts[drawer.name] = e => {\r\n                    this._currentTargetDrawer = drawer.id;\r\n                };\r\n            drawerOpts[this.res.BUCKETS_SELF_ASSIGNED] = e => {\r\n                this._currentTargetDrawer = this.res.BUCKETS_SELF_ASSIGNED;\r\n            };\r\n            let drawerSelect = this.targetId\r\n                ? html `\n            <span class=\"PlanTitle\">\n              ${drawer.name}\n            </span>\n          `\r\n                : html `\n            <mgt-arrow-options .value=\"${currentDrawer.name}\" .options=\"${drawerOpts}\"></mgt-arrow-options>\n          `;\r\n            return html `\n        <span class=\"TitleCont\">\n          ${drawerSelect}\n        </span>\n        ${addButton}\n      `;\r\n        }\r\n    }\r\n    renderNewTaskHtml() {\r\n        let taskTitle = html `\n      <span class=\"TaskTitle\">\n        <input\n          type=\"text\"\n          placeholder=\"Task...\"\n          .value=\"${this._newTaskName}\"\n          label=\"new-taskName-input\"\n          aria-label=\"new-taskName-input\"\n          role=\"input\"\n          @input=\"${(e) => {\r\n            this._newTaskName = e.target.value;\r\n        }}\"\n        />\n      </span>\n    `;\r\n        let dressers = this._dressers;\r\n        if (dressers.length > 0 && !this._newTaskDresserId) {\r\n            this._newTaskDresserId = dressers[0].id;\r\n        }\r\n        let taskDresser = this.dataSource === 'todo'\r\n            ? null\r\n            : !this.isDefault(this._currentTargetDresser)\r\n                ? html `\n            <span class=\"TaskDetail TaskAssignee\">\n              ${this.renderPlannerIcon()}\n              <span>${this.getPlanTitle(this._currentTargetDresser)}</span>\n            </span>\n          `\r\n                : html `\n            <span class=\"TaskDetail TaskAssignee\">\n              ${this.renderPlannerIcon()}\n              <select\n                .value=\"${this._newTaskDresserId}\"\n                @change=\"${(e) => {\r\n                    this._newTaskDresserId = e.target.value;\r\n                }}\"\n              >\n                ${this._dressers.map(plan => html `\n                    <option value=\"${plan.id}\">${plan.title}</option>\n                  `)}\n              </select>\n            </span>\n          `;\r\n        let drawers = this._drawers.filter(drawer => (!this.isDefault(this._currentTargetDresser) && drawer.parentId === this._currentTargetDresser) ||\r\n            (this.isDefault(this._currentTargetDresser) && drawer.parentId === this._newTaskDresserId));\r\n        if (drawers.length > 0 && !this._newTaskDrawerId) {\r\n            this._newTaskDrawerId = drawers[0].id;\r\n        }\r\n        let taskDrawer = !this.isDefault(this._currentTargetDrawer)\r\n            ? html `\n          <span class=\"TaskDetail TaskBucket\">\n            ${this.renderBucketIcon()}\n            <span>${this.getDrawerName(this._currentTargetDrawer)}</span>\n          </span>\n        `\r\n            : html `\n          <span class=\"TaskDetail TaskBucket\">\n            ${this.renderBucketIcon()}\n            <select\n              .value=\"${this._newTaskDrawerId}\"\n              @change=\"${(e) => {\r\n                this._newTaskDrawerId = e.target.value;\r\n            }}\"\n            >\n              ${drawers.map(drawer => html `\n                  <option value=\"${drawer.id}\">${drawer.name}</option>\n                `)}\n            </select>\n          </span>\n        `;\r\n        let taskDue = html `\n      <span class=\"TaskDetail TaskDue\">\n        ${this.renderCalendarIcon()}\n        <input\n          type=\"date\"\n          label=\"new-taskDate-input\"\n          aria-label=\"new-taskDate-input\"\n          role=\"input\"\n          .value=\"${this._newTaskDueDate}\"\n          @change=\"${(e) => {\r\n            this._newTaskDueDate = e.target.value;\r\n        }}\"\n        />\n      </span>\n    `;\r\n        let taskPeople = this.dataSource === 'todo'\r\n            ? null\r\n            : html `\n            <span class=\"TaskDetail TaskPeople\">\n              <label>\n                <input\n                  class=\"SelfAssign\"\n                  type=\"checkbox\"\n                  label=\"self-assign-input\"\n                  aria-label=\"self-assign-input\"\n                  .checked=\"${this._newTaskSelfAssigned}\"\n                  @change=\"${(e) => {\r\n                this._newTaskSelfAssigned = e.target.checked;\r\n            }}\"\n                />\n                <span class=\"FakeCheckBox\"></span>\n                <span>Assign to Me</span>\n              </label>\n            </span>\n          `;\r\n        let taskAdd = this._newTaskBeingAdded\r\n            ? html `\n          <div class=\"TaskAddCont\"></div>\n        `\r\n            : html `\n          <div class=\"TaskAddCont ${this._newTaskName === '' ? 'Disabled' : ''}\">\n            <div class=\"TaskIcon TaskCancel\" @click=\"${this.closeNewTask}\">\n              <span>Cancel</span>\n            </div>\n            <div class=\"TaskIcon TaskAdd\" @click=\"${this.onAddTaskClick}\">\n              <span>\\uE710</span>\n            </div>\n          </div>\n        `;\r\n        return html `\n      <div class=\"Task NewTask Incomplete\">\n        <div class=\"InnerTask\">\n          <span class=\"TaskHeader\">\n            ${taskTitle}\n          </span>\n          <hr />\n          <span class=\"TaskDetails\">\n            ${taskDresser} ${taskDrawer} ${taskPeople} ${taskDue}\n          </span>\n        </div>\n        ${taskAdd}\n      </div>\n    `;\r\n    }\r\n    renderTaskHtml(task) {\r\n        let { name = 'Task', completed = false, dueDate, assignments } = task;\r\n        let dueDateString = new Date(dueDate);\r\n        let people = Object.keys(assignments);\r\n        let taskCheck = this._loadingTasks.includes(task.id)\r\n            ? html `\n          <span class=\"TaskCheck TaskIcon Loading\">\\uF16A</span>\n        `\r\n            : completed\r\n                ? html `\n          <span class=\"TaskCheck TaskIcon Complete\">\\uE73E</span>\n        `\r\n                : html `\n          <span class=\"TaskCheck TaskIcon Incomplete\"></span>\n        `;\r\n        let taskDresser = this.dataSource === 'todo' || !this.isDefault(this._currentTargetDresser)\r\n            ? null\r\n            : html `\n            <span class=\"TaskDetail TaskAssignee\">\n              ${this.renderPlannerIcon()}\n              <span>${this.getPlanTitle(task.topParentId)}</span>\n            </span>\n          `;\r\n        let taskDrawer = !this.isDefault(this._currentTargetDrawer)\r\n            ? null\r\n            : html `\n          <span class=\"TaskDetail TaskBucket\">\n            ${this.renderBucketIcon()}\n            <span>${this.getDrawerName(task.immediateParentId)}</span>\n          </span>\n        `;\r\n        let taskDue = !dueDate\r\n            ? null\r\n            : html `\n          <span class=\"TaskDetail TaskDue\">\n            ${this.renderCalendarIcon()}\n            <span>${getShortDateString(dueDateString)}</span>\n          </span>\n        `;\r\n        let taskPeople = !people || people.length === 0\r\n            ? null\r\n            : html `\n            <span class=\"TaskDetail TaskPeople\">\n              ${people.map(id => html `\n                    <mgt-person user-id=\"${id}\"></mgt-person>\n                  `)}\n            </span>\n          `;\r\n        let taskDelete = this.readOnly\r\n            ? null\r\n            : html `\n          <span class=\"TaskIcon TaskDelete\">\n            <mgt-dot-options\n              .options=\"${{\r\n                'Delete Task': () => this.removeTask(task)\r\n            }}\"\n            ></mgt-dot-options>\n          </span>\n        `;\r\n        return html `\n      <div\n        class=${classMap({\r\n            Task: true,\r\n            Complete: completed,\r\n            Incomplete: !completed,\r\n            ReadOnly: this.readOnly\r\n        })}\n      >\n        <div class=\"TaskHeader\">\n          <span\n            class=${classMap({\r\n            TaskCheckCont: true,\r\n            Complete: completed,\r\n            Incomplete: !completed\r\n        })}\n            @click=\"${e => {\r\n            if (!this.readOnly) {\r\n                if (!task.completed)\r\n                    this.completeTask(task);\r\n                else\r\n                    this.uncompleteTask(task);\r\n            }\r\n        }}\"\n          >\n            ${taskCheck}\n          </span>\n          <span class=\"TaskTitle\">\n            ${name}\n          </span>\n          ${taskDelete}\n        </div>\n        <div class=\"TaskDetails\">\n          ${taskDresser} ${taskDrawer} ${taskPeople} ${taskDue}\n        </div>\n      </div>\n    `;\r\n    }\r\n    renderLoadingTask() {\r\n        return html `\n      <div class=\"Task LoadingTask\">\n        <div class=\"TaskHeader\">\n          <div class=\"TaskCheckCont\">\n            <div class=\"TaskCheck\"></div>\n          </div>\n          <div class=\"TaskTitle\"></div>\n        </div>\n        <div class=\"TaskDetails\">\n          <div class=\"TaskDetail\">\n            <div class=\"TaskDetailIcon\"></div>\n            <div class=\"TaskDetailName\"></div>\n          </div>\n          <div class=\"TaskDetail\">\n            <div class=\"TaskDetailIcon\"></div>\n            <div class=\"TaskDetailName\"></div>\n          </div>\n          <div class=\"TaskDetail\">\n            <div class=\"TaskDetailIcon\"></div>\n            <div class=\"TaskDetailName\"></div>\n          </div>\n          <div class=\"TaskDetail\">\n            <div class=\"TaskDetailIcon\"></div>\n            <div class=\"TaskDetailName\"></div>\n          </div>\n        </div>\n      </div>\n    `;\r\n    }\r\n    renderPlannerIcon() {\r\n        return html `\n      <svg width=\"16\" height=\"18\" viewBox=\"0 0 16 18\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n        <path\n          fill-rule=\"evenodd\"\n          clip-rule=\"evenodd\"\n          d=\"M7.223 1.156C6.98 1.26 6.769 1.404 6.586 1.586C6.403 1.768 6.261 1.98 6.157 2.223C6.052 2.465 6 2.724 6 3H2V17H14V3H10C10 2.724 9.948 2.465 9.844 2.223C9.74 1.98 9.596 1.768 9.414 1.586C9.231 1.404 9.02 1.26 8.777 1.156C8.535 1.053 8.276 1 8 1C7.723 1 7.465 1.053 7.223 1.156ZM5 4H7V3C7 2.86 7.026 2.729 7.078 2.609C7.13 2.49 7.202 2.385 7.293 2.293C7.384 2.202 7.49 2.131 7.609 2.079C7.73 2.026 7.859 2 8 2C8.14 2 8.271 2.026 8.39 2.079C8.511 2.131 8.616 2.202 8.707 2.293C8.798 2.385 8.87 2.49 8.922 2.609C8.974 2.729 9 2.86 9 3V4H11V5H5V4ZM12 6V4H13V16H3V4H4V6H12Z\"\n          fill=\"#3C3C3C\"\n        />\n        <path\n          fill-rule=\"evenodd\"\n          clip-rule=\"evenodd\"\n          d=\"M7.35156 12.3517L5.49956 14.2037L4.14856 12.8517L4.85156 12.1487L5.49956 12.7967L6.64856 11.6487L7.35156 12.3517Z\"\n          fill=\"#3C3C3C\"\n        />\n        <path\n          fill-rule=\"evenodd\"\n          clip-rule=\"evenodd\"\n          d=\"M7.35156 8.35168L5.49956 10.2037L4.14856 8.85168L4.85156 8.14868L5.49956 8.79668L6.64856 7.64868L7.35156 8.35168Z\"\n          fill=\"#3C3C3C\"\n        />\n        <path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M8 14H12.001V13H8V14Z\" fill=\"#3C3C3C\" />\n        <path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M8 10H12.001V9H8V10Z\" fill=\"#3C3C3C\" />\n      </svg>\n    `;\r\n    }\r\n    renderBucketIcon() {\r\n        return html `\n      <svg width=\"16\" height=\"16\" viewBox=\"0 0 16 16\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n        <path\n          fill-rule=\"evenodd\"\n          clip-rule=\"evenodd\"\n          d=\"M14 2H2V4H3H5H6H10H11H13H14V2ZM10 5H6V6H10V5ZM5 5H3V14H13V5H11V6C11 6.55228 10.5523 7 10 7H6C5.44772 7 5 6.55228 5 6V5ZM1 5H2V14V15H3H13H14V14V5H15V4V2V1H14H2H1V2V4V5Z\"\n          fill=\"#3C3C3C\"\n        />\n      </svg>\n    `;\r\n    }\r\n    renderCalendarIcon() {\r\n        return html `\n      <svg width=\"20\" height=\"18\" viewBox=\"0 0 20 18\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n        <path\n          d=\"M12 7H11V8H12V7ZM9 13H8V14H9V13ZM6 7H5V8H6V7ZM9 7H8V8H9V7ZM12 9H11V10H12V9ZM15 9H14V10H15V9ZM6 9H5V10H6V9ZM9 9H8V10H9V9ZM12 11H11V12H12V11ZM15 11H14V12H15V11ZM6 11H5V12H6V11ZM9 11H8V12H9V11ZM12 13H11V14H12V13ZM15 13H14V14H15V13ZM2 2V16H18V2H15V1H14V2H6V1H5V2H2ZM17 3V5H3V3H5V4H6V3H14V4H15V3H17ZM3 15V6H17V15H3Z\"\n          fill=\"#3C3C3C\"\n        />\n      </svg>\n    `;\r\n    }\r\n    getTaskSource() {\r\n        let p = Providers.globalProvider;\r\n        if (!p || p.state !== ProviderState.SignedIn)\r\n            return null;\r\n        if (this.dataSource === 'planner')\r\n            return new PlannerTaskSource(p.graph);\r\n        else if (this.dataSource === 'todo')\r\n            return new TodoTaskSource(p.graph);\r\n        else\r\n            return null;\r\n    }\r\n    isAssignedToMe(task) {\r\n        if (this.dataSource === 'todo')\r\n            return true;\r\n        let keys = Object.keys(task.assignments);\r\n        return keys.includes(this._me.id);\r\n    }\r\n    getDateTimeOffset(dateTime) {\r\n        let offset = (new Date().getTimezoneOffset() / 60).toString();\r\n        if (offset.length < 2)\r\n            offset = '0' + offset;\r\n        dateTime = dateTime.replace('Z', `-${offset}:00`);\r\n        return dateTime;\r\n    }\r\n    getPlanTitle(planId) {\r\n        if (this.isDefault(planId))\r\n            return this.res.BASE_SELF_ASSIGNED;\r\n        else if (planId === this.res.PLANS_SELF_ASSIGNED)\r\n            return this.res.PLANS_SELF_ASSIGNED;\r\n        else\r\n            return (this._dressers.find(plan => plan.id === planId) || {\r\n                title: this.res.PLAN_NOT_FOUND\r\n            }).title;\r\n    }\r\n    getDrawerName(bucketId) {\r\n        if (this.isDefault(bucketId))\r\n            return this.res.BUCKETS_SELF_ASSIGNED;\r\n        return (this._drawers.find(buck => buck.id === bucketId) || {\r\n            name: this.res.BUCKET_NOT_FOUND\r\n        }).name;\r\n    }\r\n    isDefault(id) {\r\n        for (let res in TASK_RES) {\r\n            for (let prop in TASK_RES[res])\r\n                if (id === TASK_RES[res][prop])\r\n                    return true;\r\n        }\r\n        return false;\r\n    }\r\n    taskPlanFilter(task) {\r\n        return (task.topParentId === this._currentTargetDresser ||\r\n            (this.isDefault(this._currentTargetDresser) && this.isAssignedToMe(task)));\r\n    }\r\n    taskSubPlanFilter(task) {\r\n        return task.topParentId === this._currentSubTargetDresser || this.isDefault(this._currentSubTargetDresser);\r\n    }\r\n    taskBucketPlanFilter(task) {\r\n        return task.immediateParentId === this._currentTargetDrawer || this.isDefault(this._currentTargetDrawer);\r\n    }\r\n};\r\n__decorate([\r\n    property({ attribute: 'read-only', type: Boolean })\r\n], MgtTasks.prototype, \"readOnly\", void 0);\r\n__decorate([\r\n    property({ attribute: 'data-source', type: String })\r\n], MgtTasks.prototype, \"dataSource\", void 0);\r\n__decorate([\r\n    property({ attribute: 'target-id', type: String })\r\n], MgtTasks.prototype, \"targetId\", void 0);\r\n__decorate([\r\n    property({ attribute: 'target-bucket-id', type: String })\r\n], MgtTasks.prototype, \"targetBucketId\", void 0);\r\n__decorate([\r\n    property({ attribute: 'initial-id', type: String })\r\n], MgtTasks.prototype, \"initialId\", void 0);\r\n__decorate([\r\n    property({ attribute: 'initial-bucket-id', type: String })\r\n], MgtTasks.prototype, \"initialBucketId\", void 0);\r\n__decorate([\r\n    property({ attribute: 'hide-header', type: Boolean })\r\n], MgtTasks.prototype, \"hideHeader\", void 0);\r\n__decorate([\r\n    property()\r\n], MgtTasks.prototype, \"_showNewTask\", void 0);\r\n__decorate([\r\n    property()\r\n], MgtTasks.prototype, \"_newTaskBeingAdded\", void 0);\r\n__decorate([\r\n    property()\r\n], MgtTasks.prototype, \"_newTaskSelfAssigned\", void 0);\r\n__decorate([\r\n    property()\r\n], MgtTasks.prototype, \"_newTaskName\", void 0);\r\n__decorate([\r\n    property()\r\n], MgtTasks.prototype, \"_newTaskDueDate\", void 0);\r\n__decorate([\r\n    property()\r\n], MgtTasks.prototype, \"_newTaskDresserId\", void 0);\r\n__decorate([\r\n    property()\r\n], MgtTasks.prototype, \"_newTaskDrawerId\", void 0);\r\n__decorate([\r\n    property()\r\n], MgtTasks.prototype, \"_dressers\", void 0);\r\n__decorate([\r\n    property()\r\n], MgtTasks.prototype, \"_drawers\", void 0);\r\n__decorate([\r\n    property()\r\n], MgtTasks.prototype, \"_tasks\", void 0);\r\n__decorate([\r\n    property()\r\n], MgtTasks.prototype, \"_currentTargetDresser\", void 0);\r\n__decorate([\r\n    property()\r\n], MgtTasks.prototype, \"_currentSubTargetDresser\", void 0);\r\n__decorate([\r\n    property()\r\n], MgtTasks.prototype, \"_currentTargetDrawer\", void 0);\r\n__decorate([\r\n    property()\r\n], MgtTasks.prototype, \"_hiddenTasks\", void 0);\r\n__decorate([\r\n    property()\r\n], MgtTasks.prototype, \"_loadingTasks\", void 0);\r\n__decorate([\r\n    property()\r\n], MgtTasks.prototype, \"_inTaskLoad\", void 0);\r\n__decorate([\r\n    property()\r\n], MgtTasks.prototype, \"_hasDoneInitialLoad\", void 0);\r\n__decorate([\r\n    property()\r\n], MgtTasks.prototype, \"_todoDefaultSet\", void 0);\r\nMgtTasks = __decorate([\r\n    customElement('mgt-tasks')\r\n], MgtTasks);\r\nexport { MgtTasks };\r\n//# sourceMappingURL=mgt-tasks.js.map","/**\r\n * -------------------------------------------------------------------------------------------\r\n * Copyright (c) Microsoft Corporation.  All Rights Reserved.  Licensed under the MIT License.\r\n * See License in the project root for license information.\r\n * -------------------------------------------------------------------------------------------\r\n */\r\nexport function getShortDateString(date) {\r\n    let month = date.getMonth();\r\n    let day = date.getDate();\r\n    return `${getMonthString(month)} ${day}`;\r\n}\r\nexport function getMonthString(month) {\r\n    switch (month) {\r\n        case 0:\r\n            return 'January';\r\n        case 1:\r\n            return 'February';\r\n        case 2:\r\n            return 'March';\r\n        case 3:\r\n            return 'April';\r\n        case 4:\r\n            return 'May';\r\n        case 5:\r\n            return 'June';\r\n        case 6:\r\n            return 'July';\r\n        case 7:\r\n            return 'August';\r\n        case 8:\r\n            return 'September';\r\n        case 9:\r\n            return 'October';\r\n        case 10:\r\n            return 'November';\r\n        case 11:\r\n            return 'December';\r\n        default:\r\n            return 'Month';\r\n    }\r\n}\r\nexport function getDaysInMonth(monthNum) {\r\n    switch (monthNum) {\r\n        case 1:\r\n            return 28;\r\n        case 3:\r\n        case 5:\r\n        case 8:\r\n        case 10:\r\n        default:\r\n            return 30;\r\n        case 0:\r\n        case 2:\r\n        case 4:\r\n        case 6:\r\n        case 7:\r\n        case 9:\r\n        case 11:\r\n            return 31;\r\n    }\r\n}\r\nexport function getDateFromMonthYear(month, year) {\r\n    let monthStr = month + '', yearStr = year + '';\r\n    if (monthStr.length < 2)\r\n        monthStr = '0' + monthStr;\r\n    return new Date(`${yearStr}-${monthStr}-1T12:00:00-${new Date().getTimezoneOffset() / 60}`);\r\n}\r\nexport function debounce(func, time) {\r\n    let timeout;\r\n    return function () {\r\n        const functionCall = () => func.apply(this, arguments);\r\n        clearTimeout(timeout);\r\n        timeout = setTimeout(functionCall, time);\r\n    };\r\n}\r\n//# sourceMappingURL=utils.js.map","// THIS FILE IS AUTO GENERATED\r\n// ANY CHANGES WILL BE LOST DURING BUILD\r\n// MODIFY THE .SCSS FILE INSTEAD\r\nimport { css } from 'lit-element';\r\nexport const styles = [\r\n    css `\n/**\n * -------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation.  All Rights Reserved.  Licensed under the MIT License.\n * See License in the project root for license information.\n * -------------------------------------------------------------------------------------------\n */\n/*\r\n  Your use of the content in the files referenced here is subject to the terms of the license at http://aka.ms/fabric-assets-license\r\n*/\n/**\n * -------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation.  All Rights Reserved.  Licensed under the MIT License.\n * See License in the project root for license information.\n * -------------------------------------------------------------------------------------------\n */\n:host([hidden]) {\n  display: none; }\n\n:host {\n  display: block;\n  --default-font-family: \"Segoe UI\", \"Segoe UI Web (West European)\", \"Segoe UI\",\n    -apple-system, BlinkMacSystemFont, Roboto, \"Helvetica Neue\", sans-serif;\n  --theme-primary-color: #0078d7;\n  --theme-dark-color: #005a9e; }\n\n.ms-Icon {\n  display: inline-block;\n  font-family: \"FabricMDL2Icons\";\n  font-style: normal;\n  font-weight: normal;\n  font-size: 16px;\n  -moz-osx-font-smoothing: grayscale;\n  -webkit-font-smoothing: antialiased;\n  margin: 4px 0; }\n\n.ms-Icon--ChevronDown::before {\n  content: \"\\\\\\E70D\"; }\n\n.ms-Icon--ChevronUp::before {\n  content: \"\\\\\\E70E\"; }\n\n.ms-Icon--Contact::before {\n  content: \"\\\\\\E77B\"; }\n\n.ms-Icon--AddFriend::before {\n  content: \"\\\\\\E8FA\"; }\n\n.ms-Icon--OutlookLogoInverse::before {\n  content: \"\\\\\\EB6D\"; }\n\n:host {\n  border-radius: 2px; }\n\n:host .root,\nmgt-people-picker .root {\n  display: block; }\n\n:host .people-picker,\nmgt-people-picker .people-picker {\n  position: relative;\n  margin: 7px 0 0 0;\n  background-color: white;\n  padding-bottom: 8px; }\n\n:host .people-list,\nmgt-people-picker .people-list {\n  position: absolute;\n  margin: 7px 0px 0px 0px;\n  padding: 0;\n  box-shadow: 0px 1.3289px 2.65781px rgba(180, 180, 180, 0.182), 0px 1.3289px 2.65781px rgba(68, 68, 68, 0.3);\n  border-radius: 2px;\n  background-color: white;\n  z-index: 1;\n  /* Sit on top */\n  width: 100%;\n  text-align: left;\n  list-style-type: none;\n  font-family: Segoe UI;\n  font-style: normal;\n  font-weight: normal; }\n\n:host .people-list-separator,\nmgt-people-picker .people-list-separator {\n  height: 2px;\n  background: var(--accent-color, #0078d4);\n  margin-top: 5px;\n  text-align: center; }\n\n:host .people-chosen-input,\nmgt-people-picker .people-chosen-input {\n  position: relative;\n  border: none;\n  line-height: normal;\n  outline: none;\n  font-family: Segoe UI;\n  font-style: normal;\n  font-weight: normal;\n  font-size: 14px;\n  line-height: 19px; }\n\n:host .people-chosen-list,\nmgt-people-picker .people-chosen-list {\n  display: flex;\n  flex-wrap: wrap;\n  vertical-align: middle;\n  margin: 0 0 0 0;\n  list-style-type: none;\n  padding-left: 10px;\n  font-family: Segoe UI;\n  font-style: normal;\n  font-weight: normal; }\n\n.CloseIcon,\nmgt-people-picker .CloseIcon {\n  line-height: normal;\n  font-family: 'FabricMDL2Icons';\n  padding-right: 8px;\n  padding-left: 4px;\n  margin-top: 3px; }\n\n:host .SearchIcon,\nmgt-people-picker .SearchIcon {\n  font-family: 'FabricMDL2Icons';\n  color: var(--accent-color, #0078d4); }\n\n:host .people-person,\nmgt-people-picker .people-person {\n  display: flex;\n  margin: 4px 5px 0 0;\n  align-items: center;\n  background-color: rgba(196, 196, 196, 0.24);\n  border-radius: 15px;\n  max-height: 24px; }\n\n:host .people-person-list,\nmgt-people-picker .people-person-list {\n  display: flex;\n  flex-direction: row;\n  flex-wrap: wrap;\n  align-items: center;\n  padding: 12px;\n  font-family: Segoe UI;\n  font-style: normal;\n  font-weight: 600;\n  font-size: 14px; }\n\n:host .people-person-list-fill,\nmgt-people-picker .people-person-list-fill {\n  display: flex;\n  align-items: center;\n  padding: 12px;\n  font-family: Segoe UI;\n  font-style: normal;\n  font-weight: 600;\n  font-size: 14px;\n  background-color: #f1f1f1; }\n\n:host .people-person-text,\nmgt-people-picker .people-person-text {\n  font-size: 14px;\n  font-weight: normal;\n  margin: 0;\n  padding: 0; }\n\n:host .input-search,\nmgt-people-picker .input-search {\n  margin: 7px 2px 0px 3px; }\n\n:host .input-search-start,\nmgt-people-picker .input-search-start {\n  margin: 7px 0px 0px 0px;\n  line-height: normal;\n  margin-inline-start: 0px;\n  margin-inline-end: 0px; }\n\n:host .people-picker-input,\nmgt-people-picker .people-picker-input {\n  display: flex;\n  order: 2;\n  background-color: white;\n  margin: var(--avatar-margin, 0 4px 0 0);\n  font-size: 14px;\n  line-height: 19px; }\n\n:host .duplicate-person,\nmgt-people-picker .duplicate-person {\n  text-decoration: none;\n  border-bottom: 1px solid red; }\n\n:host .remove-person-button,\nmgt-people-picker .remove-person-button {\n  background: #767676;\n  transform: matrix(-0.71, -0.71, 0.71, -0.71, 0, 0); }\n\n:host .remove-person-button-secondary,\nmgt-people-picker .remove-person-button-secondary {\n  background: #767676;\n  transform: matrix(0.71, -0.71, 0.71, 0.71, 0, 0); }\n\n:host .person-display-name,\nmgt-people-picker .person-display-name {\n  margin-left: 8px;\n  font-family: Segoe UI;\n  font-style: normal;\n  font-weight: 600;\n  font-size: 14px;\n  line-height: 19px;\n  text-align: center;\n  color: #000000; }\n\nmgt-person {\n  --avatar-size-s: 32px;\n  margin-left: 12px; }\n\n.chosen-person {\n  --avatar-size-s: 24px;\n  margin-left: 0px; }\n\n:host .search-error-text,\nmgt-people-picker .search-error-text {\n  font-family: Segoe UI;\n  font-style: normal;\n  font-weight: 600;\n  font-size: 14px;\n  line-height: 19px;\n  text-align: center;\n  color: #232222; }\n\n:host .SearchErrorIcon,\nmgt-people-picker .SearchErrorIcon {\n  display: inline-block;\n  font-family: 'FabricMDL2Icons';\n  color: #cf0000; }\n\n:host .error-message-parent,\nmgt-people-picker .error-message-parent {\n  margin-top: 30px;\n  margin-bottom: 30px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  vertical-align: middle; }\n\n:host .highlight-search-text,\nmgt-people-picker .highlight-search-text {\n  font-weight: bold; }\n\n:host .people-person-job-title,\nmgt-people-picker .people-person-job-title {\n  flex: 100%;\n  order: 3;\n  font-weight: normal;\n  font-size: 12px;\n  text-transform: uppercase; }\n\n:host .people-person-text-area,\nmgt-people-picker .people-person-text-area {\n  margin-left: 13px;\n  flex: 1 1 0;\n  max-height: 40px; }\n\n`\r\n];\r\n//# sourceMappingURL=mgt-people-picker-css.js.map","/**\r\n * -------------------------------------------------------------------------------------------\r\n * Copyright (c) Microsoft Corporation.  All Rights Reserved.  Licensed under the MIT License.\r\n * See License in the project root for license information.\r\n * -------------------------------------------------------------------------------------------\r\n */\r\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nimport { html, customElement, property } from 'lit-element';\r\nimport { Providers } from '../../Providers';\r\nimport { ProviderState } from '../../providers/IProvider';\r\nimport { styles } from './mgt-people-picker-css';\r\nimport '../mgt-person/mgt-person';\r\nimport '../../styles/fabric-icon-font';\r\nimport { MgtTemplatedComponent } from '../templatedComponent';\r\nimport { debounce } from '../../utils/utils';\r\nlet MgtPicker = class MgtPicker extends MgtTemplatedComponent {\r\n    constructor() {\r\n        super();\r\n        //people in current search list\r\n        this.people = null;\r\n        //maximum shown people in search\r\n        this.showMax = 6;\r\n        //User selected people\r\n        this._selectedPeople = [];\r\n        //single matching id for filtering against people list\r\n        this._duplicatePersonId = '';\r\n        //User input in search\r\n        this._userInput = '';\r\n        //tracking of user arrow key input for selection\r\n        this.arrowSelectionCount = 0;\r\n        //if search is still loading don't load \"people not found\" state\r\n        this.isLoading = false;\r\n        //handing debounce on user search\r\n        this.debounceHandle = window.addEventListener('keyup', debounce(() => {\r\n            this.loadPersonSearch(this._userInput);\r\n        }, 300));\r\n        this.trackMouseFocus = this.trackMouseFocus.bind(this);\r\n    }\r\n    attributeChangedCallback(att, oldval, newval) {\r\n        super.attributeChangedCallback(att, oldval, newval);\r\n        if (att == 'group-id' && oldval !== newval) {\r\n            this.findGroup();\r\n        }\r\n    }\r\n    static get styles() {\r\n        return styles;\r\n    }\r\n    firstUpdated() {\r\n        if (this.groupId) {\r\n            Providers.onProviderUpdated(() => this.findGroup());\r\n            this.findGroup();\r\n        }\r\n    }\r\n    findGroup() {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            let provider = Providers.globalProvider;\r\n            if (provider && provider.state === ProviderState.SignedIn) {\r\n                let client = Providers.globalProvider.graph;\r\n                this.groupPeople = yield client.getPeopleFromGroup(this.groupId);\r\n            }\r\n        });\r\n    }\r\n    onUserTypeSearch(event) {\r\n        if (event.code == 'Escape') {\r\n            event.target.value = '';\r\n            this._userInput = '';\r\n            this.people = [];\r\n            return;\r\n        }\r\n        if (event.code == 'Backspace' && this._userInput.length == 0 && this._selectedPeople.length > 0) {\r\n            event.target.value = '';\r\n            this._userInput = '';\r\n            //remove last person in selected list\r\n            this._selectedPeople = this._selectedPeople.splice(0, this._selectedPeople.length - 1);\r\n            //fire selected people changed event\r\n            this.fireCustomEvent('selectionChanged', this._selectedPeople);\r\n            return;\r\n        }\r\n        this._userInput = event.target.value;\r\n        if (event.target.value) {\r\n            this.debounceHandle;\r\n        }\r\n        else {\r\n            event.target.value = '';\r\n            this._userInput = '';\r\n            this.people = [];\r\n        }\r\n    }\r\n    onUserKeyDown(event) {\r\n        if (event.keyCode == 40 || event.keyCode == 38) {\r\n            //keyCodes capture: down arrow (40) and up arrow (38)\r\n            this.handleArrowSelection(event);\r\n            if (this._userInput.length > 0) {\r\n                event.preventDefault();\r\n            }\r\n        }\r\n        if (event.code == 'Tab' || event.code == 'Enter') {\r\n            if (this.people.length) {\r\n                event.preventDefault();\r\n            }\r\n            this.addPerson(this.people[this.arrowSelectionCount], event);\r\n            event.target.value = '';\r\n        }\r\n    }\r\n    handleArrowSelection(event) {\r\n        if (this.people.length) {\r\n            //update arrow count\r\n            if (event.keyCode == 38) {\r\n                //up arrow\r\n                if (this.arrowSelectionCount > 0) {\r\n                    this.arrowSelectionCount--;\r\n                }\r\n                else {\r\n                    this.arrowSelectionCount = 0;\r\n                }\r\n            }\r\n            if (event.keyCode == 40) {\r\n                //down arrow\r\n                if (this.arrowSelectionCount + 1 !== this.people.length && this.arrowSelectionCount + 1 < this.showMax) {\r\n                    this.arrowSelectionCount++;\r\n                }\r\n                else {\r\n                    this.arrowSelectionCount = 0;\r\n                }\r\n            }\r\n            const peopleList = this.renderRoot.querySelector('.people-list');\r\n            //reset background color\r\n            for (let i = 0; i < peopleList.children.length; i++) {\r\n                peopleList.children[i].setAttribute('class', 'people-person-list');\r\n            }\r\n            //set selected background\r\n            peopleList.children[this.arrowSelectionCount].setAttribute('class', 'people-person-list-fill');\r\n        }\r\n    }\r\n    addPerson(person, event) {\r\n        if (person) {\r\n            this._userInput = '';\r\n            this._duplicatePersonId = '';\r\n            let chosenPerson = person;\r\n            let filteredPersonArr = this._selectedPeople.filter(function (person) {\r\n                return person.id == chosenPerson.id;\r\n            });\r\n            if (this._selectedPeople.length && filteredPersonArr.length) {\r\n                this._duplicatePersonId = chosenPerson.id;\r\n            }\r\n            else {\r\n                this._selectedPeople.push(person);\r\n                this.fireCustomEvent('selectionChanged', this._selectedPeople);\r\n                this.people = [];\r\n                this._userInput = '';\r\n                this.arrowSelectionCount = 0;\r\n            }\r\n        }\r\n    }\r\n    loadPersonSearch(name) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            if (name.length) {\r\n                name = name.toLowerCase();\r\n                let provider = Providers.globalProvider;\r\n                let people;\r\n                if (provider && provider.state === ProviderState.SignedIn) {\r\n                    this.isLoading = true;\r\n                    let client = Providers.globalProvider.graph;\r\n                    //filtering groups\r\n                    if (this.groupId) {\r\n                        people = this.groupPeople;\r\n                    }\r\n                    else {\r\n                        people = yield client.findPerson(name);\r\n                    }\r\n                    if (people) {\r\n                        people = people.filter(function (person) {\r\n                            return person.displayName.toLowerCase().indexOf(name) !== -1;\r\n                        });\r\n                    }\r\n                    for (let person of people) {\r\n                        // set image to @ to flag the mgt-person component to\r\n                        // query the image from the graph\r\n                        person.image = '@';\r\n                    }\r\n                    this.people = this.filterPeople(people);\r\n                    this.isLoading = false;\r\n                }\r\n            }\r\n        });\r\n    }\r\n    filterPeople(people) {\r\n        //check if people need to be updated\r\n        //ensuring people list is displayed\r\n        //find ids from selected people\r\n        if (people) {\r\n            let id_filter = this._selectedPeople.map(function (el) {\r\n                return el.id;\r\n            });\r\n            //filter id's\r\n            let filtered = people.filter(function (person) {\r\n                return id_filter.indexOf(person.id) === -1;\r\n            });\r\n            return filtered;\r\n        }\r\n    }\r\n    removePerson(person) {\r\n        let chosenPerson = person;\r\n        let filteredPersonArr = this._selectedPeople.filter(function (person) {\r\n            return person.id !== chosenPerson.id;\r\n        });\r\n        this._selectedPeople = filteredPersonArr;\r\n        this.fireCustomEvent('selectionChanged', this._selectedPeople);\r\n    }\r\n    renderErrorMessage() {\r\n        return html `\n      <div class=\"error-message-parent\">\n        <div label=\"search-error-text\" aria-label=\"We didn't find any matches.\" class=\"search-error-text\">\n          We didn't find any matches.\n        </div>\n      </div>\n    `;\r\n    }\r\n    trackMouseFocus(e) {\r\n        const peopleList = this.renderRoot.querySelector('.people-list');\r\n        if (e.target.localName === 'mgt-people-picker') {\r\n            const peopleInput = this.renderRoot.querySelector('.people-chosen-input');\r\n            peopleInput.focus();\r\n            peopleInput.select();\r\n        }\r\n        if (peopleList) {\r\n            if (e.target.localName === 'mgt-people-picker') {\r\n                //Mouse is focused on input\r\n                peopleList.setAttribute('style', 'display:block');\r\n            }\r\n            else {\r\n                //reset if not clicked in focus\r\n                peopleList.setAttribute('style', 'display:none');\r\n            }\r\n        }\r\n    }\r\n    renderChosenPeople() {\r\n        let peopleList;\r\n        let inputClass = 'input-search-start';\r\n        if (this._selectedPeople.length > 0) {\r\n            inputClass = 'input-search';\r\n            peopleList = html `\n        ${this._selectedPeople.slice(0, this._selectedPeople.length).map(person => html `\n              <li class=\"${person.id == this._duplicatePersonId ? 'people-person duplicate-person' : 'people-person'}\">\n                ${this.renderTemplate('person', { person: person }, person.displayName) ||\r\n                this.renderChosenPerson(person)}\n                <p class=\"person-display-name\">${person.displayName}</p>\n                <div class=\"CloseIcon\" @click=\"${() => this.removePerson(person)}\">\\uE711</div>\n              </li>\n            `)}\n      `;\r\n        }\r\n        return html `\n      <div class=\"people-chosen-list\">\n        ${peopleList}\n        <div class=\"${inputClass}\">\n          <input\n            id=\"people-picker-input\"\n            class=\"people-chosen-input\"\n            type=\"text\"\n            placeholder=\"Start typing a name\"\n            label=\"people-picker-input\"\n            aria-label=\"people-picker-input\"\n            role=\"input\"\n            .value=\"${this._userInput}\"\n            @keydown=\"${(e) => {\r\n            this.onUserKeyDown(e);\r\n        }}\"\n            @keyup=\"${(e) => {\r\n            this.onUserTypeSearch(e);\r\n        }}\"\n          />\n        </div>\n      </div>\n    `;\r\n    }\r\n    renderHighlightText(person) {\r\n        let peoples = person;\r\n        let highlightLocation = peoples.displayName.toLowerCase().indexOf(this._userInput.toLowerCase());\r\n        if (highlightLocation !== -1) {\r\n            //no location\r\n            if (highlightLocation == 0) {\r\n                //highlight is at the beginning of sentence\r\n                peoples.first = '';\r\n                peoples.highlight = peoples.displayName.slice(0, this._userInput.length);\r\n                peoples.last = peoples.displayName.slice(this._userInput.length, peoples.displayName.length);\r\n            }\r\n            else if (highlightLocation == peoples.displayName.length) {\r\n                //highlight is at end of the sentence\r\n                peoples.first = peoples.displayName.slice(0, highlightLocation);\r\n                peoples.highlight = peoples.displayName.slice(highlightLocation, peoples.displayName.length);\r\n                peoples.last = '';\r\n            }\r\n            else {\r\n                //highlight is in middle of sentence\r\n                peoples.first = peoples.displayName.slice(0, highlightLocation);\r\n                peoples.highlight = peoples.displayName.slice(highlightLocation, highlightLocation + this._userInput.length);\r\n                peoples.last = peoples.displayName.slice(highlightLocation + this._userInput.length, peoples.displayName.length);\r\n            }\r\n        }\r\n        return html `\n      <div>\n        <span class=\"people-person-text\">${peoples.first}</span\n        ><span class=\"people-person-text highlight-search-text\">${peoples.highlight}</span\n        ><span class=\"people-person-text\">${peoples.last}</span>\n      </div>\n    `;\r\n    }\r\n    renderPeopleList() {\r\n        let people = this.people;\r\n        if (people) {\r\n            if (people.length == 0 && this._userInput.length > 0 && this.isLoading == false) {\r\n                return html `\n          <div class=\"people-list\">\n            ${this.renderErrorMessage()}\n          </div>\n        `;\r\n            }\r\n            else {\r\n                return html `\n          <div class=\"people-list\">\n            ${this.renderPersons(people)}\n          </div>\n        `;\r\n            }\r\n        }\r\n    }\r\n    renderPersons(people) {\r\n        return people.slice(0, this.showMax).map(person => html `\n          <li\n            class=\"${person.isSelected == 'fill' ? 'people-person-list-fill' : 'people-person-list'}\"\n            @click=\"${(event) => this.addPerson(person, event)}\"\n          >\n            ${this.renderTemplate('person', { person: person }, person.displayName) || this.renderPerson(person)}\n            <div class=\"people-person-text-area\" id=\"${person.displayName}\">\n              ${this.renderHighlightText(person)}\n              <span class=\"people-person-job-title\">${person.jobTitle}</span>\n            </div>\n          </li>\n        `);\r\n    }\r\n    render() {\r\n        document.addEventListener('mouseup', this.trackMouseFocus, false);\r\n        return (this.renderTemplate('default', { people: this.people }) ||\r\n            html `\n        <div class=\"people-picker\">\n          <div class=\"people-picker-input\">\n            ${this.renderChosenPeople()}\n          </div>\n          <div class=\"people-list-separator\"></div>\n          ${this.renderPeopleList()}\n        </div>\n      `);\r\n    }\r\n    renderPerson(person) {\r\n        return html `\n      <mgt-person .personDetails=${person}></mgt-person>\n    `;\r\n    }\r\n    renderChosenPerson(person) {\r\n        return html `\n      <mgt-person class=\"chosen-person\" .personDetails=${person}></mgt-person>\n    `;\r\n    }\r\n};\r\n__decorate([\r\n    property({\r\n        attribute: 'people',\r\n        type: Object\r\n    })\r\n], MgtPicker.prototype, \"people\", void 0);\r\n__decorate([\r\n    property({\r\n        attribute: 'show-max',\r\n        type: Number\r\n    })\r\n], MgtPicker.prototype, \"showMax\", void 0);\r\n__decorate([\r\n    property({\r\n        attribute: 'group-id',\r\n        type: String\r\n    })\r\n], MgtPicker.prototype, \"groupId\", void 0);\r\n__decorate([\r\n    property()\r\n], MgtPicker.prototype, \"_selectedPeople\", void 0);\r\n__decorate([\r\n    property()\r\n], MgtPicker.prototype, \"_duplicatePersonId\", void 0);\r\n__decorate([\r\n    property()\r\n], MgtPicker.prototype, \"_userInput\", void 0);\r\nMgtPicker = __decorate([\r\n    customElement('mgt-people-picker')\r\n], MgtPicker);\r\nexport { MgtPicker };\r\n//# sourceMappingURL=mgt-people-picker.js.map","// Copyright (c) Microsoft Corporation. All rights reserved.\r\n// Licensed under the MIT License.\r\n/**\r\n * @hidden\r\n */\r\nvar CryptoUtils = /** @class */ (function () {\r\n    function CryptoUtils() {\r\n    }\r\n    /**\r\n     * Creates a new random GUID - used to populate state?\r\n     * @returns string (GUID)\r\n     */\r\n    CryptoUtils.createNewGuid = function () {\r\n        // RFC4122: The version 4 UUID is meant for generating UUIDs from truly-random or\r\n        // pseudo-random numbers.\r\n        // The algorithm is as follows:\r\n        //     Set the two most significant bits (bits 6 and 7) of the\r\n        //        clock_seq_hi_and_reserved to zero and one, respectively.\r\n        //     Set the four most significant bits (bits 12 through 15) of the\r\n        //        time_hi_and_version field to the 4-bit version number from\r\n        //        Section 4.1.3. Version4\r\n        //     Set all the other bits to randomly (or pseudo-randomly) chosen\r\n        //     values.\r\n        // UUID                   = time-low \"-\" time-mid \"-\"time-high-and-version \"-\"clock-seq-reserved and low(2hexOctet)\"-\" node\r\n        // time-low               = 4hexOctet\r\n        // time-mid               = 2hexOctet\r\n        // time-high-and-version  = 2hexOctet\r\n        // clock-seq-and-reserved = hexOctet:\r\n        // clock-seq-low          = hexOctet\r\n        // node                   = 6hexOctet\r\n        // Format: xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx\r\n        // y could be 1000, 1001, 1010, 1011 since most significant two bits needs to be 10\r\n        // y values are 8, 9, A, B\r\n        var cryptoObj = window.crypto; // for IE 11\r\n        if (cryptoObj && cryptoObj.getRandomValues) {\r\n            var buffer = new Uint8Array(16);\r\n            cryptoObj.getRandomValues(buffer);\r\n            //buffer[6] and buffer[7] represents the time_hi_and_version field. We will set the four most significant bits (4 through 7) of buffer[6] to represent decimal number 4 (UUID version number).\r\n            buffer[6] |= 0x40; //buffer[6] | 01000000 will set the 6 bit to 1.\r\n            buffer[6] &= 0x4f; //buffer[6] & 01001111 will set the 4, 5, and 7 bit to 0 such that bits 4-7 == 0100 = \"4\".\r\n            //buffer[8] represents the clock_seq_hi_and_reserved field. We will set the two most significant bits (6 and 7) of the clock_seq_hi_and_reserved to zero and one, respectively.\r\n            buffer[8] |= 0x80; //buffer[8] | 10000000 will set the 7 bit to 1.\r\n            buffer[8] &= 0xbf; //buffer[8] & 10111111 will set the 6 bit to 0.\r\n            return CryptoUtils.decimalToHex(buffer[0]) + CryptoUtils.decimalToHex(buffer[1])\r\n                + CryptoUtils.decimalToHex(buffer[2]) + CryptoUtils.decimalToHex(buffer[3])\r\n                + \"-\" + CryptoUtils.decimalToHex(buffer[4]) + CryptoUtils.decimalToHex(buffer[5])\r\n                + \"-\" + CryptoUtils.decimalToHex(buffer[6]) + CryptoUtils.decimalToHex(buffer[7])\r\n                + \"-\" + CryptoUtils.decimalToHex(buffer[8]) + CryptoUtils.decimalToHex(buffer[9])\r\n                + \"-\" + CryptoUtils.decimalToHex(buffer[10]) + CryptoUtils.decimalToHex(buffer[11])\r\n                + CryptoUtils.decimalToHex(buffer[12]) + CryptoUtils.decimalToHex(buffer[13])\r\n                + CryptoUtils.decimalToHex(buffer[14]) + CryptoUtils.decimalToHex(buffer[15]);\r\n        }\r\n        else {\r\n            var guidHolder = \"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx\";\r\n            var hex = \"0123456789abcdef\";\r\n            var r = 0;\r\n            var guidResponse = \"\";\r\n            for (var i = 0; i < 36; i++) {\r\n                if (guidHolder[i] !== \"-\" && guidHolder[i] !== \"4\") {\r\n                    // each x and y needs to be random\r\n                    r = Math.random() * 16 | 0;\r\n                }\r\n                if (guidHolder[i] === \"x\") {\r\n                    guidResponse += hex[r];\r\n                }\r\n                else if (guidHolder[i] === \"y\") {\r\n                    // clock-seq-and-reserved first hex is filtered and remaining hex values are random\r\n                    r &= 0x3; // bit and with 0011 to set pos 2 to zero ?0??\r\n                    r |= 0x8; // set pos 3 to 1 as 1???\r\n                    guidResponse += hex[r];\r\n                }\r\n                else {\r\n                    guidResponse += guidHolder[i];\r\n                }\r\n            }\r\n            return guidResponse;\r\n        }\r\n    };\r\n    /**\r\n     * Decimal to Hex\r\n     *\r\n     * @param num\r\n     */\r\n    CryptoUtils.decimalToHex = function (num) {\r\n        var hex = num.toString(16);\r\n        while (hex.length < 2) {\r\n            hex = \"0\" + hex;\r\n        }\r\n        return hex;\r\n    };\r\n    // See: https://developer.mozilla.org/en-US/docs/Web/API/WindowBase64/Base64_encoding_and_decoding#Solution_4_%E2%80%93_escaping_the_string_before_encoding_it\r\n    /**\r\n     * encoding string to base64 - platform specific check\r\n     *\r\n     * @param input\r\n     */\r\n    CryptoUtils.base64Encode = function (input) {\r\n        return btoa(encodeURIComponent(input).replace(/%([0-9A-F]{2})/g, function toSolidBytes(match, p1) {\r\n            return String.fromCharCode(Number(\"0x\" + p1));\r\n        }));\r\n    };\r\n    /**\r\n     * decoding base64 token - platform specific check\r\n     *\r\n     * @param base64IdToken\r\n     */\r\n    CryptoUtils.base64Decode = function (input) {\r\n        return decodeURIComponent(atob(input).split(\"\").map(function (c) {\r\n            return \"%\" + (\"00\" + c.charCodeAt(0).toString(16)).slice(-2);\r\n        }).join(\"\"));\r\n    };\r\n    /**\r\n     * deserialize a string\r\n     *\r\n     * @param query\r\n     */\r\n    CryptoUtils.deserialize = function (query) {\r\n        var match; // Regex for replacing addition symbol with a space\r\n        var pl = /\\+/g;\r\n        var search = /([^&=]+)=([^&]*)/g;\r\n        var decode = function (s) { return decodeURIComponent(s.replace(pl, \" \")); };\r\n        var obj = {};\r\n        match = search.exec(query);\r\n        while (match) {\r\n            obj[decode(match[1])] = decode(match[2]);\r\n            match = search.exec(query);\r\n        }\r\n        return obj;\r\n    };\r\n    return CryptoUtils;\r\n}());\r\nexport { CryptoUtils };\r\n//# sourceMappingURL=CryptoUtils.js.map","// Copyright (c) Microsoft Corporation. All rights reserved.\r\n// Licensed under the MIT License.\r\n/**\r\n * @hidden\r\n * Constants\r\n */\r\nvar Constants = /** @class */ (function () {\r\n    function Constants() {\r\n    }\r\n    Object.defineProperty(Constants, \"errorDescription\", {\r\n        get: function () { return \"error_description\"; },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Constants, \"error\", {\r\n        get: function () { return \"error\"; },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Constants, \"scope\", {\r\n        get: function () { return \"scope\"; },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Constants, \"clientInfo\", {\r\n        get: function () { return \"client_info\"; },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Constants, \"clientId\", {\r\n        get: function () { return \"clientId\"; },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Constants, \"idToken\", {\r\n        get: function () { return \"id_token\"; },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Constants, \"adalIdToken\", {\r\n        get: function () { return \"adal.idtoken\"; },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Constants, \"accessToken\", {\r\n        get: function () { return \"access_token\"; },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Constants, \"expiresIn\", {\r\n        get: function () { return \"expires_in\"; },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Constants, \"sessionState\", {\r\n        get: function () { return \"session_state\"; },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Constants, \"claims\", {\r\n        get: function () { return \"claims\"; },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Constants, \"msalClientInfo\", {\r\n        get: function () { return \"msal.client.info\"; },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Constants, \"msalError\", {\r\n        get: function () { return \"msal.error\"; },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Constants, \"msalErrorDescription\", {\r\n        get: function () { return \"msal.error.description\"; },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Constants, \"msalSessionState\", {\r\n        get: function () { return \"msal.session.state\"; },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Constants, \"tokenKeys\", {\r\n        get: function () { return \"msal.token.keys\"; },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Constants, \"accessTokenKey\", {\r\n        get: function () { return \"msal.access.token.key\"; },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Constants, \"expirationKey\", {\r\n        get: function () { return \"msal.expiration.key\"; },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Constants, \"stateLogin\", {\r\n        get: function () { return \"msal.state.login\"; },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Constants, \"stateAcquireToken\", {\r\n        get: function () { return \"msal.state.acquireToken\"; },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Constants, \"stateRenew\", {\r\n        get: function () { return \"msal.state.renew\"; },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Constants, \"nonceIdToken\", {\r\n        get: function () { return \"msal.nonce.idtoken\"; },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Constants, \"userName\", {\r\n        get: function () { return \"msal.username\"; },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Constants, \"idTokenKey\", {\r\n        get: function () { return \"msal.idtoken\"; },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Constants, \"loginRequest\", {\r\n        get: function () { return \"msal.login.request\"; },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Constants, \"loginError\", {\r\n        get: function () { return \"msal.login.error\"; },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Constants, \"renewStatus\", {\r\n        get: function () { return \"msal.token.renew.status\"; },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Constants, \"urlHash\", {\r\n        get: function () { return \"msal.urlHash\"; },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Constants, \"angularLoginRequest\", {\r\n        get: function () { return \"msal.angular.login.request\"; },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Constants, \"msal\", {\r\n        get: function () { return \"msal\"; },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Constants, \"no_account\", {\r\n        get: function () { return \"NO_ACCOUNT\"; },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Constants, \"consumersUtid\", {\r\n        get: function () { return \"9188040d-6c67-4c5b-b112-36a304b66dad\"; },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Constants, \"upn\", {\r\n        get: function () { return \"upn\"; },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Constants, \"prompt_select_account\", {\r\n        get: function () { return \"&prompt=select_account\"; },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Constants, \"prompt_none\", {\r\n        get: function () { return \"&prompt=none\"; },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Constants, \"prompt\", {\r\n        get: function () { return \"prompt\"; },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Constants, \"response_mode_fragment\", {\r\n        get: function () { return \"&response_mode=fragment\"; },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Constants, \"resourceDelimiter\", {\r\n        get: function () { return \"|\"; },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Constants, \"tokenRenewStatusCancelled\", {\r\n        get: function () { return \"Canceled\"; },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Constants, \"tokenRenewStatusCompleted\", {\r\n        get: function () { return \"Completed\"; },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Constants, \"tokenRenewStatusInProgress\", {\r\n        get: function () { return \"In Progress\"; },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Constants, \"popUpWidth\", {\r\n        get: function () { return this._popUpWidth; },\r\n        set: function (width) {\r\n            this._popUpWidth = width;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Constants, \"popUpHeight\", {\r\n        get: function () { return this._popUpHeight; },\r\n        set: function (height) {\r\n            this._popUpHeight = height;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Constants, \"login\", {\r\n        get: function () { return \"LOGIN\"; },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Constants, \"renewToken\", {\r\n        get: function () { return \"RENEW_TOKEN\"; },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Constants, \"unknown\", {\r\n        get: function () { return \"UNKNOWN\"; },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Constants, \"homeAccountIdentifier\", {\r\n        get: function () { return \"homeAccountIdentifier\"; },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Constants, \"common\", {\r\n        get: function () { return \"common\"; },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Constants, \"openidScope\", {\r\n        get: function () { return \"openid\"; },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Constants, \"profileScope\", {\r\n        get: function () { return \"profile\"; },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Constants, \"cacheLocationLocal\", {\r\n        get: function () { return \"localStorage\"; },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Constants, \"cacheLocationSession\", {\r\n        get: function () { return \"sessionStorage\"; },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Constants, \"interactionTypeRedirect\", {\r\n        get: function () { return \"redirectInteraction\"; },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Constants, \"interactionTypePopup\", {\r\n        get: function () { return \"popupInteraction\"; },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Constants._popUpWidth = 483;\r\n    Constants._popUpHeight = 600;\r\n    return Constants;\r\n}());\r\nexport { Constants };\r\n/**\r\n * @hidden\r\n * CacheKeys for 'authority' and 'account'\r\n */\r\nexport var CacheKeys = {\r\n    AUTHORITY: \"msal.authority\",\r\n    ACQUIRE_TOKEN_ACCOUNT: \"msal.acquireTokenAccount\"\r\n};\r\nexport var AADTrustedHostList = {\r\n    \"login.windows.net\": \"login.windows.net\",\r\n    \"login.chinacloudapi.cn\": \"login.chinacloudapi.cn\",\r\n    \"login.cloudgovapi.us\": \"login.cloudgovapi.us\",\r\n    \"login.microsoftonline.com\": \"login.microsoftonline.com\",\r\n    \"login.microsoftonline.de\": \"login.microsoftonline.de\",\r\n    \"login.microsoftonline.us\": \"login.microsoftonline.us\"\r\n};\r\n/**\r\n * @hidden\r\n * SSO Types - generated to populate hints\r\n */\r\nexport var SSOTypes = {\r\n    ACCOUNT: \"account\",\r\n    SID: \"sid\",\r\n    LOGIN_HINT: \"login_hint\",\r\n    ID_TOKEN: \"id_token\",\r\n    DOMAIN_HINT: \"domain_hint\",\r\n    ORGANIZATIONS: \"organizations\",\r\n    CONSUMERS: \"consumers\",\r\n    ACCOUNT_ID: \"accountIdentifier\",\r\n    HOMEACCOUNT_ID: \"homeAccountIdentifier\",\r\n    LOGIN_REQ: \"login_req\",\r\n    DOMAIN_REQ: \"domain_req\"\r\n};\r\n/**\r\n * @hidden\r\n */\r\nexport var BlacklistedEQParams = [\r\n    SSOTypes.SID,\r\n    SSOTypes.LOGIN_HINT\r\n];\r\n/**\r\n * we considered making this \"enum\" in the request instead of string, however it looks like the allowed list of\r\n * prompt values kept changing over past couple of years. There are some undocumented prompt values for some\r\n * internal partners too, hence the choice of generic \"string\" type instead of the \"enum\"\r\n * @hidden\r\n */\r\nexport var PromptState = {\r\n    LOGIN: \"login\",\r\n    SELECT_ACCOUNT: \"select_account\",\r\n    CONSENT: \"consent\",\r\n    NONE: \"none\",\r\n};\r\n/**\r\n * MSAL JS Library Version\r\n */\r\nexport function libraryVersion() {\r\n    return \"1.1.3\";\r\n}\r\n//# sourceMappingURL=Constants.js.map","// Copyright (c) Microsoft Corporation. All rights reserved.\r\n// Licensed under the MIT License.\r\nvar ScopeSet = /** @class */ (function () {\r\n    function ScopeSet() {\r\n    }\r\n    /**\r\n   * Check if there are dup scopes in a given request\r\n   *\r\n   * @param cachedScopes\r\n   * @param scopes\r\n   */\r\n    // TODO: Rename this, intersecting scopes isn't a great name for duplicate checker\r\n    ScopeSet.isIntersectingScopes = function (cachedScopes, scopes) {\r\n        cachedScopes = this.convertToLowerCase(cachedScopes);\r\n        for (var i = 0; i < scopes.length; i++) {\r\n            if (cachedScopes.indexOf(scopes[i].toLowerCase()) > -1) {\r\n                return true;\r\n            }\r\n        }\r\n        return false;\r\n    };\r\n    /**\r\n     * Check if a given scope is present in the request\r\n     *\r\n     * @param cachedScopes\r\n     * @param scopes\r\n     */\r\n    ScopeSet.containsScope = function (cachedScopes, scopes) {\r\n        cachedScopes = this.convertToLowerCase(cachedScopes);\r\n        return scopes.every(function (value) { return cachedScopes.indexOf(value.toString().toLowerCase()) >= 0; });\r\n    };\r\n    /**\r\n     * toLower\r\n     *\r\n     * @param scopes\r\n     */\r\n    // TODO: Rename this, too generic name for a function that only deals with scopes\r\n    ScopeSet.convertToLowerCase = function (scopes) {\r\n        return scopes.map(function (scope) { return scope.toLowerCase(); });\r\n    };\r\n    /**\r\n     * remove one element from a scope array\r\n     *\r\n     * @param scopes\r\n     * @param scope\r\n     */\r\n    // TODO: Rename this, too generic name for a function that only deals with scopes\r\n    ScopeSet.removeElement = function (scopes, scope) {\r\n        return scopes.filter(function (value) { return value !== scope; });\r\n    };\r\n    /**\r\n     * Parse the scopes into a formatted scopeList\r\n     * @param scopes\r\n     */\r\n    ScopeSet.parseScope = function (scopes) {\r\n        var scopeList = \"\";\r\n        if (scopes) {\r\n            for (var i = 0; i < scopes.length; ++i) {\r\n                scopeList += (i !== scopes.length - 1) ? scopes[i] + \" \" : scopes[i];\r\n            }\r\n        }\r\n        return scopeList;\r\n    };\r\n    return ScopeSet;\r\n}());\r\nexport { ScopeSet };\r\n//# sourceMappingURL=ScopeSet.js.map","// Copyright (c) Microsoft Corporation. All rights reserved.\r\n// Licensed under the MIT License.\r\n/**\r\n * @hidden\r\n */\r\nvar StringUtils = /** @class */ (function () {\r\n    function StringUtils() {\r\n    }\r\n    /**\r\n     * Check if a string is empty\r\n     *\r\n     * @param str\r\n     */\r\n    StringUtils.isEmpty = function (str) {\r\n        return (typeof str === \"undefined\" || !str || 0 === str.length);\r\n    };\r\n    return StringUtils;\r\n}());\r\nexport { StringUtils };\r\n//# sourceMappingURL=StringUtils.js.map","// Copyright (c) Microsoft Corporation. All rights reserved.\r\n// Licensed under the MIT License.\r\nimport { Constants, SSOTypes } from \"./Constants\";\r\nimport { ScopeSet } from \"../ScopeSet\";\r\nimport { StringUtils } from './StringUtils';\r\n/**\r\n * @hidden\r\n */\r\nvar UrlUtils = /** @class */ (function () {\r\n    function UrlUtils() {\r\n    }\r\n    /**\r\n     * generates the URL with QueryString Parameters\r\n     * @param scopes\r\n     */\r\n    UrlUtils.createNavigateUrl = function (serverRequestParams) {\r\n        var str = this.createNavigationUrlString(serverRequestParams);\r\n        var authEndpoint = serverRequestParams.authorityInstance.AuthorizationEndpoint;\r\n        // if the endpoint already has queryparams, lets add to it, otherwise add the first one\r\n        if (authEndpoint.indexOf(\"?\") < 0) {\r\n            authEndpoint += \"?\";\r\n        }\r\n        else {\r\n            authEndpoint += \"&\";\r\n        }\r\n        var requestUrl = \"\" + authEndpoint + str.join(\"&\");\r\n        return requestUrl;\r\n    };\r\n    /**\r\n     * Generate the array of all QueryStringParams to be sent to the server\r\n     * @param scopes\r\n     */\r\n    UrlUtils.createNavigationUrlString = function (serverRequestParams) {\r\n        var scopes = serverRequestParams.scopes;\r\n        if (scopes.indexOf(serverRequestParams.clientId) === -1) {\r\n            scopes.push(serverRequestParams.clientId);\r\n        }\r\n        var str = [];\r\n        str.push(\"response_type=\" + serverRequestParams.responseType);\r\n        this.translateclientIdUsedInScope(scopes, serverRequestParams.clientId);\r\n        str.push(\"scope=\" + encodeURIComponent(ScopeSet.parseScope(scopes)));\r\n        str.push(\"client_id=\" + encodeURIComponent(serverRequestParams.clientId));\r\n        str.push(\"redirect_uri=\" + encodeURIComponent(serverRequestParams.redirectUri));\r\n        str.push(\"state=\" + encodeURIComponent(serverRequestParams.state));\r\n        str.push(\"nonce=\" + encodeURIComponent(serverRequestParams.nonce));\r\n        str.push(\"client_info=1\");\r\n        str.push(\"x-client-SKU=\" + serverRequestParams.xClientSku);\r\n        str.push(\"x-client-Ver=\" + serverRequestParams.xClientVer);\r\n        if (serverRequestParams.promptValue) {\r\n            str.push(\"prompt=\" + encodeURIComponent(serverRequestParams.promptValue));\r\n        }\r\n        if (serverRequestParams.claimsValue) {\r\n            str.push(\"claims=\" + encodeURIComponent(serverRequestParams.claimsValue));\r\n        }\r\n        if (serverRequestParams.queryParameters) {\r\n            str.push(serverRequestParams.queryParameters);\r\n        }\r\n        if (serverRequestParams.extraQueryParameters) {\r\n            str.push(serverRequestParams.extraQueryParameters);\r\n        }\r\n        str.push(\"client-request-id=\" + encodeURIComponent(serverRequestParams.correlationId));\r\n        return str;\r\n    };\r\n    /**\r\n     * append the required scopes: https://openid.net/specs/openid-connect-basic-1_0.html#Scopes\r\n     * @param scopes\r\n     */\r\n    UrlUtils.translateclientIdUsedInScope = function (scopes, clientId) {\r\n        var clientIdIndex = scopes.indexOf(clientId);\r\n        if (clientIdIndex >= 0) {\r\n            scopes.splice(clientIdIndex, 1);\r\n            if (scopes.indexOf(\"openid\") === -1) {\r\n                scopes.push(\"openid\");\r\n            }\r\n            if (scopes.indexOf(\"profile\") === -1) {\r\n                scopes.push(\"profile\");\r\n            }\r\n        }\r\n    };\r\n    /**\r\n     * Returns current window URL as redirect uri\r\n     */\r\n    UrlUtils.getDefaultRedirectUri = function () {\r\n        return window.location.href.split(\"?\")[0].split(\"#\")[0];\r\n    };\r\n    /**\r\n     * Given a url like https://a:b/common/d?e=f#g, and a tenantId, returns https://a:b/tenantId/d\r\n     * @param href The url\r\n     * @param tenantId The tenant id to replace\r\n     */\r\n    UrlUtils.replaceTenantPath = function (url, tenantId) {\r\n        url = url.toLowerCase();\r\n        var urlObject = this.GetUrlComponents(url);\r\n        var pathArray = urlObject.PathSegments;\r\n        if (tenantId && (pathArray.length !== 0 && (pathArray[0] === Constants.common || pathArray[0] === SSOTypes.ORGANIZATIONS))) {\r\n            pathArray[0] = tenantId;\r\n        }\r\n        return this.constructAuthorityUriFromObject(urlObject, pathArray);\r\n    };\r\n    UrlUtils.constructAuthorityUriFromObject = function (urlObject, pathArray) {\r\n        return this.CanonicalizeUri(urlObject.Protocol + \"//\" + urlObject.HostNameAndPort + \"/\" + pathArray.join(\"/\"));\r\n    };\r\n    /**\r\n     * Parses out the components from a url string.\r\n     * @returns An object with the various components. Please cache this value insted of calling this multiple times on the same url.\r\n     */\r\n    UrlUtils.GetUrlComponents = function (url) {\r\n        if (!url) {\r\n            throw \"Url required\";\r\n        }\r\n        // https://gist.github.com/curtisz/11139b2cfcaef4a261e0\r\n        var regEx = RegExp(\"^(([^:/?#]+):)?(//([^/?#]*))?([^?#]*)(\\\\?([^#]*))?(#(.*))?\");\r\n        var match = url.match(regEx);\r\n        if (!match || match.length < 6) {\r\n            throw \"Valid url required\";\r\n        }\r\n        var urlComponents = {\r\n            Protocol: match[1],\r\n            HostNameAndPort: match[4],\r\n            AbsolutePath: match[5]\r\n        };\r\n        var pathSegments = urlComponents.AbsolutePath.split(\"/\");\r\n        pathSegments = pathSegments.filter(function (val) { return val && val.length > 0; }); // remove empty elements\r\n        urlComponents.PathSegments = pathSegments;\r\n        return urlComponents;\r\n    };\r\n    /**\r\n     * Given a url or path, append a trailing slash if one doesnt exist\r\n     *\r\n     * @param url\r\n     */\r\n    UrlUtils.CanonicalizeUri = function (url) {\r\n        if (url) {\r\n            url = url.toLowerCase();\r\n        }\r\n        if (url && !UrlUtils.endsWith(url, \"/\")) {\r\n            url += \"/\";\r\n        }\r\n        return url;\r\n    };\r\n    /**\r\n     * Checks to see if the url ends with the suffix\r\n     * Required because we are compiling for es5 instead of es6\r\n     * @param url\r\n     * @param str\r\n     */\r\n    // TODO: Rename this, not clear what it is supposed to do\r\n    UrlUtils.endsWith = function (url, suffix) {\r\n        if (!url || !suffix) {\r\n            return false;\r\n        }\r\n        return url.indexOf(suffix, url.length - suffix.length) !== -1;\r\n    };\r\n    /**\r\n     * Utils function to remove the login_hint and domain_hint from the i/p extraQueryParameters\r\n     * @param url\r\n     * @param name\r\n     */\r\n    UrlUtils.urlRemoveQueryStringParameter = function (url, name) {\r\n        if (StringUtils.isEmpty(url)) {\r\n            return url;\r\n        }\r\n        var regex = new RegExp(\"(\\\\&\" + name + \"=)[^\\&]+\");\r\n        url = url.replace(regex, \"\");\r\n        // name=value&\r\n        regex = new RegExp(\"(\" + name + \"=)[^\\&]+&\");\r\n        url = url.replace(regex, \"\");\r\n        // name=value\r\n        regex = new RegExp(\"(\" + name + \"=)[^\\&]+\");\r\n        url = url.replace(regex, \"\");\r\n        return url;\r\n    };\r\n    /**\r\n     * @hidden\r\n     * @ignore\r\n     *\r\n     * Returns the anchor part(#) of the URL\r\n     */\r\n    UrlUtils.getHashFromUrl = function (urlStringOrFragment) {\r\n        var hashIndex1 = urlStringOrFragment.indexOf(\"#\");\r\n        var hashIndex2 = urlStringOrFragment.indexOf(\"#/\");\r\n        if (hashIndex2 > -1) {\r\n            return urlStringOrFragment.substring(hashIndex2 + 2);\r\n        }\r\n        else if (hashIndex1 > -1) {\r\n            return urlStringOrFragment.substring(hashIndex1 + 1);\r\n        }\r\n        return urlStringOrFragment;\r\n    };\r\n    return UrlUtils;\r\n}());\r\nexport { UrlUtils };\r\n//# sourceMappingURL=UrlUtils.js.map","// Copyright (c) Microsoft Corporation. All rights reserved.\r\n// Licensed under the MIT License.\r\nimport { CryptoUtils } from \"./utils/CryptoUtils\";\r\nimport { UrlUtils } from \"./utils/UrlUtils\";\r\n/**\r\n * @hidden\r\n */\r\nvar AccessTokenKey = /** @class */ (function () {\r\n    function AccessTokenKey(authority, clientId, scopes, uid, utid) {\r\n        this.authority = UrlUtils.CanonicalizeUri(authority);\r\n        this.clientId = clientId;\r\n        this.scopes = scopes;\r\n        this.homeAccountIdentifier = CryptoUtils.base64Encode(uid) + \".\" + CryptoUtils.base64Encode(utid);\r\n    }\r\n    return AccessTokenKey;\r\n}());\r\nexport { AccessTokenKey };\r\n//# sourceMappingURL=AccessTokenKey.js.map","// Copyright (c) Microsoft Corporation. All rights reserved.\r\n// Licensed under the MIT License.\r\n/**\r\n * @hidden\r\n */\r\nvar AccessTokenValue = /** @class */ (function () {\r\n    function AccessTokenValue(accessToken, idToken, expiresIn, homeAccountIdentifier) {\r\n        this.accessToken = accessToken;\r\n        this.idToken = idToken;\r\n        this.expiresIn = expiresIn;\r\n        this.homeAccountIdentifier = homeAccountIdentifier;\r\n    }\r\n    return AccessTokenValue;\r\n}());\r\nexport { AccessTokenValue };\r\n//# sourceMappingURL=AccessTokenValue.js.map","// Copyright (c) Microsoft Corporation. All rights reserved.\r\n// Licensed under the MIT License.\r\nimport * as tslib_1 from \"tslib\";\r\nexport var AuthErrorMessage = {\r\n    unexpectedError: {\r\n        code: \"unexpected_error\",\r\n        desc: \"Unexpected error in authentication.\"\r\n    }\r\n};\r\n/**\r\n* General error class thrown by the MSAL.js library.\r\n*/\r\nvar AuthError = /** @class */ (function (_super) {\r\n    tslib_1.__extends(AuthError, _super);\r\n    function AuthError(errorCode, errorMessage) {\r\n        var _this = _super.call(this, errorMessage) || this;\r\n        Object.setPrototypeOf(_this, AuthError.prototype);\r\n        _this.errorCode = errorCode;\r\n        _this.errorMessage = errorMessage;\r\n        _this.name = \"AuthError\";\r\n        return _this;\r\n    }\r\n    AuthError.createUnexpectedError = function (errDesc) {\r\n        return new AuthError(AuthErrorMessage.unexpectedError.code, AuthErrorMessage.unexpectedError.desc + \": \" + errDesc);\r\n    };\r\n    return AuthError;\r\n}(Error));\r\nexport { AuthError };\r\n//# sourceMappingURL=AuthError.js.map","// Copyright (c) Microsoft Corporation. All rights reserved.\r\n// Licensed under the MIT License.\r\nimport * as tslib_1 from \"tslib\";\r\nimport { AuthError } from \"./AuthError\";\r\nimport { StringUtils } from \"../utils/StringUtils\";\r\nexport var ClientAuthErrorMessage = {\r\n    multipleMatchingTokens: {\r\n        code: \"multiple_matching_tokens\",\r\n        desc: \"The cache contains multiple tokens satisfying the requirements. \" +\r\n            \"Call AcquireToken again providing more requirements like authority.\"\r\n    },\r\n    multipleCacheAuthorities: {\r\n        code: \"multiple_authorities\",\r\n        desc: \"Multiple authorities found in the cache. Pass authority in the API overload.\"\r\n    },\r\n    endpointResolutionError: {\r\n        code: \"endpoints_resolution_error\",\r\n        desc: \"Error: could not resolve endpoints. Please check network and try again.\"\r\n    },\r\n    popUpWindowError: {\r\n        code: \"popup_window_error\",\r\n        desc: \"Error opening popup window. This can happen if you are using IE or if popups are blocked in the browser.\"\r\n    },\r\n    tokenRenewalError: {\r\n        code: \"token_renewal_error\",\r\n        desc: \"Token renewal operation failed due to timeout.\"\r\n    },\r\n    invalidIdToken: {\r\n        code: \"invalid_id_token\",\r\n        desc: \"Invalid ID token format.\"\r\n    },\r\n    invalidStateError: {\r\n        code: \"invalid_state_error\",\r\n        desc: \"Invalid state.\"\r\n    },\r\n    nonceMismatchError: {\r\n        code: \"nonce_mismatch_error\",\r\n        desc: \"Nonce is not matching, Nonce received: \"\r\n    },\r\n    loginProgressError: {\r\n        code: \"login_progress_error\",\r\n        desc: \"Login_In_Progress: Error during login call - login is already in progress.\"\r\n    },\r\n    acquireTokenProgressError: {\r\n        code: \"acquiretoken_progress_error\",\r\n        desc: \"AcquireToken_In_Progress: Error during login call - login is already in progress.\"\r\n    },\r\n    userCancelledError: {\r\n        code: \"user_cancelled\",\r\n        desc: \"User cancelled the flow.\"\r\n    },\r\n    callbackError: {\r\n        code: \"callback_error\",\r\n        desc: \"Error occurred in token received callback function.\"\r\n    },\r\n    userLoginRequiredError: {\r\n        code: \"user_login_error\",\r\n        desc: \"User login is required.\"\r\n    },\r\n    userDoesNotExistError: {\r\n        code: \"user_non_existent\",\r\n        desc: \"User object does not exist. Please call a login API.\"\r\n    },\r\n    clientInfoDecodingError: {\r\n        code: \"client_info_decoding_error\",\r\n        desc: \"The client info could not be parsed/decoded correctly. Please review the trace to determine the root cause.\"\r\n    },\r\n    clientInfoNotPopulatedError: {\r\n        code: \"client_info_not_populated_error\",\r\n        desc: \"The service did not populate client_info in the response, Please verify with the service team\"\r\n    },\r\n    nullOrEmptyIdToken: {\r\n        code: \"null_or_empty_id_token\",\r\n        desc: \"The idToken is null or empty. Please review the trace to determine the root cause.\"\r\n    },\r\n    idTokenNotParsed: {\r\n        code: \"id_token_parsing_error\",\r\n        desc: \"ID token cannot be parsed. Please review stack trace to determine root cause.\"\r\n    },\r\n    tokenEncodingError: {\r\n        code: \"token_encoding_error\",\r\n        desc: \"The token to be decoded is not encoded correctly.\"\r\n    },\r\n    invalidInteractionType: {\r\n        code: \"invalid_interaction_type\",\r\n        desc: \"The interaction type passed to the handler was incorrect or unknown\"\r\n    }\r\n};\r\n/**\r\n * Error thrown when there is an error in the client code running on the browser.\r\n */\r\nvar ClientAuthError = /** @class */ (function (_super) {\r\n    tslib_1.__extends(ClientAuthError, _super);\r\n    function ClientAuthError(errorCode, errorMessage) {\r\n        var _this = _super.call(this, errorCode, errorMessage) || this;\r\n        _this.name = \"ClientAuthError\";\r\n        Object.setPrototypeOf(_this, ClientAuthError.prototype);\r\n        return _this;\r\n    }\r\n    ClientAuthError.createEndpointResolutionError = function (errDetail) {\r\n        var errorMessage = ClientAuthErrorMessage.endpointResolutionError.desc;\r\n        if (errDetail && !StringUtils.isEmpty(errDetail)) {\r\n            errorMessage += \" Details: \" + errDetail;\r\n        }\r\n        return new ClientAuthError(ClientAuthErrorMessage.endpointResolutionError.code, errorMessage);\r\n    };\r\n    ClientAuthError.createMultipleMatchingTokensInCacheError = function (scope) {\r\n        return new ClientAuthError(ClientAuthErrorMessage.multipleMatchingTokens.code, \"Cache error for scope \" + scope + \": \" + ClientAuthErrorMessage.multipleMatchingTokens.desc + \".\");\r\n    };\r\n    ClientAuthError.createMultipleAuthoritiesInCacheError = function (scope) {\r\n        return new ClientAuthError(ClientAuthErrorMessage.multipleCacheAuthorities.code, \"Cache error for scope \" + scope + \": \" + ClientAuthErrorMessage.multipleCacheAuthorities.desc + \".\");\r\n    };\r\n    ClientAuthError.createPopupWindowError = function (errDetail) {\r\n        var errorMessage = ClientAuthErrorMessage.popUpWindowError.desc;\r\n        if (errDetail && !StringUtils.isEmpty(errDetail)) {\r\n            errorMessage += \" Details: \" + errDetail;\r\n        }\r\n        return new ClientAuthError(ClientAuthErrorMessage.popUpWindowError.code, errorMessage);\r\n    };\r\n    ClientAuthError.createTokenRenewalTimeoutError = function () {\r\n        return new ClientAuthError(ClientAuthErrorMessage.tokenRenewalError.code, ClientAuthErrorMessage.tokenRenewalError.desc);\r\n    };\r\n    ClientAuthError.createInvalidIdTokenError = function (idToken) {\r\n        return new ClientAuthError(ClientAuthErrorMessage.invalidIdToken.code, ClientAuthErrorMessage.invalidIdToken.desc + \" Given token: \" + idToken);\r\n    };\r\n    //TODO: Is this not a security flaw to send the user the state expected??\r\n    ClientAuthError.createInvalidStateError = function (invalidState, actualState) {\r\n        return new ClientAuthError(ClientAuthErrorMessage.invalidStateError.code, ClientAuthErrorMessage.invalidStateError.desc + \" \" + invalidState + \", state expected : \" + actualState + \".\");\r\n    };\r\n    //TODO: Is this not a security flaw to send the user the Nonce expected??\r\n    ClientAuthError.createNonceMismatchError = function (invalidNonce, actualNonce) {\r\n        return new ClientAuthError(ClientAuthErrorMessage.nonceMismatchError.code, ClientAuthErrorMessage.nonceMismatchError.desc + \" \" + invalidNonce + \", nonce expected : \" + actualNonce + \".\");\r\n    };\r\n    ClientAuthError.createLoginInProgressError = function () {\r\n        return new ClientAuthError(ClientAuthErrorMessage.loginProgressError.code, ClientAuthErrorMessage.loginProgressError.desc);\r\n    };\r\n    ClientAuthError.createAcquireTokenInProgressError = function () {\r\n        return new ClientAuthError(ClientAuthErrorMessage.acquireTokenProgressError.code, ClientAuthErrorMessage.acquireTokenProgressError.desc);\r\n    };\r\n    ClientAuthError.createUserCancelledError = function () {\r\n        return new ClientAuthError(ClientAuthErrorMessage.userCancelledError.code, ClientAuthErrorMessage.userCancelledError.desc);\r\n    };\r\n    ClientAuthError.createErrorInCallbackFunction = function (errorDesc) {\r\n        return new ClientAuthError(ClientAuthErrorMessage.callbackError.code, ClientAuthErrorMessage.callbackError.desc + \" \" + errorDesc + \".\");\r\n    };\r\n    ClientAuthError.createUserLoginRequiredError = function () {\r\n        return new ClientAuthError(ClientAuthErrorMessage.userLoginRequiredError.code, ClientAuthErrorMessage.userLoginRequiredError.desc);\r\n    };\r\n    ClientAuthError.createUserDoesNotExistError = function () {\r\n        return new ClientAuthError(ClientAuthErrorMessage.userDoesNotExistError.code, ClientAuthErrorMessage.userDoesNotExistError.desc);\r\n    };\r\n    ClientAuthError.createClientInfoDecodingError = function (caughtError) {\r\n        return new ClientAuthError(ClientAuthErrorMessage.clientInfoDecodingError.code, ClientAuthErrorMessage.clientInfoDecodingError.desc + \" Failed with error: \" + caughtError);\r\n    };\r\n    ClientAuthError.createClientInfoNotPopulatedError = function (caughtError) {\r\n        return new ClientAuthError(ClientAuthErrorMessage.clientInfoNotPopulatedError.code, ClientAuthErrorMessage.clientInfoNotPopulatedError.desc + \" Failed with error: \" + caughtError);\r\n    };\r\n    ClientAuthError.createIdTokenNullOrEmptyError = function (invalidRawTokenString) {\r\n        return new ClientAuthError(ClientAuthErrorMessage.nullOrEmptyIdToken.code, ClientAuthErrorMessage.nullOrEmptyIdToken.desc + \" Raw ID Token Value: \" + invalidRawTokenString);\r\n    };\r\n    ClientAuthError.createIdTokenParsingError = function (caughtParsingError) {\r\n        return new ClientAuthError(ClientAuthErrorMessage.idTokenNotParsed.code, ClientAuthErrorMessage.idTokenNotParsed.desc + \" Failed with error: \" + caughtParsingError);\r\n    };\r\n    ClientAuthError.createTokenEncodingError = function (incorrectlyEncodedToken) {\r\n        return new ClientAuthError(ClientAuthErrorMessage.tokenEncodingError.code, ClientAuthErrorMessage.tokenEncodingError.desc + \" Attempted to decode: \" + incorrectlyEncodedToken);\r\n    };\r\n    ClientAuthError.createInvalidInteractionTypeError = function () {\r\n        return new ClientAuthError(ClientAuthErrorMessage.invalidInteractionType.code, ClientAuthErrorMessage.invalidInteractionType.desc);\r\n    };\r\n    return ClientAuthError;\r\n}(AuthError));\r\nexport { ClientAuthError };\r\n//# sourceMappingURL=ClientAuthError.js.map","// Copyright (c) Microsoft Corporation. All rights reserved.\r\n// Licensed under the MIT License.\r\nimport * as tslib_1 from \"tslib\";\r\nimport { Constants } from \"../utils/Constants\";\r\nimport { ClientAuthError } from \"./ClientAuthError\";\r\nexport var ClientConfigurationErrorMessage = {\r\n    configurationNotSet: {\r\n        code: \"no_config_set\",\r\n        desc: \"Configuration has not been set. Please call the UserAgentApplication constructor with a valid Configuration object.\"\r\n    },\r\n    invalidCacheLocation: {\r\n        code: \"invalid_cache_location\",\r\n        desc: \"The cache location provided is not valid.\"\r\n    },\r\n    noStorageSupported: {\r\n        code: \"browser_storage_not_supported\",\r\n        desc: \"localStorage and sessionStorage are not supported.\"\r\n    },\r\n    noRedirectCallbacksSet: {\r\n        code: \"no_redirect_callbacks\",\r\n        desc: \"No redirect callbacks have been set. Please call setRedirectCallbacks() with the appropriate function arguments before continuing. \" +\r\n            \"More information is available here: https://github.com/AzureAD/microsoft-authentication-library-for-js/wiki/MSAL-basics.\"\r\n    },\r\n    invalidCallbackObject: {\r\n        code: \"invalid_callback_object\",\r\n        desc: \"The object passed for the callback was invalid. \" +\r\n            \"More information is available here: https://github.com/AzureAD/microsoft-authentication-library-for-js/wiki/MSAL-basics.\"\r\n    },\r\n    scopesRequired: {\r\n        code: \"scopes_required\",\r\n        desc: \"Scopes are required to obtain an access token.\"\r\n    },\r\n    emptyScopes: {\r\n        code: \"empty_input_scopes_error\",\r\n        desc: \"Scopes cannot be passed as empty array.\"\r\n    },\r\n    nonArrayScopes: {\r\n        code: \"nonarray_input_scopes_error\",\r\n        desc: \"Scopes cannot be passed as non-array.\"\r\n    },\r\n    clientScope: {\r\n        code: \"clientid_input_scopes_error\",\r\n        desc: \"Client ID can only be provided as a single scope.\"\r\n    },\r\n    invalidPrompt: {\r\n        code: \"invalid_prompt_value\",\r\n        desc: \"Supported prompt values are 'login', 'select_account', 'consent' and 'none'\",\r\n    },\r\n    invalidAuthorityType: {\r\n        code: \"invalid_authority_type\",\r\n        desc: \"The given authority is not a valid type of authority supported by MSAL. Please see here for valid authorities: <insert URL here>.\"\r\n    },\r\n    authorityUriInsecure: {\r\n        code: \"authority_uri_insecure\",\r\n        desc: \"Authority URIs must use https.\"\r\n    },\r\n    authorityUriInvalidPath: {\r\n        code: \"authority_uri_invalid_path\",\r\n        desc: \"Given authority URI is invalid.\"\r\n    },\r\n    unsupportedAuthorityValidation: {\r\n        code: \"unsupported_authority_validation\",\r\n        desc: \"The authority validation is not supported for this authority type.\"\r\n    },\r\n    b2cAuthorityUriInvalidPath: {\r\n        code: \"b2c_authority_uri_invalid_path\",\r\n        desc: \"The given URI for the B2C authority is invalid.\"\r\n    },\r\n    claimsRequestParsingError: {\r\n        code: \"claims_request_parsing_error\",\r\n        desc: \"Could not parse the given claims request object.\"\r\n    },\r\n    emptyRequestError: {\r\n        code: \"empty_request_error\",\r\n        desc: \"Request object is required.\"\r\n    },\r\n    telemetryConfigError: {\r\n        code: \"telemetry_config_error\",\r\n        desc: \"Telemetry config is not configured with required values\"\r\n    }\r\n};\r\n/**\r\n * Error thrown when there is an error in configuration of the .js library.\r\n */\r\nvar ClientConfigurationError = /** @class */ (function (_super) {\r\n    tslib_1.__extends(ClientConfigurationError, _super);\r\n    function ClientConfigurationError(errorCode, errorMessage) {\r\n        var _this = _super.call(this, errorCode, errorMessage) || this;\r\n        _this.name = \"ClientConfigurationError\";\r\n        Object.setPrototypeOf(_this, ClientConfigurationError.prototype);\r\n        return _this;\r\n    }\r\n    ClientConfigurationError.createNoSetConfigurationError = function () {\r\n        return new ClientConfigurationError(ClientConfigurationErrorMessage.configurationNotSet.code, \"\" + ClientConfigurationErrorMessage.configurationNotSet.desc);\r\n    };\r\n    ClientConfigurationError.createInvalidCacheLocationConfigError = function (givenCacheLocation) {\r\n        return new ClientConfigurationError(ClientConfigurationErrorMessage.invalidCacheLocation.code, ClientConfigurationErrorMessage.invalidCacheLocation.desc + \" Provided value: \" + givenCacheLocation + \". Possible values are: \" + Constants.cacheLocationLocal + \", \" + Constants.cacheLocationSession + \".\");\r\n    };\r\n    ClientConfigurationError.createNoStorageSupportedError = function () {\r\n        return new ClientConfigurationError(ClientConfigurationErrorMessage.noStorageSupported.code, ClientConfigurationErrorMessage.noStorageSupported.desc);\r\n    };\r\n    ClientConfigurationError.createRedirectCallbacksNotSetError = function () {\r\n        return new ClientConfigurationError(ClientConfigurationErrorMessage.noRedirectCallbacksSet.code, ClientConfigurationErrorMessage.noRedirectCallbacksSet.desc);\r\n    };\r\n    ClientConfigurationError.createInvalidCallbackObjectError = function (callbackObject) {\r\n        return new ClientConfigurationError(ClientConfigurationErrorMessage.invalidCallbackObject.code, ClientConfigurationErrorMessage.invalidCallbackObject.desc + \" Given value for callback function: \" + callbackObject);\r\n    };\r\n    ClientConfigurationError.createEmptyScopesArrayError = function (scopesValue) {\r\n        return new ClientConfigurationError(ClientConfigurationErrorMessage.emptyScopes.code, ClientConfigurationErrorMessage.emptyScopes.desc + \" Given value: \" + scopesValue + \".\");\r\n    };\r\n    ClientConfigurationError.createScopesNonArrayError = function (scopesValue) {\r\n        return new ClientConfigurationError(ClientConfigurationErrorMessage.nonArrayScopes.code, ClientConfigurationErrorMessage.nonArrayScopes.desc + \" Given value: \" + scopesValue + \".\");\r\n    };\r\n    ClientConfigurationError.createClientIdSingleScopeError = function (scopesValue) {\r\n        return new ClientConfigurationError(ClientConfigurationErrorMessage.clientScope.code, ClientConfigurationErrorMessage.clientScope.desc + \" Given value: \" + scopesValue + \".\");\r\n    };\r\n    ClientConfigurationError.createScopesRequiredError = function (scopesValue) {\r\n        return new ClientConfigurationError(ClientConfigurationErrorMessage.scopesRequired.code, ClientConfigurationErrorMessage.scopesRequired.desc + \" Given value: \" + scopesValue);\r\n    };\r\n    ClientConfigurationError.createInvalidPromptError = function (promptValue) {\r\n        return new ClientConfigurationError(ClientConfigurationErrorMessage.invalidPrompt.code, ClientConfigurationErrorMessage.invalidPrompt.desc + \" Given value: \" + promptValue);\r\n    };\r\n    ClientConfigurationError.createClaimsRequestParsingError = function (claimsRequestParseError) {\r\n        return new ClientConfigurationError(ClientConfigurationErrorMessage.claimsRequestParsingError.code, ClientConfigurationErrorMessage.claimsRequestParsingError.desc + \" Given value: \" + claimsRequestParseError);\r\n    };\r\n    ClientConfigurationError.createEmptyRequestError = function () {\r\n        var _a = ClientConfigurationErrorMessage.emptyRequestError, code = _a.code, desc = _a.desc;\r\n        return new ClientConfigurationError(code, desc);\r\n    };\r\n    ClientConfigurationError.createTelemetryConfigError = function (config) {\r\n        var _a = ClientConfigurationErrorMessage.telemetryConfigError, code = _a.code, desc = _a.desc;\r\n        var requiredKeys = {\r\n            applicationName: \"string\",\r\n            applicationVersion: \"string\",\r\n            telemetryEmitter: \"function\"\r\n        };\r\n        var missingKeys = Object.keys(requiredKeys)\r\n            .reduce(function (keys, key) {\r\n            return config[key] ? keys : keys.concat([key + \" (\" + requiredKeys[key] + \")\"]);\r\n        }, []);\r\n        return new ClientConfigurationError(code, desc + \" mising values: \" + missingKeys.join(\",\"));\r\n    };\r\n    return ClientConfigurationError;\r\n}(ClientAuthError));\r\nexport { ClientConfigurationError };\r\n//# sourceMappingURL=ClientConfigurationError.js.map","// Copyright (c) Microsoft Corporation. All rights reserved.\r\n// Licensed under the MIT License.\r\nimport { CryptoUtils } from \"./utils/CryptoUtils\";\r\nimport { validateClaimsRequest } from \"./AuthenticationParameters\";\r\nimport { SSOTypes, Constants, PromptState, BlacklistedEQParams, libraryVersion } from \"./utils/Constants\";\r\nimport { ClientConfigurationError } from \"./error/ClientConfigurationError\";\r\nimport { StringUtils } from \"./utils/StringUtils\";\r\n/**\r\n * Nonce: OIDC Nonce definition: https://openid.net/specs/openid-connect-core-1_0.html#IDToken\r\n * State: OAuth Spec: https://tools.ietf.org/html/rfc6749#section-10.12\r\n * @hidden\r\n */\r\nvar ServerRequestParameters = /** @class */ (function () {\r\n    /**\r\n     * Constructor\r\n     * @param authority\r\n     * @param clientId\r\n     * @param scope\r\n     * @param responseType\r\n     * @param redirectUri\r\n     * @param state\r\n     */\r\n    function ServerRequestParameters(authority, clientId, scope, responseType, redirectUri, state) {\r\n        this.authorityInstance = authority;\r\n        this.clientId = clientId;\r\n        if (!scope) {\r\n            this.scopes = [clientId];\r\n        }\r\n        else {\r\n            this.scopes = scope.slice();\r\n        }\r\n        this.nonce = CryptoUtils.createNewGuid();\r\n        this.state = state && !StringUtils.isEmpty(state) ? CryptoUtils.createNewGuid() + \"|\" + state : CryptoUtils.createNewGuid();\r\n        // TODO: Change this to user passed vs generated with the new PR\r\n        this.correlationId = CryptoUtils.createNewGuid();\r\n        // telemetry information\r\n        this.xClientSku = \"MSAL.JS\";\r\n        this.xClientVer = libraryVersion();\r\n        this.responseType = responseType;\r\n        this.redirectUri = redirectUri;\r\n    }\r\n    Object.defineProperty(ServerRequestParameters.prototype, \"authority\", {\r\n        get: function () {\r\n            return this.authorityInstance ? this.authorityInstance.CanonicalAuthority : null;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * @hidden\r\n     * @ignore\r\n     *\r\n     * Utility to populate QueryParameters and ExtraQueryParameters to ServerRequestParamerers\r\n     * @param request\r\n     * @param serverAuthenticationRequest\r\n     */\r\n    ServerRequestParameters.prototype.populateQueryParams = function (account, request, adalIdTokenObject) {\r\n        var queryParameters = {};\r\n        if (request) {\r\n            // add the prompt parameter to serverRequestParameters if passed\r\n            if (request.prompt) {\r\n                this.validatePromptParameter(request.prompt);\r\n                this.promptValue = request.prompt;\r\n            }\r\n            // Add claims challenge to serverRequestParameters if passed\r\n            if (request.claimsRequest) {\r\n                validateClaimsRequest(request);\r\n                this.claimsValue = request.claimsRequest;\r\n            }\r\n            // if the developer provides one of these, give preference to developer choice\r\n            if (ServerRequestParameters.isSSOParam(request)) {\r\n                queryParameters = this.constructUnifiedCacheQueryParameter(request, null);\r\n            }\r\n        }\r\n        if (adalIdTokenObject) {\r\n            queryParameters = this.constructUnifiedCacheQueryParameter(null, adalIdTokenObject);\r\n        }\r\n        // adds sid/login_hint if not populated; populates domain_req, login_req and domain_hint\r\n        // this.logger.verbose(\"Calling addHint parameters\");\r\n        queryParameters = this.addHintParameters(account, queryParameters);\r\n        // sanity check for developer passed extraQueryParameters\r\n        var eQParams;\r\n        if (request) {\r\n            eQParams = this.sanitizeEQParams(request);\r\n        }\r\n        // Populate the extraQueryParameters to be sent to the server\r\n        this.queryParameters = ServerRequestParameters.generateQueryParametersString(queryParameters);\r\n        this.extraQueryParameters = ServerRequestParameters.generateQueryParametersString(eQParams);\r\n    };\r\n    //#region QueryParam helpers\r\n    /**\r\n     * @hidden\r\n     * @ignore\r\n     *\r\n     * Utility to test if valid prompt value is passed in the request\r\n     * @param request\r\n     */\r\n    ServerRequestParameters.prototype.validatePromptParameter = function (prompt) {\r\n        if (!([PromptState.LOGIN, PromptState.SELECT_ACCOUNT, PromptState.CONSENT, PromptState.NONE].indexOf(prompt) >= 0)) {\r\n            throw ClientConfigurationError.createInvalidPromptError(prompt);\r\n        }\r\n    };\r\n    /**\r\n     * Constructs extraQueryParameters to be sent to the server for the AuthenticationParameters set by the developer\r\n     * in any login() or acquireToken() calls\r\n     * @param idTokenObject\r\n     * @param extraQueryParameters\r\n     * @param sid\r\n     * @param loginHint\r\n     */\r\n    //TODO: check how this behaves when domain_hint only is sent in extraparameters and idToken has no upn.\r\n    ServerRequestParameters.prototype.constructUnifiedCacheQueryParameter = function (request, idTokenObject) {\r\n        // preference order: account > sid > login_hint\r\n        var ssoType;\r\n        var ssoData;\r\n        var serverReqParam = {};\r\n        // if account info is passed, account.sid > account.login_hint\r\n        if (request) {\r\n            if (request.account) {\r\n                var account = request.account;\r\n                if (account.sid) {\r\n                    ssoType = SSOTypes.SID;\r\n                    ssoData = account.sid;\r\n                }\r\n                else if (account.userName) {\r\n                    ssoType = SSOTypes.LOGIN_HINT;\r\n                    ssoData = account.userName;\r\n                }\r\n            }\r\n            // sid from request\r\n            else if (request.sid) {\r\n                ssoType = SSOTypes.SID;\r\n                ssoData = request.sid;\r\n            }\r\n            // loginHint from request\r\n            else if (request.loginHint) {\r\n                ssoType = SSOTypes.LOGIN_HINT;\r\n                ssoData = request.loginHint;\r\n            }\r\n        }\r\n        // adalIdToken retrieved from cache\r\n        else if (idTokenObject) {\r\n            if (idTokenObject.hasOwnProperty(Constants.upn)) {\r\n                ssoType = SSOTypes.ID_TOKEN;\r\n                ssoData = idTokenObject.upn;\r\n            }\r\n            else {\r\n                ssoType = SSOTypes.ORGANIZATIONS;\r\n                ssoData = null;\r\n            }\r\n        }\r\n        serverReqParam = this.addSSOParameter(ssoType, ssoData);\r\n        // add the HomeAccountIdentifier info/ domain_hint\r\n        if (request && request.account && request.account.homeAccountIdentifier) {\r\n            serverReqParam = this.addSSOParameter(SSOTypes.HOMEACCOUNT_ID, request.account.homeAccountIdentifier, serverReqParam);\r\n        }\r\n        return serverReqParam;\r\n    };\r\n    /**\r\n     * @hidden\r\n     *\r\n     * Adds login_hint to authorization URL which is used to pre-fill the username field of sign in page for the user if known ahead of time\r\n     * domain_hint can be one of users/organizations which when added skips the email based discovery process of the user\r\n     * domain_req utid received as part of the clientInfo\r\n     * login_req uid received as part of clientInfo\r\n     * Also does a sanity check for extraQueryParameters passed by the user to ensure no repeat queryParameters\r\n     *\r\n     * @param {@link Account} account - Account for which the token is requested\r\n     * @param queryparams\r\n     * @param {@link ServerRequestParameters}\r\n     * @ignore\r\n     */\r\n    ServerRequestParameters.prototype.addHintParameters = function (account, qParams) {\r\n        // This is a final check for all queryParams added so far; preference order: sid > login_hint\r\n        // sid cannot be passed along with login_hint or domain_hint, hence we check both are not populated yet in queryParameters\r\n        if (account && !qParams[SSOTypes.SID]) {\r\n            // sid - populate only if login_hint is not already populated and the account has sid\r\n            var populateSID = !qParams[SSOTypes.LOGIN_HINT] && account.sid && this.promptValue === PromptState.NONE;\r\n            if (populateSID) {\r\n                qParams = this.addSSOParameter(SSOTypes.SID, account.sid, qParams);\r\n            }\r\n            // login_hint - account.userName\r\n            else {\r\n                var populateLoginHint = !qParams[SSOTypes.LOGIN_HINT] && account.userName && !StringUtils.isEmpty(account.userName);\r\n                if (populateLoginHint) {\r\n                    qParams = this.addSSOParameter(SSOTypes.LOGIN_HINT, account.userName, qParams);\r\n                }\r\n            }\r\n            var populateReqParams = !qParams[SSOTypes.DOMAIN_REQ] && !qParams[SSOTypes.LOGIN_REQ];\r\n            if (populateReqParams) {\r\n                qParams = this.addSSOParameter(SSOTypes.HOMEACCOUNT_ID, account.homeAccountIdentifier, qParams);\r\n            }\r\n        }\r\n        return qParams;\r\n    };\r\n    /**\r\n     * Add SID to extraQueryParameters\r\n     * @param sid\r\n     */\r\n    ServerRequestParameters.prototype.addSSOParameter = function (ssoType, ssoData, ssoParam) {\r\n        if (!ssoParam) {\r\n            ssoParam = {};\r\n        }\r\n        if (!ssoData) {\r\n            return ssoParam;\r\n        }\r\n        switch (ssoType) {\r\n            case SSOTypes.SID: {\r\n                ssoParam[SSOTypes.SID] = ssoData;\r\n                break;\r\n            }\r\n            case SSOTypes.ID_TOKEN: {\r\n                ssoParam[SSOTypes.LOGIN_HINT] = ssoData;\r\n                ssoParam[SSOTypes.DOMAIN_HINT] = SSOTypes.ORGANIZATIONS;\r\n                break;\r\n            }\r\n            case SSOTypes.LOGIN_HINT: {\r\n                ssoParam[SSOTypes.LOGIN_HINT] = ssoData;\r\n                break;\r\n            }\r\n            case SSOTypes.ORGANIZATIONS: {\r\n                ssoParam[SSOTypes.DOMAIN_HINT] = SSOTypes.ORGANIZATIONS;\r\n                break;\r\n            }\r\n            case SSOTypes.CONSUMERS: {\r\n                ssoParam[SSOTypes.DOMAIN_HINT] = SSOTypes.CONSUMERS;\r\n                break;\r\n            }\r\n            case SSOTypes.HOMEACCOUNT_ID: {\r\n                var homeAccountId = ssoData.split(\".\");\r\n                var uid = CryptoUtils.base64Decode(homeAccountId[0]);\r\n                var utid = CryptoUtils.base64Decode(homeAccountId[1]);\r\n                // TODO: domain_req and login_req are not needed according to eSTS team\r\n                ssoParam[SSOTypes.LOGIN_REQ] = uid;\r\n                ssoParam[SSOTypes.DOMAIN_REQ] = utid;\r\n                if (utid === Constants.consumersUtid) {\r\n                    ssoParam[SSOTypes.DOMAIN_HINT] = SSOTypes.CONSUMERS;\r\n                }\r\n                else {\r\n                    ssoParam[SSOTypes.DOMAIN_HINT] = SSOTypes.ORGANIZATIONS;\r\n                }\r\n                break;\r\n            }\r\n            case SSOTypes.LOGIN_REQ: {\r\n                ssoParam[SSOTypes.LOGIN_REQ] = ssoData;\r\n                break;\r\n            }\r\n            case SSOTypes.DOMAIN_REQ: {\r\n                ssoParam[SSOTypes.DOMAIN_REQ] = ssoData;\r\n                break;\r\n            }\r\n        }\r\n        return ssoParam;\r\n    };\r\n    /**\r\n     * @hidden\r\n     * @ignore\r\n     * Removes unnecessary or duplicate query parameters from extraQueryParameters\r\n     * @param request\r\n     */\r\n    ServerRequestParameters.prototype.sanitizeEQParams = function (request) {\r\n        var eQParams = request.extraQueryParameters;\r\n        if (!eQParams) {\r\n            return null;\r\n        }\r\n        if (request.claimsRequest) {\r\n            // this.logger.warning(\"Removed duplicate claims from extraQueryParameters. Please use either the claimsRequest field OR pass as extraQueryParameter - not both.\");\r\n            delete eQParams[Constants.claims];\r\n        }\r\n        BlacklistedEQParams.forEach(function (param) {\r\n            if (eQParams[param]) {\r\n                // this.logger.warning(\"Removed duplicate \" + param + \" from extraQueryParameters. Please use the \" + param + \" field in request object.\");\r\n                delete eQParams[param];\r\n            }\r\n        });\r\n        return eQParams;\r\n    };\r\n    /**\r\n     * Utility to generate a QueryParameterString from a Key-Value mapping of extraQueryParameters passed\r\n     * @param extraQueryParameters\r\n     */\r\n    ServerRequestParameters.generateQueryParametersString = function (queryParameters) {\r\n        var paramsString = null;\r\n        if (queryParameters) {\r\n            Object.keys(queryParameters).forEach(function (key) {\r\n                if (paramsString == null) {\r\n                    paramsString = key + \"=\" + encodeURIComponent(queryParameters[key]);\r\n                }\r\n                else {\r\n                    paramsString += \"&\" + key + \"=\" + encodeURIComponent(queryParameters[key]);\r\n                }\r\n            });\r\n        }\r\n        return paramsString;\r\n    };\r\n    //#endregion\r\n    /**\r\n     * Check to see if there are SSO params set in the Request\r\n     * @param request\r\n     */\r\n    ServerRequestParameters.isSSOParam = function (request) {\r\n        return request && (request.account || request.sid || request.loginHint);\r\n    };\r\n    return ServerRequestParameters;\r\n}());\r\nexport { ServerRequestParameters };\r\n//# sourceMappingURL=ServerRequestParameters.js.map","// Copyright (c) Microsoft Corporation. All rights reserved.\r\n// Licensed under the MIT License.\r\nimport { ClientConfigurationErrorMessage } from \"./error/ClientConfigurationError\";\r\nimport { XhrClient } from \"./XHRClient\";\r\nimport { UrlUtils } from \"./utils/UrlUtils\";\r\n/**\r\n * @hidden\r\n */\r\nexport var AuthorityType;\r\n(function (AuthorityType) {\r\n    AuthorityType[AuthorityType[\"Aad\"] = 0] = \"Aad\";\r\n    AuthorityType[AuthorityType[\"Adfs\"] = 1] = \"Adfs\";\r\n    AuthorityType[AuthorityType[\"B2C\"] = 2] = \"B2C\";\r\n})(AuthorityType || (AuthorityType = {}));\r\n/**\r\n * @hidden\r\n */\r\nvar Authority = /** @class */ (function () {\r\n    function Authority(authority, validateAuthority) {\r\n        this.IsValidationEnabled = validateAuthority;\r\n        this.CanonicalAuthority = authority;\r\n        this.validateAsUri();\r\n    }\r\n    Object.defineProperty(Authority.prototype, \"Tenant\", {\r\n        get: function () {\r\n            return this.CanonicalAuthorityUrlComponents.PathSegments[0];\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Authority.prototype, \"AuthorizationEndpoint\", {\r\n        get: function () {\r\n            this.validateResolved();\r\n            return this.tenantDiscoveryResponse.AuthorizationEndpoint.replace(\"{tenant}\", this.Tenant);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Authority.prototype, \"EndSessionEndpoint\", {\r\n        get: function () {\r\n            this.validateResolved();\r\n            return this.tenantDiscoveryResponse.EndSessionEndpoint.replace(\"{tenant}\", this.Tenant);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Authority.prototype, \"SelfSignedJwtAudience\", {\r\n        get: function () {\r\n            this.validateResolved();\r\n            return this.tenantDiscoveryResponse.Issuer.replace(\"{tenant}\", this.Tenant);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Authority.prototype.validateResolved = function () {\r\n        if (!this.tenantDiscoveryResponse) {\r\n            throw \"Please call ResolveEndpointsAsync first\";\r\n        }\r\n    };\r\n    Object.defineProperty(Authority.prototype, \"CanonicalAuthority\", {\r\n        /**\r\n         * A URL that is the authority set by the developer\r\n         */\r\n        get: function () {\r\n            return this.canonicalAuthority;\r\n        },\r\n        set: function (url) {\r\n            this.canonicalAuthority = UrlUtils.CanonicalizeUri(url);\r\n            this.canonicalAuthorityUrlComponents = null;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Authority.prototype, \"CanonicalAuthorityUrlComponents\", {\r\n        get: function () {\r\n            if (!this.canonicalAuthorityUrlComponents) {\r\n                this.canonicalAuthorityUrlComponents = UrlUtils.GetUrlComponents(this.CanonicalAuthority);\r\n            }\r\n            return this.canonicalAuthorityUrlComponents;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Authority.prototype, \"DefaultOpenIdConfigurationEndpoint\", {\r\n        /**\r\n         * // http://openid.net/specs/openid-connect-discovery-1_0.html#ProviderMetadata\r\n         */\r\n        get: function () {\r\n            return this.CanonicalAuthority + \"v2.0/.well-known/openid-configuration\";\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * Given a string, validate that it is of the form https://domain/path\r\n     */\r\n    Authority.prototype.validateAsUri = function () {\r\n        var components;\r\n        try {\r\n            components = this.CanonicalAuthorityUrlComponents;\r\n        }\r\n        catch (e) {\r\n            throw ClientConfigurationErrorMessage.invalidAuthorityType;\r\n        }\r\n        if (!components.Protocol || components.Protocol.toLowerCase() !== \"https:\") {\r\n            throw ClientConfigurationErrorMessage.authorityUriInsecure;\r\n        }\r\n        if (!components.PathSegments || components.PathSegments.length < 1) {\r\n            throw ClientConfigurationErrorMessage.authorityUriInvalidPath;\r\n        }\r\n    };\r\n    /**\r\n     * Calls the OIDC endpoint and returns the response\r\n     */\r\n    Authority.prototype.DiscoverEndpoints = function (openIdConfigurationEndpoint) {\r\n        var client = new XhrClient();\r\n        return client.sendRequestAsync(openIdConfigurationEndpoint, \"GET\", /*enableCaching: */ true)\r\n            .then(function (response) {\r\n            return {\r\n                AuthorizationEndpoint: response.authorization_endpoint,\r\n                EndSessionEndpoint: response.end_session_endpoint,\r\n                Issuer: response.issuer\r\n            };\r\n        });\r\n    };\r\n    /**\r\n     * Returns a promise.\r\n     * Checks to see if the authority is in the cache\r\n     * Discover endpoints via openid-configuration\r\n     * If successful, caches the endpoint for later use in OIDC\r\n     */\r\n    Authority.prototype.resolveEndpointsAsync = function () {\r\n        var _this = this;\r\n        var openIdConfigurationEndpoint = \"\";\r\n        return this.GetOpenIdConfigurationEndpointAsync().then(function (openIdConfigurationEndpointResponse) {\r\n            openIdConfigurationEndpoint = openIdConfigurationEndpointResponse;\r\n            return _this.DiscoverEndpoints(openIdConfigurationEndpoint);\r\n        }).then(function (tenantDiscoveryResponse) {\r\n            _this.tenantDiscoveryResponse = tenantDiscoveryResponse;\r\n            return _this;\r\n        });\r\n    };\r\n    return Authority;\r\n}());\r\nexport { Authority };\r\n//# sourceMappingURL=Authority.js.map","// Copyright (c) Microsoft Corporation. All rights reserved.\r\n// Licensed under the MIT License.\r\nimport { ClientConfigurationError } from \"./error/ClientConfigurationError\";\r\nexport function validateClaimsRequest(request) {\r\n    if (!request.claimsRequest) {\r\n        return;\r\n    }\r\n    var claims;\r\n    try {\r\n        claims = JSON.parse(request.claimsRequest);\r\n    }\r\n    catch (e) {\r\n        throw ClientConfigurationError.createClaimsRequestParsingError(e);\r\n    }\r\n    // TODO: More validation will be added when the server team tells us how they have actually implemented claims\r\n}\r\n//# sourceMappingURL=AuthenticationParameters.js.map","// Copyright (c) Microsoft Corporation. All rights reserved.\r\n// Licensed under the MIT License.\r\nimport { CryptoUtils } from \"./utils/CryptoUtils\";\r\nimport { ClientAuthError } from \"./error/ClientAuthError\";\r\nimport { StringUtils } from \"./utils/StringUtils\";\r\n/**\r\n * @hidden\r\n */\r\nvar ClientInfo = /** @class */ (function () {\r\n    function ClientInfo(rawClientInfo) {\r\n        if (!rawClientInfo || StringUtils.isEmpty(rawClientInfo)) {\r\n            this.uid = \"\";\r\n            this.utid = \"\";\r\n            return;\r\n        }\r\n        try {\r\n            var decodedClientInfo = CryptoUtils.base64Decode(rawClientInfo);\r\n            var clientInfo = JSON.parse(decodedClientInfo);\r\n            if (clientInfo) {\r\n                if (clientInfo.hasOwnProperty(\"uid\")) {\r\n                    this.uid = clientInfo.uid;\r\n                }\r\n                if (clientInfo.hasOwnProperty(\"utid\")) {\r\n                    this.utid = clientInfo.utid;\r\n                }\r\n            }\r\n        }\r\n        catch (e) {\r\n            throw ClientAuthError.createClientInfoDecodingError(e);\r\n        }\r\n    }\r\n    Object.defineProperty(ClientInfo.prototype, \"uid\", {\r\n        get: function () {\r\n            return this._uid ? this._uid : \"\";\r\n        },\r\n        set: function (uid) {\r\n            this._uid = uid;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(ClientInfo.prototype, \"utid\", {\r\n        get: function () {\r\n            return this._utid ? this._utid : \"\";\r\n        },\r\n        set: function (utid) {\r\n            this._utid = utid;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    return ClientInfo;\r\n}());\r\nexport { ClientInfo };\r\n//# sourceMappingURL=ClientInfo.js.map","// Copyright (c) Microsoft Corporation. All rights reserved.\r\n// Licensed under the MIT License.\r\nimport { CryptoUtils } from \"./CryptoUtils\";\r\nimport { StringUtils } from './StringUtils';\r\n/**\r\n * @hidden\r\n */\r\nvar TokenUtils = /** @class */ (function () {\r\n    function TokenUtils() {\r\n    }\r\n    /**\r\n     * decode a JWT\r\n     *\r\n     * @param jwtToken\r\n     */\r\n    TokenUtils.decodeJwt = function (jwtToken) {\r\n        if (StringUtils.isEmpty(jwtToken)) {\r\n            return null;\r\n        }\r\n        var idTokenPartsRegex = /^([^\\.\\s]*)\\.([^\\.\\s]+)\\.([^\\.\\s]*)$/;\r\n        var matches = idTokenPartsRegex.exec(jwtToken);\r\n        if (!matches || matches.length < 4) {\r\n            //this._requestContext.logger.warn(\"The returned id_token is not parseable.\");\r\n            return null;\r\n        }\r\n        var crackedToken = {\r\n            header: matches[1],\r\n            JWSPayload: matches[2],\r\n            JWSSig: matches[3]\r\n        };\r\n        return crackedToken;\r\n    };\r\n    /**\r\n     * Extract IdToken by decoding the RAWIdToken\r\n     *\r\n     * @param encodedIdToken\r\n     */\r\n    TokenUtils.extractIdToken = function (encodedIdToken) {\r\n        // id token will be decoded to get the username\r\n        var decodedToken = this.decodeJwt(encodedIdToken);\r\n        if (!decodedToken) {\r\n            return null;\r\n        }\r\n        try {\r\n            var base64IdToken = decodedToken.JWSPayload;\r\n            var base64Decoded = CryptoUtils.base64Decode(base64IdToken);\r\n            if (!base64Decoded) {\r\n                //this._requestContext.logger.info(\"The returned id_token could not be base64 url safe decoded.\");\r\n                return null;\r\n            }\r\n            // ECMA script has JSON built-in support\r\n            return JSON.parse(base64Decoded);\r\n        }\r\n        catch (err) {\r\n            //this._requestContext.logger.error(\"The returned id_token could not be decoded\" + err);\r\n        }\r\n        return null;\r\n    };\r\n    return TokenUtils;\r\n}());\r\nexport { TokenUtils };\r\n//# sourceMappingURL=TokenUtils.js.map","// Copyright (c) Microsoft Corporation. All rights reserved.\r\n// Licensed under the MIT License.\r\nimport { ClientAuthError } from \"./error/ClientAuthError\";\r\nimport { TokenUtils } from \"./utils/TokenUtils\";\r\nimport { StringUtils } from \"./utils/StringUtils\";\r\n/**\r\n * @hidden\r\n */\r\nvar IdToken = /** @class */ (function () {\r\n    /* tslint:disable:no-string-literal */\r\n    function IdToken(rawIdToken) {\r\n        if (StringUtils.isEmpty(rawIdToken)) {\r\n            throw ClientAuthError.createIdTokenNullOrEmptyError(rawIdToken);\r\n        }\r\n        try {\r\n            this.rawIdToken = rawIdToken;\r\n            this.claims = TokenUtils.extractIdToken(rawIdToken);\r\n            if (this.claims) {\r\n                if (this.claims.hasOwnProperty(\"iss\")) {\r\n                    this.issuer = this.claims[\"iss\"];\r\n                }\r\n                if (this.claims.hasOwnProperty(\"oid\")) {\r\n                    this.objectId = this.claims[\"oid\"];\r\n                }\r\n                if (this.claims.hasOwnProperty(\"sub\")) {\r\n                    this.subject = this.claims[\"sub\"];\r\n                }\r\n                if (this.claims.hasOwnProperty(\"tid\")) {\r\n                    this.tenantId = this.claims[\"tid\"];\r\n                }\r\n                if (this.claims.hasOwnProperty(\"ver\")) {\r\n                    this.version = this.claims[\"ver\"];\r\n                }\r\n                if (this.claims.hasOwnProperty(\"preferred_username\")) {\r\n                    this.preferredName = this.claims[\"preferred_username\"];\r\n                }\r\n                if (this.claims.hasOwnProperty(\"name\")) {\r\n                    this.name = this.claims[\"name\"];\r\n                }\r\n                if (this.claims.hasOwnProperty(\"nonce\")) {\r\n                    this.nonce = this.claims[\"nonce\"];\r\n                }\r\n                if (this.claims.hasOwnProperty(\"exp\")) {\r\n                    this.expiration = this.claims[\"exp\"];\r\n                }\r\n                if (this.claims.hasOwnProperty(\"home_oid\")) {\r\n                    this.homeObjectId = this.claims[\"home_oid\"];\r\n                }\r\n                if (this.claims.hasOwnProperty(\"sid\")) {\r\n                    this.sid = this.claims[\"sid\"];\r\n                }\r\n                /* tslint:enable:no-string-literal */\r\n            }\r\n        }\r\n        catch (e) {\r\n            // TODO: This error here won't really every be thrown, since extractIdToken() returns null if the decodeJwt() fails.\r\n            // Need to add better error handling here to account for being unable to decode jwts.\r\n            throw ClientAuthError.createIdTokenParsingError(e);\r\n        }\r\n    }\r\n    return IdToken;\r\n}());\r\nexport { IdToken };\r\n//# sourceMappingURL=IdToken.js.map","// Copyright (c) Microsoft Corporation. All rights reserved.\r\n// Licensed under the MIT License.\r\n/**\r\n * @hidden\r\n */\r\nvar AccessTokenCacheItem = /** @class */ (function () {\r\n    function AccessTokenCacheItem(key, value) {\r\n        this.key = key;\r\n        this.value = value;\r\n    }\r\n    return AccessTokenCacheItem;\r\n}());\r\nexport { AccessTokenCacheItem };\r\n//# sourceMappingURL=AccessTokenCacheItem.js.map","// Copyright (c) Microsoft Corporation. All rights reserved.\r\n// Licensed under the MIT License.\r\nimport { Constants, CacheKeys } from \"./utils/Constants\";\r\nimport { AccessTokenCacheItem } from \"./AccessTokenCacheItem\";\r\nimport { ClientConfigurationError } from \"./error/ClientConfigurationError\";\r\n/**\r\n * @hidden\r\n */\r\nvar Storage = /** @class */ (function () {\r\n    function Storage(cacheLocation) {\r\n        if (Storage.instance) {\r\n            return Storage.instance;\r\n        }\r\n        this.cacheLocation = cacheLocation;\r\n        this.localStorageSupported = typeof window[this.cacheLocation] !== \"undefined\" && window[this.cacheLocation] != null;\r\n        this.sessionStorageSupported = typeof window[cacheLocation] !== \"undefined\" && window[cacheLocation] != null;\r\n        Storage.instance = this;\r\n        if (!this.localStorageSupported && !this.sessionStorageSupported) {\r\n            throw ClientConfigurationError.createNoStorageSupportedError();\r\n        }\r\n        return Storage.instance;\r\n    }\r\n    // add value to storage\r\n    Storage.prototype.setItem = function (key, value, enableCookieStorage) {\r\n        if (window[this.cacheLocation]) {\r\n            window[this.cacheLocation].setItem(key, value);\r\n        }\r\n        if (enableCookieStorage) {\r\n            this.setItemCookie(key, value);\r\n        }\r\n    };\r\n    // get one item by key from storage\r\n    Storage.prototype.getItem = function (key, enableCookieStorage) {\r\n        if (enableCookieStorage && this.getItemCookie(key)) {\r\n            return this.getItemCookie(key);\r\n        }\r\n        if (window[this.cacheLocation]) {\r\n            return window[this.cacheLocation].getItem(key);\r\n        }\r\n        return null;\r\n    };\r\n    // remove value from storage\r\n    Storage.prototype.removeItem = function (key) {\r\n        if (window[this.cacheLocation]) {\r\n            return window[this.cacheLocation].removeItem(key);\r\n        }\r\n    };\r\n    // clear storage (remove all items from it)\r\n    Storage.prototype.clear = function () {\r\n        if (window[this.cacheLocation]) {\r\n            return window[this.cacheLocation].clear();\r\n        }\r\n    };\r\n    Storage.prototype.getAllAccessTokens = function (clientId, homeAccountIdentifier) {\r\n        var results = [];\r\n        var accessTokenCacheItem;\r\n        var storage = window[this.cacheLocation];\r\n        if (storage) {\r\n            var key = void 0;\r\n            for (key in storage) {\r\n                if (storage.hasOwnProperty(key)) {\r\n                    if (key.match(clientId) && key.match(homeAccountIdentifier)) {\r\n                        var value = this.getItem(key);\r\n                        if (value) {\r\n                            accessTokenCacheItem = new AccessTokenCacheItem(JSON.parse(key), JSON.parse(value));\r\n                            results.push(accessTokenCacheItem);\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        return results;\r\n    };\r\n    Storage.prototype.removeAcquireTokenEntries = function (state) {\r\n        var storage = window[this.cacheLocation];\r\n        if (storage) {\r\n            var key = void 0;\r\n            for (key in storage) {\r\n                if (storage.hasOwnProperty(key)) {\r\n                    if ((key.indexOf(CacheKeys.AUTHORITY) !== -1 || key.indexOf(CacheKeys.ACQUIRE_TOKEN_ACCOUNT) !== 1) && (!state || key.indexOf(state) !== -1)) {\r\n                        var splitKey = key.split(Constants.resourceDelimiter);\r\n                        var state_1 = void 0;\r\n                        if (splitKey.length > 1) {\r\n                            state_1 = splitKey[1];\r\n                        }\r\n                        if (state_1 && !this.tokenRenewalInProgress(state_1)) {\r\n                            this.removeItem(key);\r\n                            this.removeItem(Constants.renewStatus + state_1);\r\n                            this.removeItem(Constants.stateLogin);\r\n                            this.removeItem(Constants.stateAcquireToken);\r\n                            this.setItemCookie(key, \"\", -1);\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        this.clearCookie();\r\n    };\r\n    Storage.prototype.tokenRenewalInProgress = function (stateValue) {\r\n        var storage = window[this.cacheLocation];\r\n        var renewStatus = storage[Constants.renewStatus + stateValue];\r\n        return !(!renewStatus || renewStatus !== Constants.tokenRenewStatusInProgress);\r\n    };\r\n    Storage.prototype.resetCacheItems = function () {\r\n        var storage = window[this.cacheLocation];\r\n        if (storage) {\r\n            var key = void 0;\r\n            for (key in storage) {\r\n                if (storage.hasOwnProperty(key)) {\r\n                    if (key.indexOf(Constants.msal) !== -1) {\r\n                        this.removeItem(key);\r\n                    }\r\n                }\r\n            }\r\n            this.removeAcquireTokenEntries();\r\n        }\r\n    };\r\n    Storage.prototype.setItemCookie = function (cName, cValue, expires) {\r\n        var cookieStr = cName + \"=\" + cValue + \";\";\r\n        if (expires) {\r\n            var expireTime = this.getCookieExpirationTime(expires);\r\n            cookieStr += \"expires=\" + expireTime + \";\";\r\n        }\r\n        document.cookie = cookieStr;\r\n    };\r\n    Storage.prototype.getItemCookie = function (cName) {\r\n        var name = cName + \"=\";\r\n        var ca = document.cookie.split(\";\");\r\n        for (var i = 0; i < ca.length; i++) {\r\n            var c = ca[i];\r\n            while (c.charAt(0) === \" \") {\r\n                c = c.substring(1);\r\n            }\r\n            if (c.indexOf(name) === 0) {\r\n                return c.substring(name.length, c.length);\r\n            }\r\n        }\r\n        return \"\";\r\n    };\r\n    Storage.prototype.getCookieExpirationTime = function (cookieLifeDays) {\r\n        var today = new Date();\r\n        var expr = new Date(today.getTime() + cookieLifeDays * 24 * 60 * 60 * 1000);\r\n        return expr.toUTCString();\r\n    };\r\n    Storage.prototype.clearCookie = function () {\r\n        this.setItemCookie(Constants.nonceIdToken, \"\", -1);\r\n        this.setItemCookie(Constants.stateLogin, \"\", -1);\r\n        this.setItemCookie(Constants.loginRequest, \"\", -1);\r\n        this.setItemCookie(Constants.stateAcquireToken, \"\", -1);\r\n    };\r\n    /**\r\n     * Create acquireTokenAccountKey to cache account object\r\n     * @param accountId\r\n     * @param state\r\n     */\r\n    Storage.generateAcquireTokenAccountKey = function (accountId, state) {\r\n        return CacheKeys.ACQUIRE_TOKEN_ACCOUNT + Constants.resourceDelimiter +\r\n            (\"\" + accountId) + Constants.resourceDelimiter + (\"\" + state);\r\n    };\r\n    /**\r\n     * Create authorityKey to cache authority\r\n     * @param state\r\n     */\r\n    Storage.generateAuthorityKey = function (state) {\r\n        return CacheKeys.AUTHORITY + Constants.resourceDelimiter + (\"\" + state);\r\n    };\r\n    return Storage;\r\n}());\r\nexport { Storage };\r\n//# sourceMappingURL=Storage.js.map","// Copyright (c) Microsoft Corporation. All rights reserved.\r\n// Licensed under the MIT License.\r\nimport { CryptoUtils } from \"./utils/CryptoUtils\";\r\nimport { StringUtils } from \"./utils/StringUtils\";\r\n/**\r\n * accountIdentifier       combination of idToken.uid and idToken.utid\r\n * homeAccountIdentifier   combination of clientInfo.uid and clientInfo.utid\r\n * userName                idToken.preferred_username\r\n * name                    idToken.name\r\n * idToken                 idToken\r\n * sid                     idToken.sid - session identifier\r\n * environment             idtoken.issuer (the authority that issues the token)\r\n */\r\nvar Account = /** @class */ (function () {\r\n    /**\r\n     * Creates an Account Object\r\n     * @praram accountIdentifier\r\n     * @param homeAccountIdentifier\r\n     * @param userName\r\n     * @param name\r\n     * @param idToken\r\n     * @param sid\r\n     * @param environment\r\n     */\r\n    function Account(accountIdentifier, homeAccountIdentifier, userName, name, idTokenClaims, sid, environment) {\r\n        this.accountIdentifier = accountIdentifier;\r\n        this.homeAccountIdentifier = homeAccountIdentifier;\r\n        this.userName = userName;\r\n        this.name = name;\r\n        // will be deprecated soon\r\n        this.idToken = idTokenClaims;\r\n        this.idTokenClaims = idTokenClaims;\r\n        this.sid = sid;\r\n        this.environment = environment;\r\n    }\r\n    /**\r\n     * @hidden\r\n     * @param idToken\r\n     * @param clientInfo\r\n     */\r\n    Account.createAccount = function (idToken, clientInfo) {\r\n        // create accountIdentifier\r\n        var accountIdentifier = idToken.objectId || idToken.subject;\r\n        // create homeAccountIdentifier\r\n        var uid = clientInfo ? clientInfo.uid : \"\";\r\n        var utid = clientInfo ? clientInfo.utid : \"\";\r\n        var homeAccountIdentifier;\r\n        if (!StringUtils.isEmpty(uid) && !StringUtils.isEmpty(utid)) {\r\n            homeAccountIdentifier = CryptoUtils.base64Encode(uid) + \".\" + CryptoUtils.base64Encode(utid);\r\n        }\r\n        return new Account(accountIdentifier, homeAccountIdentifier, idToken.preferredName, idToken.name, idToken.claims, idToken.sid, idToken.issuer);\r\n    };\r\n    /**\r\n     * Utils function to compare two Account objects - used to check if the same user account is logged in\r\n     *\r\n     * @param a1: Account object\r\n     * @param a2: Account object\r\n     */\r\n    Account.compareAccounts = function (a1, a2) {\r\n        if (!a1 || !a2) {\r\n            return false;\r\n        }\r\n        if (a1.homeAccountIdentifier && a2.homeAccountIdentifier) {\r\n            if (a1.homeAccountIdentifier === a2.homeAccountIdentifier) {\r\n                return true;\r\n            }\r\n        }\r\n        return false;\r\n    };\r\n    return Account;\r\n}());\r\nexport { Account };\r\n//# sourceMappingURL=Account.js.map","// Copyright (c) Microsoft Corporation. All rights reserved.\r\n// Licensed under the MIT License.\r\n/**\r\n * @hidden\r\n */\r\nvar TimeUtils = /** @class */ (function () {\r\n    function TimeUtils() {\r\n    }\r\n    /**\r\n     * Returns time in seconds for expiration based on string value passed in.\r\n     *\r\n     * @param expiresIn\r\n     */\r\n    TimeUtils.parseExpiresIn = function (expiresIn) {\r\n        // if AAD did not send \"expires_in\" property, use default expiration of 3599 seconds, for some reason AAD sends 3599 as \"expires_in\" value instead of 3600\r\n        if (!expiresIn) {\r\n            expiresIn = \"3599\";\r\n        }\r\n        return parseInt(expiresIn, 10);\r\n    };\r\n    /**\r\n     * return the current time in Unix time. Date.getTime() returns in milliseconds.\r\n     */\r\n    TimeUtils.now = function () {\r\n        return Math.round(new Date().getTime() / 1000.0);\r\n    };\r\n    return TimeUtils;\r\n}());\r\nexport { TimeUtils };\r\n//# sourceMappingURL=TimeUtils.js.map","import * as tslib_1 from \"tslib\";\r\n// Copyright (c) Microsoft Corporation. All rights reserved.\r\n// Licensed under the MIT License.\r\n/**\r\n * @hidden\r\n */\r\nvar ResponseUtils = /** @class */ (function () {\r\n    function ResponseUtils() {\r\n    }\r\n    ResponseUtils.setResponseIdToken = function (originalResponse, idTokenObj) {\r\n        if (!originalResponse) {\r\n            return null;\r\n        }\r\n        else if (!idTokenObj) {\r\n            return originalResponse;\r\n        }\r\n        var exp = Number(idTokenObj.expiration);\r\n        if (exp && !originalResponse.expiresOn) {\r\n            originalResponse.expiresOn = new Date(exp * 1000);\r\n        }\r\n        return tslib_1.__assign({}, originalResponse, { idToken: idTokenObj, idTokenClaims: idTokenObj.claims, uniqueId: idTokenObj.objectId || idTokenObj.subject, tenantId: idTokenObj.tenantId });\r\n    };\r\n    return ResponseUtils;\r\n}());\r\nexport { ResponseUtils };\r\n//# sourceMappingURL=ResponseUtils.js.map","// Copyright (c) Microsoft Corporation. All rights reserved.\r\n// Licensed under the MIT License.\r\n/**\r\n * XHR client for JSON endpoints\r\n * https://www.npmjs.com/package/async-promise\r\n * @hidden\r\n */\r\nvar XhrClient = /** @class */ (function () {\r\n    function XhrClient() {\r\n    }\r\n    XhrClient.prototype.sendRequestAsync = function (url, method, enableCaching) {\r\n        var _this = this;\r\n        return new Promise(function (resolve, reject) {\r\n            var xhr = new XMLHttpRequest();\r\n            xhr.open(method, url, /*async: */ true);\r\n            if (enableCaching) {\r\n                // TODO: (shivb) ensure that this can be cached\r\n                // xhr.setRequestHeader(\"Cache-Control\", \"Public\");\r\n            }\r\n            xhr.onload = function (ev) {\r\n                if (xhr.status < 200 || xhr.status >= 300) {\r\n                    reject(_this.handleError(xhr.responseText));\r\n                }\r\n                try {\r\n                    var jsonResponse = JSON.parse(xhr.responseText);\r\n                }\r\n                catch (e) {\r\n                    reject(_this.handleError(xhr.responseText));\r\n                }\r\n                resolve(jsonResponse);\r\n            };\r\n            xhr.onerror = function (ev) {\r\n                reject(xhr.status);\r\n            };\r\n            if (method === \"GET\") {\r\n                xhr.send();\r\n            }\r\n            else {\r\n                throw \"not implemented\";\r\n            }\r\n        });\r\n    };\r\n    XhrClient.prototype.handleError = function (responseText) {\r\n        var jsonResponse;\r\n        try {\r\n            jsonResponse = JSON.parse(responseText);\r\n            if (jsonResponse.error) {\r\n                return jsonResponse.error;\r\n            }\r\n            else {\r\n                throw responseText;\r\n            }\r\n        }\r\n        catch (e) {\r\n            return responseText;\r\n        }\r\n    };\r\n    return XhrClient;\r\n}());\r\nexport { XhrClient };\r\n//# sourceMappingURL=XHRClient.js.map","// Copyright (c) Microsoft Corporation. All rights reserved.\r\n// Licensed under the MIT License.\r\nimport { StringUtils } from \"./utils/StringUtils\";\r\nimport { libraryVersion } from \"./utils/Constants\";\r\nexport var LogLevel;\r\n(function (LogLevel) {\r\n    LogLevel[LogLevel[\"Error\"] = 0] = \"Error\";\r\n    LogLevel[LogLevel[\"Warning\"] = 1] = \"Warning\";\r\n    LogLevel[LogLevel[\"Info\"] = 2] = \"Info\";\r\n    LogLevel[LogLevel[\"Verbose\"] = 3] = \"Verbose\";\r\n})(LogLevel || (LogLevel = {}));\r\nvar Logger = /** @class */ (function () {\r\n    function Logger(localCallback, options) {\r\n        if (options === void 0) { options = {}; }\r\n        /**\r\n         * @hidden\r\n         */\r\n        this.level = LogLevel.Info;\r\n        var _a = options.correlationId, correlationId = _a === void 0 ? \"\" : _a, _b = options.level, level = _b === void 0 ? LogLevel.Info : _b, _c = options.piiLoggingEnabled, piiLoggingEnabled = _c === void 0 ? false : _c;\r\n        this.localCallback = localCallback;\r\n        this.correlationId = correlationId;\r\n        this.level = level;\r\n        this.piiLoggingEnabled = piiLoggingEnabled;\r\n    }\r\n    /**\r\n     * @hidden\r\n     */\r\n    Logger.prototype.logMessage = function (logLevel, logMessage, containsPii) {\r\n        if ((logLevel > this.level) || (!this.piiLoggingEnabled && containsPii)) {\r\n            return;\r\n        }\r\n        var timestamp = new Date().toUTCString();\r\n        var log;\r\n        if (!StringUtils.isEmpty(this.correlationId)) {\r\n            log = timestamp + \":\" + this.correlationId + \"-\" + libraryVersion() + \"-\" + LogLevel[logLevel] + \" \" + logMessage;\r\n        }\r\n        else {\r\n            log = timestamp + \":\" + libraryVersion() + \"-\" + LogLevel[logLevel] + \" \" + logMessage;\r\n        }\r\n        this.executeCallback(logLevel, log, containsPii);\r\n    };\r\n    /**\r\n     * @hidden\r\n     */\r\n    Logger.prototype.executeCallback = function (level, message, containsPii) {\r\n        if (this.localCallback) {\r\n            this.localCallback(level, message, containsPii);\r\n        }\r\n    };\r\n    /**\r\n     * @hidden\r\n     */\r\n    Logger.prototype.error = function (message) {\r\n        this.logMessage(LogLevel.Error, message, false);\r\n    };\r\n    /**\r\n     * @hidden\r\n     */\r\n    Logger.prototype.errorPii = function (message) {\r\n        this.logMessage(LogLevel.Error, message, true);\r\n    };\r\n    /**\r\n     * @hidden\r\n     */\r\n    Logger.prototype.warning = function (message) {\r\n        this.logMessage(LogLevel.Warning, message, false);\r\n    };\r\n    /**\r\n     * @hidden\r\n     */\r\n    Logger.prototype.warningPii = function (message) {\r\n        this.logMessage(LogLevel.Warning, message, true);\r\n    };\r\n    /**\r\n     * @hidden\r\n     */\r\n    Logger.prototype.info = function (message) {\r\n        this.logMessage(LogLevel.Info, message, false);\r\n    };\r\n    /**\r\n     * @hidden\r\n     */\r\n    Logger.prototype.infoPii = function (message) {\r\n        this.logMessage(LogLevel.Info, message, true);\r\n    };\r\n    /**\r\n     * @hidden\r\n     */\r\n    Logger.prototype.verbose = function (message) {\r\n        this.logMessage(LogLevel.Verbose, message, false);\r\n    };\r\n    /**\r\n     * @hidden\r\n     */\r\n    Logger.prototype.verbosePii = function (message) {\r\n        this.logMessage(LogLevel.Verbose, message, true);\r\n    };\r\n    Logger.prototype.isPiiLoggingEnabled = function () {\r\n        return this.piiLoggingEnabled;\r\n    };\r\n    return Logger;\r\n}());\r\nexport { Logger };\r\n//# sourceMappingURL=Logger.js.map","// Copyright (c) Microsoft Corporation. All rights reserved.\r\n// Licensed under the MIT License.\r\nimport * as tslib_1 from \"tslib\";\r\nimport { Authority, AuthorityType } from \"./Authority\";\r\nimport { XhrClient } from \"./XHRClient\";\r\nimport { AADTrustedHostList } from \"./utils/Constants\";\r\n/**\r\n * @hidden\r\n */\r\nvar AadAuthority = /** @class */ (function (_super) {\r\n    tslib_1.__extends(AadAuthority, _super);\r\n    function AadAuthority(authority, validateAuthority) {\r\n        return _super.call(this, authority, validateAuthority) || this;\r\n    }\r\n    Object.defineProperty(AadAuthority.prototype, \"AadInstanceDiscoveryEndpointUrl\", {\r\n        get: function () {\r\n            return AadAuthority.AadInstanceDiscoveryEndpoint + \"?api-version=1.0&authorization_endpoint=\" + this.CanonicalAuthority + \"oauth2/v2.0/authorize\";\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(AadAuthority.prototype, \"AuthorityType\", {\r\n        get: function () {\r\n            return AuthorityType.Aad;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * Returns a promise which resolves to the OIDC endpoint\r\n     * Only responds with the endpoint\r\n     */\r\n    AadAuthority.prototype.GetOpenIdConfigurationEndpointAsync = function () {\r\n        var _this = this;\r\n        var resultPromise = new Promise(function (resolve, reject) {\r\n            return resolve(_this.DefaultOpenIdConfigurationEndpoint);\r\n        });\r\n        if (!this.IsValidationEnabled) {\r\n            return resultPromise;\r\n        }\r\n        var host = this.CanonicalAuthorityUrlComponents.HostNameAndPort;\r\n        if (this.IsInTrustedHostList(host)) {\r\n            return resultPromise;\r\n        }\r\n        var client = new XhrClient();\r\n        return client.sendRequestAsync(this.AadInstanceDiscoveryEndpointUrl, \"GET\", true)\r\n            .then(function (response) {\r\n            return response.tenant_discovery_endpoint;\r\n        });\r\n    };\r\n    /**\r\n     * Checks to see if the host is in a list of trusted hosts\r\n     * @param {string} The host to look up\r\n     */\r\n    AadAuthority.prototype.IsInTrustedHostList = function (host) {\r\n        return AADTrustedHostList[host.toLowerCase()];\r\n    };\r\n    AadAuthority.AadInstanceDiscoveryEndpoint = \"https://login.microsoftonline.com/common/discovery/instance\";\r\n    return AadAuthority;\r\n}(Authority));\r\nexport { AadAuthority };\r\n//# sourceMappingURL=AadAuthority.js.map","// Copyright (c) Microsoft Corporation. All rights reserved.\r\n// Licensed under the MIT License.\r\nimport * as tslib_1 from \"tslib\";\r\nimport { AadAuthority } from \"./AadAuthority\";\r\nimport { AuthorityType } from \"./Authority\";\r\nimport { ClientConfigurationErrorMessage } from \"./error/ClientConfigurationError\";\r\nimport { UrlUtils } from \"./utils/UrlUtils\";\r\n/**\r\n * @hidden\r\n */\r\nvar B2cAuthority = /** @class */ (function (_super) {\r\n    tslib_1.__extends(B2cAuthority, _super);\r\n    function B2cAuthority(authority, validateAuthority) {\r\n        var _this = _super.call(this, authority, validateAuthority) || this;\r\n        var urlComponents = UrlUtils.GetUrlComponents(authority);\r\n        var pathSegments = urlComponents.PathSegments;\r\n        if (pathSegments.length < 3) {\r\n            throw ClientConfigurationErrorMessage.b2cAuthorityUriInvalidPath;\r\n        }\r\n        _this.CanonicalAuthority = \"https://\" + urlComponents.HostNameAndPort + \"/\" + pathSegments[0] + \"/\" + pathSegments[1] + \"/\" + pathSegments[2] + \"/\";\r\n        return _this;\r\n    }\r\n    Object.defineProperty(B2cAuthority.prototype, \"AuthorityType\", {\r\n        get: function () {\r\n            return AuthorityType.B2C;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * Returns a promise with the TenantDiscoveryEndpoint\r\n     */\r\n    B2cAuthority.prototype.GetOpenIdConfigurationEndpointAsync = function () {\r\n        var _this = this;\r\n        var resultPromise = new Promise(function (resolve, reject) {\r\n            return resolve(_this.DefaultOpenIdConfigurationEndpoint);\r\n        });\r\n        if (!this.IsValidationEnabled) {\r\n            return resultPromise;\r\n        }\r\n        if (this.IsInTrustedHostList(this.CanonicalAuthorityUrlComponents.HostNameAndPort)) {\r\n            return resultPromise;\r\n        }\r\n        return new Promise(function (resolve, reject) {\r\n            return reject(ClientConfigurationErrorMessage.unsupportedAuthorityValidation);\r\n        });\r\n    };\r\n    B2cAuthority.B2C_PREFIX = \"tfp\";\r\n    return B2cAuthority;\r\n}(AadAuthority));\r\nexport { B2cAuthority };\r\n//# sourceMappingURL=B2cAuthority.js.map","// Copyright (c) Microsoft Corporation. All rights reserved.\r\n// Licensed under the MIT License.\r\n/**\r\n * @hidden\r\n */\r\nimport { AadAuthority } from \"./AadAuthority\";\r\nimport { B2cAuthority } from \"./B2cAuthority\";\r\nimport { AuthorityType } from \"./Authority\";\r\nimport { ClientConfigurationErrorMessage } from \"./error/ClientConfigurationError\";\r\nimport { UrlUtils } from \"./utils/UrlUtils\";\r\nimport { StringUtils } from \"./utils/StringUtils\";\r\nvar AuthorityFactory = /** @class */ (function () {\r\n    function AuthorityFactory() {\r\n    }\r\n    /**\r\n    * Parse the url and determine the type of authority\r\n    */\r\n    AuthorityFactory.DetectAuthorityFromUrl = function (authorityUrl) {\r\n        authorityUrl = UrlUtils.CanonicalizeUri(authorityUrl);\r\n        var components = UrlUtils.GetUrlComponents(authorityUrl);\r\n        var pathSegments = components.PathSegments;\r\n        switch (pathSegments[0]) {\r\n            case \"tfp\":\r\n                return AuthorityType.B2C;\r\n            case \"adfs\":\r\n                return AuthorityType.Adfs;\r\n            default:\r\n                return AuthorityType.Aad;\r\n        }\r\n    };\r\n    /**\r\n    * Create an authority object of the correct type based on the url\r\n    * Performs basic authority validation - checks to see if the authority is of a valid type (eg aad, b2c)\r\n    */\r\n    AuthorityFactory.CreateInstance = function (authorityUrl, validateAuthority) {\r\n        if (StringUtils.isEmpty(authorityUrl)) {\r\n            return null;\r\n        }\r\n        var type = AuthorityFactory.DetectAuthorityFromUrl(authorityUrl);\r\n        // Depending on above detection, create the right type.\r\n        switch (type) {\r\n            case AuthorityType.B2C:\r\n                return new B2cAuthority(authorityUrl, validateAuthority);\r\n            case AuthorityType.Aad:\r\n                return new AadAuthority(authorityUrl, validateAuthority);\r\n            default:\r\n                throw ClientConfigurationErrorMessage.invalidAuthorityType;\r\n        }\r\n    };\r\n    return AuthorityFactory;\r\n}());\r\nexport { AuthorityFactory };\r\n//# sourceMappingURL=AuthorityFactory.js.map","// Copyright (c) Microsoft Corporation. All rights reserved.\r\n// Licensed under the MIT License.\r\nimport * as tslib_1 from \"tslib\";\r\nimport { Logger } from \"./Logger\";\r\nimport { UrlUtils } from \"./utils/UrlUtils\";\r\n/**\r\n * Defaults for the Configuration Options\r\n */\r\nvar FRAME_TIMEOUT = 6000;\r\nvar OFFSET = 300;\r\nvar NAVIGATE_FRAME_WAIT = 500;\r\nvar DEFAULT_AUTH_OPTIONS = {\r\n    clientId: \"\",\r\n    authority: null,\r\n    validateAuthority: true,\r\n    redirectUri: function () { return UrlUtils.getDefaultRedirectUri(); },\r\n    postLogoutRedirectUri: function () { return UrlUtils.getDefaultRedirectUri(); },\r\n    navigateToLoginRequestUrl: true\r\n};\r\nvar DEFAULT_CACHE_OPTIONS = {\r\n    cacheLocation: \"sessionStorage\",\r\n    storeAuthStateInCookie: false\r\n};\r\nvar DEFAULT_SYSTEM_OPTIONS = {\r\n    logger: new Logger(null),\r\n    loadFrameTimeout: FRAME_TIMEOUT,\r\n    tokenRenewalOffsetSeconds: OFFSET,\r\n    navigateFrameWait: NAVIGATE_FRAME_WAIT\r\n};\r\nvar DEFAULT_FRAMEWORK_OPTIONS = {\r\n    isAngular: false,\r\n    unprotectedResources: new Array(),\r\n    protectedResourceMap: new Map()\r\n};\r\n/**\r\n * MSAL function that sets the default options when not explicitly configured from app developer\r\n *\r\n * @param TAuthOptions\r\n * @param TCacheOptions\r\n * @param TSystemOptions\r\n * @param TFrameworkOptions\r\n *\r\n * @returns TConfiguration object\r\n */\r\nexport function buildConfiguration(_a) {\r\n    var auth = _a.auth, _b = _a.cache, cache = _b === void 0 ? {} : _b, _c = _a.system, system = _c === void 0 ? {} : _c, _d = _a.framework, framework = _d === void 0 ? {} : _d;\r\n    var overlayedConfig = {\r\n        auth: tslib_1.__assign({}, DEFAULT_AUTH_OPTIONS, auth),\r\n        cache: tslib_1.__assign({}, DEFAULT_CACHE_OPTIONS, cache),\r\n        system: tslib_1.__assign({}, DEFAULT_SYSTEM_OPTIONS, system),\r\n        framework: tslib_1.__assign({}, DEFAULT_FRAMEWORK_OPTIONS, framework)\r\n    };\r\n    return overlayedConfig;\r\n}\r\n//# sourceMappingURL=Configuration.js.map","// Copyright (c) Microsoft Corporation. All rights reserved.\r\n// Licensed under the MIT License.\r\nimport * as tslib_1 from \"tslib\";\r\nimport { AuthError } from \"./AuthError\";\r\nexport var ServerErrorMessage = {\r\n    serverUnavailable: {\r\n        code: \"server_unavailable\",\r\n        desc: \"Server is temporarily unavailable.\"\r\n    },\r\n    unknownServerError: {\r\n        code: \"unknown_server_error\"\r\n    },\r\n};\r\n/**\r\n * Error thrown when there is an error with the server code, for example, unavailability.\r\n */\r\nvar ServerError = /** @class */ (function (_super) {\r\n    tslib_1.__extends(ServerError, _super);\r\n    function ServerError(errorCode, errorMessage) {\r\n        var _this = _super.call(this, errorCode, errorMessage) || this;\r\n        _this.name = \"ServerError\";\r\n        Object.setPrototypeOf(_this, ServerError.prototype);\r\n        return _this;\r\n    }\r\n    ServerError.createServerUnavailableError = function () {\r\n        return new ServerError(ServerErrorMessage.serverUnavailable.code, ServerErrorMessage.serverUnavailable.desc);\r\n    };\r\n    ServerError.createUnknownServerError = function (errorDesc) {\r\n        return new ServerError(ServerErrorMessage.unknownServerError.code, errorDesc);\r\n    };\r\n    return ServerError;\r\n}(AuthError));\r\nexport { ServerError };\r\n//# sourceMappingURL=ServerError.js.map","// Copyright (c) Microsoft Corporation. All rights reserved.\r\n// Licensed under the MIT License.\r\nimport * as tslib_1 from \"tslib\";\r\nimport { ServerError } from \"./ServerError\";\r\nexport var InteractionRequiredAuthErrorMessage = {\r\n    interactionRequired: {\r\n        code: \"interaction_required\"\r\n    },\r\n    consentRequired: {\r\n        code: \"consent_required\"\r\n    },\r\n    loginRequired: {\r\n        code: \"login_required\"\r\n    },\r\n};\r\n/**\r\n * Error thrown when the user is required to perform an interactive token request.\r\n */\r\nvar InteractionRequiredAuthError = /** @class */ (function (_super) {\r\n    tslib_1.__extends(InteractionRequiredAuthError, _super);\r\n    function InteractionRequiredAuthError(errorCode, errorMessage) {\r\n        var _this = _super.call(this, errorCode, errorMessage) || this;\r\n        _this.name = \"InteractionRequiredAuthError\";\r\n        Object.setPrototypeOf(_this, InteractionRequiredAuthError.prototype);\r\n        return _this;\r\n    }\r\n    InteractionRequiredAuthError.isInteractionRequiredError = function (errorString) {\r\n        var interactionRequiredCodes = [\r\n            InteractionRequiredAuthErrorMessage.interactionRequired.code,\r\n            InteractionRequiredAuthErrorMessage.consentRequired.code,\r\n            InteractionRequiredAuthErrorMessage.loginRequired.code\r\n        ];\r\n        return errorString && interactionRequiredCodes.indexOf(errorString) > -1;\r\n    };\r\n    InteractionRequiredAuthError.createLoginRequiredAuthError = function (errorDesc) {\r\n        return new InteractionRequiredAuthError(InteractionRequiredAuthErrorMessage.loginRequired.code, errorDesc);\r\n    };\r\n    InteractionRequiredAuthError.createInteractionRequiredAuthError = function (errorDesc) {\r\n        return new InteractionRequiredAuthError(InteractionRequiredAuthErrorMessage.interactionRequired.code, errorDesc);\r\n    };\r\n    InteractionRequiredAuthError.createConsentRequiredAuthError = function (errorDesc) {\r\n        return new InteractionRequiredAuthError(InteractionRequiredAuthErrorMessage.consentRequired.code, errorDesc);\r\n    };\r\n    return InteractionRequiredAuthError;\r\n}(ServerError));\r\nexport { InteractionRequiredAuthError };\r\n//# sourceMappingURL=InteractionRequiredAuthError.js.map","// Copyright (c) Microsoft Corporation. All rights reserved.\r\n// Licensed under the MIT License.\r\nexport function buildResponseStateOnly(state) {\r\n    return {\r\n        uniqueId: \"\",\r\n        tenantId: \"\",\r\n        tokenType: \"\",\r\n        idToken: null,\r\n        idTokenClaims: null,\r\n        accessToken: \"\",\r\n        scopes: null,\r\n        expiresOn: null,\r\n        account: null,\r\n        accountState: state\r\n    };\r\n}\r\n//# sourceMappingURL=AuthResponse.js.map","export var EVENT_NAME_PREFIX = \"msal.\";\r\nexport var EVENT_NAME_KEY = \"event_name\";\r\nexport var START_TIME_KEY = \"start_time\";\r\nexport var ELAPSED_TIME_KEY = \"elapsed_time\";\r\nexport var TELEMETRY_BLOB_EVENT_NAMES = {\r\n    MsalCorrelationIdConstStrKey: \"Microsoft.MSAL.correlation_id\",\r\n    ApiTelemIdConstStrKey: \"msal.api_telem_id\",\r\n    ApiIdConstStrKey: \"msal.api_id\",\r\n    BrokerAppConstStrKey: \"Microsoft_MSAL_broker_app\",\r\n    CacheEventCountConstStrKey: \"Microsoft_MSAL_cache_event_count\",\r\n    HttpEventCountTelemetryBatchKey: \"Microsoft_MSAL_http_event_count\",\r\n    IdpConstStrKey: \"Microsoft_MSAL_idp\",\r\n    IsSilentTelemetryBatchKey: \"\",\r\n    IsSuccessfulConstStrKey: \"Microsoft_MSAL_is_successful\",\r\n    ResponseTimeConstStrKey: \"Microsoft_MSAL_response_time\",\r\n    TenantIdConstStrKey: \"Microsoft_MSAL_tenant_id\",\r\n    UiEventCountTelemetryBatchKey: \"Microsoft_MSAL_ui_event_count\"\r\n};\r\n// This is used to replace the real tenant in telemetry info\r\nexport var TENANT_PLACEHOLDER = \"<tenant>\";\r\n//# sourceMappingURL=TelemetryConstants.js.map","import { B2cAuthority } from \"../B2cAuthority\";\r\nimport { AADTrustedHostList } from \"../utils/Constants\";\r\nimport { TENANT_PLACEHOLDER, EVENT_NAME_PREFIX } from \"./TelemetryConstants\";\r\nimport { CryptoUtils } from \"../utils/CryptoUtils\";\r\nimport { UrlUtils } from \"../utils/UrlUtils\";\r\nexport var scrubTenantFromUri = function (uri) {\r\n    var url = UrlUtils.GetUrlComponents(uri);\r\n    // validate trusted host\r\n    if (!AADTrustedHostList[url.HostNameAndPort.toLocaleLowerCase()]) {\r\n        // Should this return null or what was passed?\r\n        return null;\r\n    }\r\n    var pathParams = url.PathSegments;\r\n    if (pathParams && pathParams.length >= 2) {\r\n        var tenantPosition = pathParams[1] === B2cAuthority.B2C_PREFIX ? 2 : 1;\r\n        if (tenantPosition < pathParams.length) {\r\n            pathParams[tenantPosition] = TENANT_PLACEHOLDER;\r\n        }\r\n    }\r\n    return url.Protocol + \"//\" + url.HostNameAndPort + \"/\" + pathParams.join(\"/\");\r\n};\r\nexport var hashPersonalIdentifier = function (valueToHash) {\r\n    // TODO sha256 this\r\n    // Current test runner is being funny with node libs that are webpacked anyway\r\n    // need a different solution\r\n    return CryptoUtils.base64Encode(valueToHash);\r\n};\r\nexport var prependEventNamePrefix = function (suffix) { return \"\" + EVENT_NAME_PREFIX + (suffix || \"\"); };\r\n//# sourceMappingURL=TelemetryUtils.js.map","import * as tslib_1 from \"tslib\";\r\nimport { TELEMETRY_BLOB_EVENT_NAMES } from \"./TelemetryConstants\";\r\nimport TelemetryEvent from \"./TelemetryEvent\";\r\nimport { prependEventNamePrefix } from \"./TelemetryUtils\";\r\nvar DefaultEvent = /** @class */ (function (_super) {\r\n    tslib_1.__extends(DefaultEvent, _super);\r\n    // TODO Platform Type\r\n    function DefaultEvent(platform, correlationId, clientId, eventCount) {\r\n        var _this = _super.call(this, prependEventNamePrefix(\"default_event\"), correlationId) || this;\r\n        _this.event[prependEventNamePrefix(\"client_id\")] = clientId;\r\n        _this.event[prependEventNamePrefix(\"sdk_plaform\")] = platform.sdk;\r\n        _this.event[prependEventNamePrefix(\"sdk_version\")] = platform.sdkVersion;\r\n        _this.event[prependEventNamePrefix(\"application_name\")] = platform.applicationName;\r\n        _this.event[prependEventNamePrefix(\"application_version\")] = platform.applicationVersion;\r\n        _this.event[\"\" + TELEMETRY_BLOB_EVENT_NAMES.UiEventCountTelemetryBatchKey] = _this.getEventCount(prependEventNamePrefix(\"ui_event\"), eventCount);\r\n        _this.event[\"\" + TELEMETRY_BLOB_EVENT_NAMES.HttpEventCountTelemetryBatchKey] = _this.getEventCount(prependEventNamePrefix(\"http_event\"), eventCount);\r\n        _this.event[\"\" + TELEMETRY_BLOB_EVENT_NAMES.CacheEventCountConstStrKey] = _this.getEventCount(prependEventNamePrefix(\"cache_event\"), eventCount);\r\n        return _this;\r\n        /// Device id?\r\n    }\r\n    DefaultEvent.prototype.getEventCount = function (eventName, eventCount) {\r\n        if (!eventCount[eventName]) {\r\n            return 0;\r\n        }\r\n        return eventCount[eventName];\r\n    };\r\n    return DefaultEvent;\r\n}(TelemetryEvent));\r\nexport default DefaultEvent;\r\n//# sourceMappingURL=DefaultEvent.js.map","import * as tslib_1 from \"tslib\";\r\nimport { TELEMETRY_BLOB_EVENT_NAMES } from \"./TelemetryConstants\";\r\nimport { EVENT_NAME_KEY, START_TIME_KEY, ELAPSED_TIME_KEY } from \"./TelemetryConstants\";\r\nimport { prependEventNamePrefix } from \"./TelemetryUtils\";\r\nimport { CryptoUtils } from \"../utils/CryptoUtils\";\r\nvar TelemetryEvent = /** @class */ (function () {\r\n    function TelemetryEvent(eventName, correlationId) {\r\n        var _a;\r\n        this.startTimestamp = Date.now();\r\n        this.eventId = CryptoUtils.createNewGuid();\r\n        this.event = (_a = {},\r\n            _a[prependEventNamePrefix(EVENT_NAME_KEY)] = eventName,\r\n            _a[prependEventNamePrefix(START_TIME_KEY)] = this.startTimestamp,\r\n            _a[prependEventNamePrefix(ELAPSED_TIME_KEY)] = -1,\r\n            _a[\"\" + TELEMETRY_BLOB_EVENT_NAMES.MsalCorrelationIdConstStrKey] = correlationId,\r\n            _a);\r\n    }\r\n    TelemetryEvent.prototype.setElapsedTime = function (time) {\r\n        this.event[prependEventNamePrefix(ELAPSED_TIME_KEY)] = time;\r\n    };\r\n    TelemetryEvent.prototype.stop = function () {\r\n        // Set duration of event\r\n        this.setElapsedTime(+Date.now() - +this.startTimestamp);\r\n    };\r\n    Object.defineProperty(TelemetryEvent.prototype, \"telemetryCorrelationId\", {\r\n        get: function () {\r\n            return this.event[\"\" + TELEMETRY_BLOB_EVENT_NAMES.MsalCorrelationIdConstStrKey];\r\n        },\r\n        set: function (value) {\r\n            this.event[\"\" + TELEMETRY_BLOB_EVENT_NAMES.MsalCorrelationIdConstStrKey] = value;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(TelemetryEvent.prototype, \"eventName\", {\r\n        get: function () {\r\n            return this.event[prependEventNamePrefix(EVENT_NAME_KEY)];\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    TelemetryEvent.prototype.get = function () {\r\n        return tslib_1.__assign({}, this.event, { eventId: this.eventId });\r\n    };\r\n    return TelemetryEvent;\r\n}());\r\nexport default TelemetryEvent;\r\n//# sourceMappingURL=TelemetryEvent.js.map","import DefaultEvent from \"./DefaultEvent\";\r\n// for use in cache events\r\nvar MSAL_CACHE_EVENT_VALUE_PREFIX = \"msal.token\";\r\nvar MSAL_CACHE_EVENT_NAME = \"msal.cache_event\";\r\nvar createEventKey = function (event) { return (event.telemetryCorrelationId + \"-\" + event.eventId + \"-\" + event.eventName); };\r\nvar TelemetryManager = /** @class */ (function () {\r\n    function TelemetryManager(config, telemetryEmitter) {\r\n        // correlation Id to list of events\r\n        this.completedEvents = {};\r\n        // event key to event\r\n        this.inProgressEvents = {};\r\n        // correlation id to map of eventname to count\r\n        this.eventCountByCorrelationId = {};\r\n        //Implement after API EVENT\r\n        this.onlySendFailureTelemetry = false;\r\n        // TODO THROW if bad options\r\n        this.telemetryPlatform = config.platform;\r\n        this.clientId = config.clientId;\r\n        this.onlySendFailureTelemetry = config.onlySendFailureTelemetry;\r\n        // TODO, when i get to wiring this through, think about what it means if\r\n        // a developer does not implement telem at all, we still instrument, but telemetryEmitter can be\r\n        // optional?\r\n        this.telemetryEmitter = telemetryEmitter;\r\n    }\r\n    TelemetryManager.prototype.startEvent = function (event) {\r\n        if (!this.telemetryEmitter) {\r\n            return;\r\n        }\r\n        var eventKey = createEventKey(event);\r\n        this.inProgressEvents[eventKey] = event;\r\n    };\r\n    TelemetryManager.prototype.stopEvent = function (event) {\r\n        var eventKey = createEventKey(event);\r\n        if (!this.telemetryEmitter || !this.inProgressEvents[eventKey]) {\r\n            return;\r\n        }\r\n        event.stop();\r\n        this.incrementEventCount(event);\r\n        var completedEvents = this.completedEvents[event.telemetryCorrelationId];\r\n        this.completedEvents[event.telemetryCorrelationId] = (completedEvents || []).concat([event]);\r\n        delete this.inProgressEvents[eventKey];\r\n    };\r\n    TelemetryManager.prototype.flush = function (correlationId) {\r\n        var _this = this;\r\n        // If there is only unfinished events should this still return them?\r\n        if (!this.telemetryEmitter || !this.completedEvents[correlationId]) {\r\n            return;\r\n        }\r\n        var orphanedEvents = this.getOrphanedEvents(correlationId);\r\n        orphanedEvents.forEach(function (event) { return _this.incrementEventCount(event); });\r\n        var eventsToFlush = this.completedEvents[correlationId].concat(orphanedEvents);\r\n        delete this.completedEvents[correlationId];\r\n        var eventCountsToFlush = this.eventCountByCorrelationId[correlationId];\r\n        delete this.eventCountByCorrelationId[correlationId];\r\n        // TODO add funcitonality for onlyFlushFailures after implementing api event? ??\r\n        if (!eventsToFlush || !eventsToFlush.length) {\r\n            return;\r\n        }\r\n        var defaultEvent = new DefaultEvent(this.telemetryPlatform, correlationId, this.clientId, eventCountsToFlush);\r\n        var eventsWithDefaultEvent = eventsToFlush.concat([defaultEvent]);\r\n        this.telemetryEmitter(eventsWithDefaultEvent.map(function (e) { return e.get(); }));\r\n    };\r\n    TelemetryManager.prototype.incrementEventCount = function (event) {\r\n        var _a;\r\n        // TODO, name cache event different?\r\n        // if type is cache event, change name\r\n        var eventName = event.eventName;\r\n        var eventCount = this.eventCountByCorrelationId[event.telemetryCorrelationId];\r\n        if (!eventCount) {\r\n            this.eventCountByCorrelationId[event.telemetryCorrelationId] = (_a = {},\r\n                _a[eventName] = 1,\r\n                _a);\r\n        }\r\n        else {\r\n            eventCount[eventName] = eventCount[eventName] ? eventCount[eventName] + 1 : 1;\r\n        }\r\n    };\r\n    TelemetryManager.prototype.getOrphanedEvents = function (correlationId) {\r\n        var _this = this;\r\n        return Object.keys(this.inProgressEvents)\r\n            .reduce(function (memo, eventKey) {\r\n            if (eventKey.indexOf(correlationId) !== -1) {\r\n                var event_1 = _this.inProgressEvents[eventKey];\r\n                delete _this.inProgressEvents[eventKey];\r\n                return memo.concat([event_1]);\r\n            }\r\n            return memo;\r\n        }, []);\r\n    };\r\n    return TelemetryManager;\r\n}());\r\nexport default TelemetryManager;\r\n//# sourceMappingURL=TelemetryManager.js.map","// Copyright (c) Microsoft Corporation. All rights reserved.\r\n// Licensed under the MIT License.\r\nimport * as tslib_1 from \"tslib\";\r\nimport { AccessTokenKey } from \"./AccessTokenKey\";\r\nimport { AccessTokenValue } from \"./AccessTokenValue\";\r\nimport { ServerRequestParameters } from \"./ServerRequestParameters\";\r\nimport { ClientInfo } from \"./ClientInfo\";\r\nimport { Constants, libraryVersion } from \"./utils/Constants\";\r\nimport { IdToken } from \"./IdToken\";\r\nimport { Storage } from \"./Storage\";\r\nimport { Account } from \"./Account\";\r\nimport { ScopeSet } from \"./ScopeSet\";\r\nimport { StringUtils } from \"./utils/StringUtils\";\r\nimport { CryptoUtils } from \"./utils/CryptoUtils\";\r\nimport { TokenUtils } from \"./utils/TokenUtils\";\r\nimport { TimeUtils } from \"./utils/TimeUtils\";\r\nimport { UrlUtils } from \"./utils/UrlUtils\";\r\nimport { ResponseUtils } from \"./utils/ResponseUtils\";\r\nimport { AuthorityFactory } from \"./AuthorityFactory\";\r\nimport { buildConfiguration } from \"./Configuration\";\r\nimport { ClientConfigurationError } from \"./error/ClientConfigurationError\";\r\nimport { AuthError } from \"./error/AuthError\";\r\nimport { ClientAuthError, ClientAuthErrorMessage } from \"./error/ClientAuthError\";\r\nimport { ServerError } from \"./error/ServerError\";\r\nimport { InteractionRequiredAuthError } from \"./error/InteractionRequiredAuthError\";\r\nimport { buildResponseStateOnly } from \"./AuthResponse\";\r\nimport TelemetryManager from \"./telemetry/TelemetryManager\";\r\n// default authority\r\nvar DEFAULT_AUTHORITY = \"https://login.microsoftonline.com/common\";\r\n/**\r\n * @hidden\r\n * @ignore\r\n * response_type from OpenIDConnect\r\n * References: https://openid.net/specs/oauth-v2-multiple-response-types-1_0.html & https://tools.ietf.org/html/rfc6749#section-4.2.1\r\n * Since we support only implicit flow in this library, we restrict the response_type support to only 'token' and 'id_token'\r\n *\r\n */\r\nvar ResponseTypes = {\r\n    id_token: \"id_token\",\r\n    token: \"token\",\r\n    id_token_token: \"id_token token\"\r\n};\r\n/**\r\n * @hidden\r\n * @ignore\r\n * A wrapper to handle the token response/error within the iFrame always\r\n *\r\n * @param target\r\n * @param propertyKey\r\n * @param descriptor\r\n */\r\nvar resolveTokenOnlyIfOutOfIframe = function (target, propertyKey, descriptor) {\r\n    var tokenAcquisitionMethod = descriptor.value;\r\n    descriptor.value = function () {\r\n        var args = [];\r\n        for (var _i = 0; _i < arguments.length; _i++) {\r\n            args[_i] = arguments[_i];\r\n        }\r\n        return this.isInIframe()\r\n            ? new Promise(function () {\r\n                return;\r\n            })\r\n            : tokenAcquisitionMethod.apply(this, args);\r\n    };\r\n    return descriptor;\r\n};\r\n/**\r\n * UserAgentApplication class\r\n *\r\n * Object Instance that the developer can use to make loginXX OR acquireTokenXX functions\r\n */\r\nvar UserAgentApplication = /** @class */ (function () {\r\n    /**\r\n     * @constructor\r\n     * Constructor for the UserAgentApplication used to instantiate the UserAgentApplication object\r\n     *\r\n     * Important attributes in the Configuration object for auth are:\r\n     * - clientID: the application ID of your application.\r\n     * You can obtain one by registering your application with our Application registration portal : https://portal.azure.com/#blade/Microsoft_AAD_IAM/ActiveDirectoryMenuBlade/RegisteredAppsPreview\r\n     * - authority: the authority URL for your application.\r\n     *\r\n     * In Azure AD, authority is a URL indicating the Azure active directory that MSAL uses to obtain tokens.\r\n     * It is of the form https://login.microsoftonline.com/&lt;Enter_the_Tenant_Info_Here&gt;.\r\n     * If your application supports Accounts in one organizational directory, replace \"Enter_the_Tenant_Info_Here\" value with the Tenant Id or Tenant name (for example, contoso.microsoft.com).\r\n     * If your application supports Accounts in any organizational directory, replace \"Enter_the_Tenant_Info_Here\" value with organizations.\r\n     * If your application supports Accounts in any organizational directory and personal Microsoft accounts, replace \"Enter_the_Tenant_Info_Here\" value with common.\r\n     * To restrict support to Personal Microsoft accounts only, replace \"Enter_the_Tenant_Info_Here\" value with consumers.\r\n     *\r\n     *\r\n     * In Azure B2C, authority is of the form https://&lt;instance&gt;/tfp/&lt;tenant&gt;/&lt;policyName&gt;/\r\n  \r\n     * @param {@link (Configuration:type)} configuration object for the MSAL UserAgentApplication instance\r\n     */\r\n    function UserAgentApplication(configuration) {\r\n        // callbacks for token/error\r\n        this.authResponseCallback = null;\r\n        this.tokenReceivedCallback = null;\r\n        this.errorReceivedCallback = null;\r\n        // Set the Configuration\r\n        this.config = buildConfiguration(configuration);\r\n        // Set the callback boolean\r\n        this.redirectCallbacksSet = false;\r\n        this.logger = this.config.system.logger;\r\n        this.clientId = this.config.auth.clientId;\r\n        this.inCookie = this.config.cache.storeAuthStateInCookie;\r\n        this.telemetryManager = this.getTelemetryManagerFromConfig(this.config.system.telemetry, this.clientId);\r\n        // if no authority is passed, set the default: \"https://login.microsoftonline.com/common\"\r\n        this.authority = this.config.auth.authority || DEFAULT_AUTHORITY;\r\n        // track login and acquireToken in progress\r\n        this.loginInProgress = false;\r\n        this.acquireTokenInProgress = false;\r\n        // cache keys msal - typescript throws an error if any value other than \"localStorage\" or \"sessionStorage\" is passed\r\n        try {\r\n            this.cacheStorage = new Storage(this.config.cache.cacheLocation);\r\n        }\r\n        catch (e) {\r\n            throw ClientConfigurationError.createInvalidCacheLocationConfigError(this.config.cache.cacheLocation);\r\n        }\r\n        // Initialize window handling code\r\n        window.openedWindows = [];\r\n        window.activeRenewals = {};\r\n        window.renewStates = [];\r\n        window.callbackMappedToRenewStates = {};\r\n        window.promiseMappedToRenewStates = {};\r\n        window.msal = this;\r\n        var urlHash = window.location.hash;\r\n        var urlContainsHash = this.urlContainsHash(urlHash);\r\n        // On the server 302 - Redirect, handle this\r\n        if (!this.config.framework.isAngular) {\r\n            if (urlContainsHash) {\r\n                this.handleAuthenticationResponse(urlHash);\r\n            }\r\n        }\r\n    }\r\n    Object.defineProperty(UserAgentApplication.prototype, \"authority\", {\r\n        /**\r\n         * Method to manage the authority URL.\r\n         *\r\n         * @returns {string} authority\r\n         */\r\n        get: function () {\r\n            return this.authorityInstance.CanonicalAuthority;\r\n        },\r\n        /**\r\n         * setter for the authority URL\r\n         * @param {string} authority\r\n         */\r\n        // If the developer passes an authority, create an instance\r\n        set: function (val) {\r\n            this.authorityInstance = AuthorityFactory.CreateInstance(val, this.config.auth.validateAuthority);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * Get the current authority instance from the MSAL configuration object\r\n     *\r\n     * @returns {@link Authority} authority instance\r\n     */\r\n    UserAgentApplication.prototype.getAuthorityInstance = function () {\r\n        return this.authorityInstance;\r\n    };\r\n    UserAgentApplication.prototype.handleRedirectCallback = function (authOrTokenCallback, errorReceivedCallback) {\r\n        if (!authOrTokenCallback) {\r\n            this.redirectCallbacksSet = false;\r\n            throw ClientConfigurationError.createInvalidCallbackObjectError(authOrTokenCallback);\r\n        }\r\n        // Set callbacks\r\n        if (errorReceivedCallback) {\r\n            this.tokenReceivedCallback = authOrTokenCallback;\r\n            this.errorReceivedCallback = errorReceivedCallback;\r\n            this.logger.warning(\"This overload for callback is deprecated - please change the format of the callbacks to a single callback as shown: (err: AuthError, response: AuthResponse).\");\r\n        }\r\n        else {\r\n            this.authResponseCallback = authOrTokenCallback;\r\n        }\r\n        this.redirectCallbacksSet = true;\r\n        // On the server 302 - Redirect, handle this\r\n        if (!this.config.framework.isAngular) {\r\n            var cachedHash = this.cacheStorage.getItem(Constants.urlHash);\r\n            if (cachedHash) {\r\n                this.processCallBack(cachedHash, null);\r\n            }\r\n        }\r\n    };\r\n    UserAgentApplication.prototype.authResponseHandler = function (interactionType, response, resolve) {\r\n        if (interactionType === Constants.interactionTypeRedirect) {\r\n            if (this.errorReceivedCallback) {\r\n                this.tokenReceivedCallback(response);\r\n            }\r\n            else if (this.authResponseCallback) {\r\n                this.authResponseCallback(null, response);\r\n            }\r\n        }\r\n        else if (interactionType === Constants.interactionTypePopup) {\r\n            resolve(response);\r\n        }\r\n        else {\r\n            throw ClientAuthError.createInvalidInteractionTypeError();\r\n        }\r\n    };\r\n    UserAgentApplication.prototype.authErrorHandler = function (interactionType, authErr, response, reject) {\r\n        if (interactionType === Constants.interactionTypeRedirect) {\r\n            if (this.errorReceivedCallback) {\r\n                this.errorReceivedCallback(authErr, response.accountState);\r\n            }\r\n            else {\r\n                this.authResponseCallback(authErr, response);\r\n            }\r\n        }\r\n        else if (interactionType === Constants.interactionTypePopup) {\r\n            reject(authErr);\r\n        }\r\n        else {\r\n            throw ClientAuthError.createInvalidInteractionTypeError();\r\n        }\r\n    };\r\n    //#endregion\r\n    /**\r\n     * Use when initiating the login process by redirecting the user's browser to the authorization endpoint.\r\n     * @param {@link (AuthenticationParameters:type)}\r\n     */\r\n    UserAgentApplication.prototype.loginRedirect = function (request) {\r\n        // Throw error if callbacks are not set before redirect\r\n        if (!this.redirectCallbacksSet) {\r\n            throw ClientConfigurationError.createRedirectCallbacksNotSetError();\r\n        }\r\n        this.acquireTokenInteractive(Constants.interactionTypeRedirect, true, request);\r\n    };\r\n    /**\r\n     * Use when you want to obtain an access_token for your API by redirecting the user's browser window to the authorization endpoint.\r\n     * @param {@link (AuthenticationParameters:type)}\r\n     *\r\n     * To renew idToken, please pass clientId as the only scope in the Authentication Parameters\r\n     */\r\n    UserAgentApplication.prototype.acquireTokenRedirect = function (request) {\r\n        if (!request) {\r\n            throw ClientConfigurationError.createEmptyRequestError();\r\n        }\r\n        // Throw error if callbacks are not set before redirect\r\n        if (!this.redirectCallbacksSet) {\r\n            throw ClientConfigurationError.createRedirectCallbacksNotSetError();\r\n        }\r\n        this.acquireTokenInteractive(Constants.interactionTypeRedirect, false, request);\r\n    };\r\n    /**\r\n     * Use when initiating the login process via opening a popup window in the user's browser\r\n     *\r\n     * @param {@link (AuthenticationParameters:type)}\r\n     *\r\n     * @returns {Promise.<AuthResponse>} - a promise that is fulfilled when this function has completed, or rejected if an error was raised. Returns the {@link AuthResponse} object\r\n     */\r\n    UserAgentApplication.prototype.loginPopup = function (request) {\r\n        var _this = this;\r\n        return new Promise(function (resolve, reject) {\r\n            _this.acquireTokenInteractive(Constants.interactionTypePopup, true, request, resolve, reject);\r\n        });\r\n    };\r\n    /**\r\n     * Use when you want to obtain an access_token for your API via opening a popup window in the user's browser\r\n     * @param {@link AuthenticationParameters}\r\n     *\r\n     * To renew idToken, please pass clientId as the only scope in the Authentication Parameters\r\n     * @returns {Promise.<AuthResponse>} - a promise that is fulfilled when this function has completed, or rejected if an error was raised. Returns the {@link AuthResponse} object\r\n     */\r\n    UserAgentApplication.prototype.acquireTokenPopup = function (request) {\r\n        var _this = this;\r\n        if (!request) {\r\n            throw ClientConfigurationError.createEmptyRequestError();\r\n        }\r\n        return new Promise(function (resolve, reject) {\r\n            _this.acquireTokenInteractive(Constants.interactionTypePopup, false, request, resolve, reject);\r\n        });\r\n    };\r\n    //#region Acquire Token\r\n    /**\r\n     * Use when initiating the login process or when you want to obtain an access_token for your API,\r\n     * either by redirecting the user's browser window to the authorization endpoint or via opening a popup window in the user's browser.\r\n     * @param {@link (AuthenticationParameters:type)}\r\n     *\r\n     * To renew idToken, please pass clientId as the only scope in the Authentication Parameters\r\n     */\r\n    UserAgentApplication.prototype.acquireTokenInteractive = function (interactionType, isLoginCall, request, resolve, reject) {\r\n        var _this = this;\r\n        // If already in progress, do not proceed\r\n        if (this.loginInProgress || this.acquireTokenInProgress) {\r\n            var thrownError = this.loginInProgress ? ClientAuthError.createLoginInProgressError() : ClientAuthError.createAcquireTokenInProgressError();\r\n            var stateOnlyResponse = buildResponseStateOnly(this.getAccountState(request && request.state));\r\n            this.authErrorHandler(interactionType, thrownError, stateOnlyResponse, reject);\r\n            return;\r\n        }\r\n        // if extraScopesToConsent is passed in loginCall, append them to the login request\r\n        var scopes = isLoginCall ? this.appendScopes(request) : request.scopes;\r\n        // Validate and filter scopes (the validate function will throw if validation fails)\r\n        this.validateInputScope(scopes, !isLoginCall);\r\n        // Get the account object if a session exists\r\n        var account = (request && request.account && !isLoginCall) ? request.account : this.getAccount();\r\n        // If no session exists, prompt the user to login.\r\n        if (!account && !ServerRequestParameters.isSSOParam(request)) {\r\n            if (isLoginCall) {\r\n                // extract ADAL id_token if exists\r\n                var adalIdToken = this.extractADALIdToken();\r\n                // silent login if ADAL id_token is retrieved successfully - SSO\r\n                if (adalIdToken && !scopes) {\r\n                    this.logger.info(\"ADAL's idToken exists. Extracting login information from ADAL's idToken \");\r\n                    var tokenRequest = this.buildIDTokenRequest(request);\r\n                    this.silentLogin = true;\r\n                    this.acquireTokenSilent(tokenRequest).then(function (response) {\r\n                        _this.silentLogin = false;\r\n                        _this.logger.info(\"Unified cache call is successful\");\r\n                        _this.authResponseHandler(interactionType, response, resolve);\r\n                        return;\r\n                    }, function (error) {\r\n                        _this.silentLogin = false;\r\n                        _this.logger.error(\"Error occurred during unified cache ATS: \" + error);\r\n                        // proceed to login since ATS failed\r\n                        _this.acquireTokenHelper(null, interactionType, isLoginCall, request, scopes, resolve, reject);\r\n                    });\r\n                }\r\n                // No ADAL token found, proceed to login\r\n                else {\r\n                    this.acquireTokenHelper(null, interactionType, isLoginCall, request, scopes, resolve, reject);\r\n                }\r\n            }\r\n            // AcquireToken call, but no account or context given, so throw error\r\n            else {\r\n                this.logger.info(\"User login is required\");\r\n                throw ClientAuthError.createUserLoginRequiredError();\r\n            }\r\n        }\r\n        // User session exists\r\n        else {\r\n            this.acquireTokenHelper(account, interactionType, isLoginCall, request, scopes, resolve, reject);\r\n        }\r\n    };\r\n    /**\r\n     * @hidden\r\n     * @ignore\r\n     * Helper function to acquireToken\r\n     *\r\n     */\r\n    UserAgentApplication.prototype.acquireTokenHelper = function (account, interactionType, isLoginCall, request, scopes, resolve, reject) {\r\n        var _this = this;\r\n        // Track the acquireToken progress\r\n        if (isLoginCall) {\r\n            this.loginInProgress = true;\r\n        }\r\n        else {\r\n            this.acquireTokenInProgress = true;\r\n        }\r\n        var scope = scopes ? scopes.join(\" \").toLowerCase() : this.clientId.toLowerCase();\r\n        var serverAuthenticationRequest;\r\n        var acquireTokenAuthority = (!isLoginCall && request && request.authority) ? AuthorityFactory.CreateInstance(request.authority, this.config.auth.validateAuthority) : this.authorityInstance;\r\n        var popUpWindow;\r\n        if (interactionType === Constants.interactionTypePopup) {\r\n            // Generate a popup window\r\n            popUpWindow = this.openWindow(\"about:blank\", \"_blank\", 1, this, resolve, reject);\r\n            if (!popUpWindow) {\r\n                // We pass reject in openWindow, we reject there during an error\r\n                return;\r\n            }\r\n        }\r\n        acquireTokenAuthority.resolveEndpointsAsync().then(function () {\r\n            // On Fulfillment\r\n            var responseType = isLoginCall ? ResponseTypes.id_token : _this.getTokenType(account, scopes, false);\r\n            var loginStartPage;\r\n            if (isLoginCall) {\r\n                // if the user sets the login start page - angular only??\r\n                loginStartPage = _this.cacheStorage.getItem(Constants.angularLoginRequest);\r\n                if (!loginStartPage || loginStartPage === \"\") {\r\n                    loginStartPage = window.location.href;\r\n                }\r\n                else {\r\n                    _this.cacheStorage.setItem(Constants.angularLoginRequest, \"\");\r\n                }\r\n            }\r\n            serverAuthenticationRequest = new ServerRequestParameters(acquireTokenAuthority, _this.clientId, scopes, responseType, _this.getRedirectUri(), request && request.state);\r\n            _this.updateCacheEntries(serverAuthenticationRequest, account, loginStartPage);\r\n            // populate QueryParameters (sid/login_hint/domain_hint) and any other extraQueryParameters set by the developer\r\n            serverAuthenticationRequest.populateQueryParams(account, request);\r\n            // Construct urlNavigate\r\n            var urlNavigate = UrlUtils.createNavigateUrl(serverAuthenticationRequest) + Constants.response_mode_fragment;\r\n            // set state in cache\r\n            if (interactionType === Constants.interactionTypeRedirect) {\r\n                if (!isLoginCall) {\r\n                    _this.cacheStorage.setItem(Constants.stateAcquireToken, serverAuthenticationRequest.state, _this.inCookie);\r\n                }\r\n            }\r\n            else if (interactionType === Constants.interactionTypePopup) {\r\n                window.renewStates.push(serverAuthenticationRequest.state);\r\n                window.requestType = isLoginCall ? Constants.login : Constants.renewToken;\r\n                // Register callback to capture results from server\r\n                _this.registerCallback(serverAuthenticationRequest.state, scope, resolve, reject);\r\n            }\r\n            else {\r\n                throw ClientAuthError.createInvalidInteractionTypeError();\r\n            }\r\n            // prompt user for interaction\r\n            _this.navigateWindow(urlNavigate, popUpWindow);\r\n        }).catch(function (err) {\r\n            _this.logger.warning(\"could not resolve endpoints\");\r\n            _this.authErrorHandler(interactionType, ClientAuthError.createEndpointResolutionError(err.toString), buildResponseStateOnly(request.state), reject);\r\n            if (popUpWindow) {\r\n                popUpWindow.close();\r\n            }\r\n        });\r\n    };\r\n    /**\r\n     * Use this function to obtain a token before every call to the API / resource provider\r\n     *\r\n     * MSAL return's a cached token when available\r\n     * Or it send's a request to the STS to obtain a new token using a hidden iframe.\r\n     *\r\n     * @param {@link AuthenticationParameters}\r\n     *\r\n     * To renew idToken, please pass clientId as the only scope in the Authentication Parameters\r\n     * @returns {Promise.<AuthResponse>} - a promise that is fulfilled when this function has completed, or rejected if an error was raised. Returns the {@link AuthResponse} object\r\n     *\r\n     */\r\n    UserAgentApplication.prototype.acquireTokenSilent = function (request) {\r\n        var _this = this;\r\n        if (!request) {\r\n            throw ClientConfigurationError.createEmptyRequestError();\r\n        }\r\n        return new Promise(function (resolve, reject) {\r\n            // Validate and filter scopes (the validate function will throw if validation fails)\r\n            _this.validateInputScope(request.scopes, true);\r\n            var scope = request.scopes.join(\" \").toLowerCase();\r\n            // if the developer passes an account, give that account the priority\r\n            var account = request.account || _this.getAccount();\r\n            // extract if there is an adalIdToken stashed in the cache\r\n            var adalIdToken = _this.cacheStorage.getItem(Constants.adalIdToken);\r\n            //if there is no account logged in and no login_hint/sid is passed in the request\r\n            if (!account && !(request.sid || request.loginHint) && StringUtils.isEmpty(adalIdToken)) {\r\n                _this.logger.info(\"User login is required\");\r\n                return reject(ClientAuthError.createUserLoginRequiredError());\r\n            }\r\n            var responseType = _this.getTokenType(account, request.scopes, true);\r\n            var serverAuthenticationRequest = new ServerRequestParameters(AuthorityFactory.CreateInstance(request.authority, _this.config.auth.validateAuthority), _this.clientId, request.scopes, responseType, _this.getRedirectUri(), request && request.state);\r\n            // populate QueryParameters (sid/login_hint/domain_hint) and any other extraQueryParameters set by the developer\r\n            if (ServerRequestParameters.isSSOParam(request) || account) {\r\n                serverAuthenticationRequest.populateQueryParams(account, request);\r\n            }\r\n            //if user didn't pass login_hint/sid and adal's idtoken is present, extract the login_hint from the adalIdToken\r\n            else if (!account && !StringUtils.isEmpty(adalIdToken)) {\r\n                // if adalIdToken exists, extract the SSO info from the same\r\n                var adalIdTokenObject = TokenUtils.extractIdToken(adalIdToken);\r\n                _this.logger.verbose(\"ADAL's idToken exists. Extracting login information from ADAL's idToken \");\r\n                serverAuthenticationRequest.populateQueryParams(account, null, adalIdTokenObject);\r\n            }\r\n            var userContainedClaims = request.claimsRequest || serverAuthenticationRequest.claimsValue;\r\n            var authErr;\r\n            var cacheResultResponse;\r\n            if (!userContainedClaims && !request.forceRefresh) {\r\n                try {\r\n                    cacheResultResponse = _this.getCachedToken(serverAuthenticationRequest, account);\r\n                }\r\n                catch (e) {\r\n                    authErr = e;\r\n                }\r\n            }\r\n            // resolve/reject based on cacheResult\r\n            if (cacheResultResponse) {\r\n                _this.logger.info(\"Token is already in cache for scope:\" + scope);\r\n                resolve(cacheResultResponse);\r\n                return null;\r\n            }\r\n            else if (authErr) {\r\n                _this.logger.infoPii(authErr.errorCode + \":\" + authErr.errorMessage);\r\n                reject(authErr);\r\n                return null;\r\n            }\r\n            // else proceed with login\r\n            else {\r\n                var logMessage = void 0;\r\n                if (userContainedClaims) {\r\n                    logMessage = \"Skipped cache lookup since claims were given.\";\r\n                }\r\n                else if (request.forceRefresh) {\r\n                    logMessage = \"Skipped cache lookup since request.forceRefresh option was set to true\";\r\n                }\r\n                else {\r\n                    logMessage = \"Token is not in cache for scope:\" + scope;\r\n                }\r\n                _this.logger.verbose(logMessage);\r\n                // Cache result can return null if cache is empty. In that case, set authority to default value if no authority is passed to the api.\r\n                if (!serverAuthenticationRequest.authorityInstance) {\r\n                    serverAuthenticationRequest.authorityInstance = request.authority ? AuthorityFactory.CreateInstance(request.authority, _this.config.auth.validateAuthority) : _this.authorityInstance;\r\n                }\r\n                // cache miss\r\n                return serverAuthenticationRequest.authorityInstance.resolveEndpointsAsync()\r\n                    .then(function () {\r\n                    // refresh attempt with iframe\r\n                    // Already renewing for this scope, callback when we get the token.\r\n                    if (window.activeRenewals[scope]) {\r\n                        _this.logger.verbose(\"Renew token for scope: \" + scope + \" is in progress. Registering callback\");\r\n                        // Active renewals contains the state for each renewal.\r\n                        _this.registerCallback(window.activeRenewals[scope], scope, resolve, reject);\r\n                    }\r\n                    else {\r\n                        if (request.scopes && request.scopes.indexOf(_this.clientId) > -1 && request.scopes.length === 1) {\r\n                            // App uses idToken to send to api endpoints\r\n                            // Default scope is tracked as clientId to store this token\r\n                            _this.logger.verbose(\"renewing idToken\");\r\n                            _this.silentLogin = true;\r\n                            _this.renewIdToken(request.scopes, resolve, reject, account, serverAuthenticationRequest);\r\n                        }\r\n                        else {\r\n                            // renew access token\r\n                            _this.logger.verbose(\"renewing accesstoken\");\r\n                            _this.renewToken(request.scopes, resolve, reject, account, serverAuthenticationRequest);\r\n                        }\r\n                    }\r\n                }).catch(function (err) {\r\n                    _this.logger.warning(\"could not resolve endpoints\");\r\n                    reject(ClientAuthError.createEndpointResolutionError(err.toString()));\r\n                    return null;\r\n                });\r\n            }\r\n        });\r\n    };\r\n    //#endregion\r\n    //#region Popup Window Creation\r\n    /**\r\n     * @hidden\r\n     *\r\n     * Used to send the user to the redirect_uri after authentication is complete. The user's bearer token is attached to the URI fragment as an id_token/access_token field.\r\n     * This function also closes the popup window after redirection.\r\n     *\r\n     * @param urlNavigate\r\n     * @param title\r\n     * @param interval\r\n     * @param instance\r\n     * @param resolve\r\n     * @param reject\r\n     * @ignore\r\n     */\r\n    UserAgentApplication.prototype.openWindow = function (urlNavigate, title, interval, instance, resolve, reject) {\r\n        var _this = this;\r\n        // Generate a popup window\r\n        var popupWindow;\r\n        try {\r\n            popupWindow = this.openPopup(urlNavigate, title, Constants.popUpWidth, Constants.popUpHeight);\r\n        }\r\n        catch (e) {\r\n            instance.loginInProgress = false;\r\n            instance.acquireTokenInProgress = false;\r\n            this.logger.info(ClientAuthErrorMessage.popUpWindowError.code + \":\" + ClientAuthErrorMessage.popUpWindowError.desc);\r\n            this.cacheStorage.setItem(Constants.msalError, ClientAuthErrorMessage.popUpWindowError.code);\r\n            this.cacheStorage.setItem(Constants.msalErrorDescription, ClientAuthErrorMessage.popUpWindowError.desc);\r\n            if (reject) {\r\n                reject(ClientAuthError.createPopupWindowError());\r\n            }\r\n            return null;\r\n        }\r\n        // Push popup window handle onto stack for tracking\r\n        window.openedWindows.push(popupWindow);\r\n        var pollTimer = window.setInterval(function () {\r\n            // If popup closed or login in progress, cancel login\r\n            if (popupWindow && popupWindow.closed && (instance.loginInProgress || instance.acquireTokenInProgress)) {\r\n                if (reject) {\r\n                    reject(ClientAuthError.createUserCancelledError());\r\n                }\r\n                window.clearInterval(pollTimer);\r\n                if (_this.config.framework.isAngular) {\r\n                    _this.broadcast(\"msal:popUpClosed\", ClientAuthErrorMessage.userCancelledError.code + Constants.resourceDelimiter + ClientAuthErrorMessage.userCancelledError.desc);\r\n                    return;\r\n                }\r\n                instance.loginInProgress = false;\r\n                instance.acquireTokenInProgress = false;\r\n            }\r\n            try {\r\n                var popUpWindowLocation = popupWindow.location;\r\n                // If the popup hash changes, close the popup window\r\n                if (popUpWindowLocation.href.indexOf(_this.getRedirectUri()) !== -1) {\r\n                    window.clearInterval(pollTimer);\r\n                    instance.loginInProgress = false;\r\n                    instance.acquireTokenInProgress = false;\r\n                    _this.logger.info(\"Closing popup window\");\r\n                    // TODO: Check how this can be extracted for any framework specific code?\r\n                    if (_this.config.framework.isAngular) {\r\n                        _this.broadcast(\"msal:popUpHashChanged\", popUpWindowLocation.hash);\r\n                        for (var i = 0; i < window.openedWindows.length; i++) {\r\n                            window.openedWindows[i].close();\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n            catch (e) {\r\n                // Cross Domain url check error.\r\n                // Will be thrown until AAD redirects the user back to the app\"s root page with the token.\r\n                // No need to log or throw this error as it will create unnecessary traffic.\r\n            }\r\n        }, interval);\r\n        return popupWindow;\r\n    };\r\n    /**\r\n     * @hidden\r\n     *\r\n     * Configures popup window for login.\r\n     *\r\n     * @param urlNavigate\r\n     * @param title\r\n     * @param popUpWidth\r\n     * @param popUpHeight\r\n     * @ignore\r\n     * @hidden\r\n     */\r\n    UserAgentApplication.prototype.openPopup = function (urlNavigate, title, popUpWidth, popUpHeight) {\r\n        try {\r\n            /**\r\n             * adding winLeft and winTop to account for dual monitor\r\n             * using screenLeft and screenTop for IE8 and earlier\r\n             */\r\n            var winLeft = window.screenLeft ? window.screenLeft : window.screenX;\r\n            var winTop = window.screenTop ? window.screenTop : window.screenY;\r\n            /**\r\n             * window.innerWidth displays browser window\"s height and width excluding toolbars\r\n             * using document.documentElement.clientWidth for IE8 and earlier\r\n             */\r\n            var width = window.innerWidth || document.documentElement.clientWidth || document.body.clientWidth;\r\n            var height = window.innerHeight || document.documentElement.clientHeight || document.body.clientHeight;\r\n            var left = ((width / 2) - (popUpWidth / 2)) + winLeft;\r\n            var top_1 = ((height / 2) - (popUpHeight / 2)) + winTop;\r\n            // open the window\r\n            var popupWindow = window.open(urlNavigate, title, \"width=\" + popUpWidth + \", height=\" + popUpHeight + \", top=\" + top_1 + \", left=\" + left);\r\n            if (!popupWindow) {\r\n                throw ClientAuthError.createPopupWindowError();\r\n            }\r\n            if (popupWindow.focus) {\r\n                popupWindow.focus();\r\n            }\r\n            return popupWindow;\r\n        }\r\n        catch (e) {\r\n            this.logger.error(\"error opening popup \" + e.message);\r\n            this.loginInProgress = false;\r\n            this.acquireTokenInProgress = false;\r\n            throw ClientAuthError.createPopupWindowError(e.toString());\r\n        }\r\n    };\r\n    //#endregion\r\n    //#region Iframe Management\r\n    /**\r\n     * @hidden\r\n     * Returns whether current window is in ifram for token renewal\r\n     * @ignore\r\n     */\r\n    UserAgentApplication.prototype.isInIframe = function () {\r\n        return window.parent !== window;\r\n    };\r\n    /**\r\n     * @hidden\r\n     * Returns whether parent window exists and has msal\r\n     */\r\n    UserAgentApplication.prototype.parentIsMsal = function () {\r\n        return window.parent !== window && window.parent.msal;\r\n    };\r\n    /**\r\n     * @hidden\r\n     * Calling _loadFrame but with a timeout to signal failure in loadframeStatus. Callbacks are left.\r\n     * registered when network errors occur and subsequent token requests for same resource are registered to the pending request.\r\n     * @ignore\r\n     */\r\n    UserAgentApplication.prototype.loadIframeTimeout = function (urlNavigate, frameName, scope) {\r\n        var _this = this;\r\n        //set iframe session to pending\r\n        var expectedState = window.activeRenewals[scope];\r\n        this.logger.verbose(\"Set loading state to pending for: \" + scope + \":\" + expectedState);\r\n        this.cacheStorage.setItem(Constants.renewStatus + expectedState, Constants.tokenRenewStatusInProgress);\r\n        this.loadFrame(urlNavigate, frameName);\r\n        setTimeout(function () {\r\n            if (_this.cacheStorage.getItem(Constants.renewStatus + expectedState) === Constants.tokenRenewStatusInProgress) {\r\n                // fail the iframe session if it\"s in pending state\r\n                _this.logger.verbose(\"Loading frame has timed out after: \" + (_this.config.system.loadFrameTimeout / 1000) + \" seconds for scope \" + scope + \":\" + expectedState);\r\n                // Error after timeout\r\n                if (expectedState && window.callbackMappedToRenewStates[expectedState]) {\r\n                    window.callbackMappedToRenewStates[expectedState](null, ClientAuthError.createTokenRenewalTimeoutError());\r\n                }\r\n                _this.cacheStorage.setItem(Constants.renewStatus + expectedState, Constants.tokenRenewStatusCancelled);\r\n            }\r\n        }, this.config.system.loadFrameTimeout);\r\n    };\r\n    /**\r\n     * @hidden\r\n     * Loads iframe with authorization endpoint URL\r\n     * @ignore\r\n     */\r\n    UserAgentApplication.prototype.loadFrame = function (urlNavigate, frameName) {\r\n        var _this = this;\r\n        // This trick overcomes iframe navigation in IE\r\n        // IE does not load the page consistently in iframe\r\n        this.logger.info(\"LoadFrame: \" + frameName);\r\n        var frameCheck = frameName;\r\n        setTimeout(function () {\r\n            var frameHandle = _this.addHiddenIFrame(frameCheck);\r\n            if (frameHandle.src === \"\" || frameHandle.src === \"about:blank\") {\r\n                frameHandle.src = urlNavigate;\r\n                _this.logger.infoPii(\"Frame Name : \" + frameName + \" Navigated to: \" + urlNavigate);\r\n            }\r\n        }, this.config.system.navigateFrameWait);\r\n    };\r\n    /**\r\n     * @hidden\r\n     * Adds the hidden iframe for silent token renewal.\r\n     * @ignore\r\n     */\r\n    UserAgentApplication.prototype.addHiddenIFrame = function (iframeId) {\r\n        if (typeof iframeId === \"undefined\") {\r\n            return null;\r\n        }\r\n        this.logger.info(\"Add msal frame to document:\" + iframeId);\r\n        var adalFrame = document.getElementById(iframeId);\r\n        if (!adalFrame) {\r\n            if (document.createElement &&\r\n                document.documentElement &&\r\n                (window.navigator.userAgent.indexOf(\"MSIE 5.0\") === -1)) {\r\n                var ifr = document.createElement(\"iframe\");\r\n                ifr.setAttribute(\"id\", iframeId);\r\n                ifr.style.visibility = \"hidden\";\r\n                ifr.style.position = \"absolute\";\r\n                ifr.style.width = ifr.style.height = \"0\";\r\n                ifr.style.border = \"0\";\r\n                adalFrame = document.getElementsByTagName(\"body\")[0].appendChild(ifr);\r\n            }\r\n            else if (document.body && document.body.insertAdjacentHTML) {\r\n                document.body.insertAdjacentHTML(\"beforeend\", \"<iframe name='\" + iframeId + \"' id='\" + iframeId + \"' style='display:none'></iframe>\");\r\n            }\r\n            if (window.frames && window.frames[iframeId]) {\r\n                adalFrame = window.frames[iframeId];\r\n            }\r\n        }\r\n        return adalFrame;\r\n    };\r\n    //#endregion\r\n    //#region General Helpers\r\n    /**\r\n     * @hidden\r\n     * Used to redirect the browser to the STS authorization endpoint\r\n     * @param {string} urlNavigate - URL of the authorization endpoint\r\n     */\r\n    UserAgentApplication.prototype.navigateWindow = function (urlNavigate, popupWindow) {\r\n        // Navigate if valid URL\r\n        if (urlNavigate && !StringUtils.isEmpty(urlNavigate)) {\r\n            var navigateWindow = popupWindow ? popupWindow : window;\r\n            var logMessage = popupWindow ? \"Navigated Popup window to:\" + urlNavigate : \"Navigate to:\" + urlNavigate;\r\n            this.logger.infoPii(logMessage);\r\n            navigateWindow.location.replace(urlNavigate);\r\n        }\r\n        else {\r\n            this.logger.info(\"Navigate url is empty\");\r\n            throw AuthError.createUnexpectedError(\"Navigate url is empty\");\r\n        }\r\n    };\r\n    /**\r\n     * @hidden\r\n     * Used to add the developer requested callback to the array of callbacks for the specified scopes. The updated array is stored on the window object\r\n     * @param {string} expectedState - Unique state identifier (guid).\r\n     * @param {string} scope - Developer requested permissions. Not all scopes are guaranteed to be included in the access token returned.\r\n     * @param {Function} resolve - The resolve function of the promise object.\r\n     * @param {Function} reject - The reject function of the promise object.\r\n     * @ignore\r\n     */\r\n    UserAgentApplication.prototype.registerCallback = function (expectedState, scope, resolve, reject) {\r\n        var _this = this;\r\n        // track active renewals\r\n        window.activeRenewals[scope] = expectedState;\r\n        // initialize callbacks mapped array\r\n        if (!window.promiseMappedToRenewStates[expectedState]) {\r\n            window.promiseMappedToRenewStates[expectedState] = [];\r\n        }\r\n        // indexing on the current state, push the callback params to callbacks mapped\r\n        window.promiseMappedToRenewStates[expectedState].push({ resolve: resolve, reject: reject });\r\n        // Store the server esponse in the current window??\r\n        if (!window.callbackMappedToRenewStates[expectedState]) {\r\n            window.callbackMappedToRenewStates[expectedState] =\r\n                function (response, error) {\r\n                    // reset active renewals\r\n                    window.activeRenewals[scope] = null;\r\n                    // for all promiseMappedtoRenewStates for a given 'state' - call the reject/resolve with error/token respectively\r\n                    for (var i = 0; i < window.promiseMappedToRenewStates[expectedState].length; ++i) {\r\n                        try {\r\n                            if (error) {\r\n                                window.promiseMappedToRenewStates[expectedState][i].reject(error);\r\n                            }\r\n                            else if (response) {\r\n                                window.promiseMappedToRenewStates[expectedState][i].resolve(response);\r\n                            }\r\n                            else {\r\n                                throw AuthError.createUnexpectedError(\"Error and response are both null\");\r\n                            }\r\n                        }\r\n                        catch (e) {\r\n                            _this.logger.warning(e);\r\n                        }\r\n                    }\r\n                    // reset\r\n                    window.promiseMappedToRenewStates[expectedState] = null;\r\n                    window.callbackMappedToRenewStates[expectedState] = null;\r\n                };\r\n        }\r\n    };\r\n    //#endregion\r\n    //#region Logout\r\n    /**\r\n     * Use to log out the current user, and redirect the user to the postLogoutRedirectUri.\r\n     * Default behaviour is to redirect the user to `window.location.href`.\r\n     */\r\n    UserAgentApplication.prototype.logout = function () {\r\n        var _this = this;\r\n        this.clearCache();\r\n        this.account = null;\r\n        var logout = \"\";\r\n        if (this.getPostLogoutRedirectUri()) {\r\n            logout = \"post_logout_redirect_uri=\" + encodeURIComponent(this.getPostLogoutRedirectUri());\r\n        }\r\n        this.authorityInstance.resolveEndpointsAsync().then(function (authority) {\r\n            var urlNavigate = authority.EndSessionEndpoint\r\n                ? authority.EndSessionEndpoint + \"?\" + logout\r\n                : _this.authority + \"oauth2/v2.0/logout?\" + logout;\r\n            _this.navigateWindow(urlNavigate);\r\n        });\r\n    };\r\n    /**\r\n     * @hidden\r\n     * Clear all access tokens in the cache.\r\n     * @ignore\r\n     */\r\n    UserAgentApplication.prototype.clearCache = function () {\r\n        window.renewStates = [];\r\n        var accessTokenItems = this.cacheStorage.getAllAccessTokens(Constants.clientId, Constants.homeAccountIdentifier);\r\n        for (var i = 0; i < accessTokenItems.length; i++) {\r\n            this.cacheStorage.removeItem(JSON.stringify(accessTokenItems[i].key));\r\n        }\r\n        this.cacheStorage.resetCacheItems();\r\n        this.cacheStorage.clearCookie();\r\n    };\r\n    /**\r\n     * @hidden\r\n     * Clear a given access token from the cache.\r\n     *\r\n     * @param accessToken\r\n     */\r\n    UserAgentApplication.prototype.clearCacheForScope = function (accessToken) {\r\n        var accessTokenItems = this.cacheStorage.getAllAccessTokens(Constants.clientId, Constants.homeAccountIdentifier);\r\n        for (var i = 0; i < accessTokenItems.length; i++) {\r\n            var token = accessTokenItems[i];\r\n            if (token.value.accessToken === accessToken) {\r\n                this.cacheStorage.removeItem(JSON.stringify(token.key));\r\n            }\r\n        }\r\n    };\r\n    //#endregion\r\n    //#region Response\r\n    /**\r\n     * @hidden\r\n     * @ignore\r\n     * Checks if the redirect response is received from the STS. In case of redirect, the url fragment has either id_token, access_token or error.\r\n     * @param {string} hash - Hash passed from redirect page.\r\n     * @returns {Boolean} - true if response contains id_token, access_token or error, false otherwise.\r\n     */\r\n    UserAgentApplication.prototype.isCallback = function (hash) {\r\n        this.logger.info(\"isCallback will be deprecated in favor of urlContainsHash in MSAL.js v2.0.\");\r\n        return this.urlContainsHash(hash);\r\n    };\r\n    UserAgentApplication.prototype.urlContainsHash = function (urlString) {\r\n        var parameters = this.deserializeHash(urlString);\r\n        return (parameters.hasOwnProperty(Constants.errorDescription) ||\r\n            parameters.hasOwnProperty(Constants.error) ||\r\n            parameters.hasOwnProperty(Constants.accessToken) ||\r\n            parameters.hasOwnProperty(Constants.idToken));\r\n    };\r\n    /**\r\n     * @hidden\r\n     * Used to call the constructor callback with the token/error\r\n     * @param {string} [hash=window.location.hash] - Hash fragment of Url.\r\n     */\r\n    UserAgentApplication.prototype.processCallBack = function (hash, stateInfo, parentCallback) {\r\n        this.logger.info(\"Processing the callback from redirect response\");\r\n        // get the state info from the hash\r\n        if (!stateInfo) {\r\n            stateInfo = this.getResponseState(hash);\r\n        }\r\n        var response;\r\n        var authErr;\r\n        // Save the token info from the hash\r\n        try {\r\n            response = this.saveTokenFromHash(hash, stateInfo);\r\n        }\r\n        catch (err) {\r\n            authErr = err;\r\n        }\r\n        // remove hash from the cache\r\n        this.cacheStorage.removeItem(Constants.urlHash);\r\n        try {\r\n            // Clear the cookie in the hash\r\n            this.cacheStorage.clearCookie();\r\n            var accountState = this.getAccountState(stateInfo.state);\r\n            if (response) {\r\n                if ((stateInfo.requestType === Constants.renewToken) || response.accessToken) {\r\n                    if (window.parent !== window) {\r\n                        this.logger.verbose(\"Window is in iframe, acquiring token silently\");\r\n                    }\r\n                    else {\r\n                        this.logger.verbose(\"acquiring token interactive in progress\");\r\n                    }\r\n                    response.tokenType = Constants.accessToken;\r\n                }\r\n                else if (stateInfo.requestType === Constants.login) {\r\n                    response.tokenType = Constants.idToken;\r\n                }\r\n                if (!parentCallback) {\r\n                    this.authResponseHandler(Constants.interactionTypeRedirect, response);\r\n                    return;\r\n                }\r\n            }\r\n            else if (!parentCallback) {\r\n                this.authErrorHandler(Constants.interactionTypeRedirect, authErr, buildResponseStateOnly(accountState));\r\n                return;\r\n            }\r\n            parentCallback(response, authErr);\r\n        }\r\n        catch (err) {\r\n            this.logger.error(\"Error occurred in token received callback function: \" + err);\r\n            throw ClientAuthError.createErrorInCallbackFunction(err.toString());\r\n        }\r\n    };\r\n    /**\r\n     * @hidden\r\n     * This method must be called for processing the response received from the STS. It extracts the hash, processes the token or error information and saves it in the cache. It then\r\n     * calls the registered callbacks in case of redirect or resolves the promises with the result.\r\n     * @param {string} [hash=window.location.hash] - Hash fragment of Url.\r\n     */\r\n    UserAgentApplication.prototype.handleAuthenticationResponse = function (hash) {\r\n        // retrieve the hash\r\n        if (hash == null) {\r\n            hash = window.location.hash;\r\n        }\r\n        var self = null;\r\n        var isPopup = false;\r\n        var isWindowOpenerMsal = false;\r\n        // Check if the current window opened the iFrame/popup\r\n        try {\r\n            isWindowOpenerMsal = window.opener && window.opener.msal && window.opener.msal !== window.msal;\r\n        }\r\n        catch (err) {\r\n            // err = SecurityError: Blocked a frame with origin \"[url]\" from accessing a cross-origin frame.\r\n            isWindowOpenerMsal = false;\r\n        }\r\n        // Set the self to the window that created the popup/iframe\r\n        if (isWindowOpenerMsal) {\r\n            self = window.opener.msal;\r\n            isPopup = true;\r\n        }\r\n        else if (window.parent && window.parent.msal) {\r\n            self = window.parent.msal;\r\n        }\r\n        // if (window.parent !== window), by using self, window.parent becomes equal to window in getResponseState method specifically\r\n        var stateInfo = self.getResponseState(hash);\r\n        var tokenResponseCallback = null;\r\n        self.logger.info(\"Returned from redirect url\");\r\n        // If parent window is the msal instance which opened the current window (iframe)\r\n        if (this.parentIsMsal()) {\r\n            tokenResponseCallback = window.parent.callbackMappedToRenewStates[stateInfo.state];\r\n        }\r\n        // Current window is window opener (popup)\r\n        else if (isWindowOpenerMsal) {\r\n            tokenResponseCallback = window.opener.callbackMappedToRenewStates[stateInfo.state];\r\n        }\r\n        // Redirect cases\r\n        else {\r\n            tokenResponseCallback = null;\r\n            // if set to navigate to loginRequest page post login\r\n            if (self.config.auth.navigateToLoginRequestUrl) {\r\n                self.cacheStorage.setItem(Constants.urlHash, hash);\r\n                if (window.parent === window && !isPopup) {\r\n                    window.location.href = self.cacheStorage.getItem(Constants.loginRequest, self.inCookie);\r\n                }\r\n                return;\r\n            }\r\n            else {\r\n                window.location.hash = \"\";\r\n            }\r\n            if (!this.redirectCallbacksSet) {\r\n                // We reached this point too early - cache hash, return and process in handleRedirectCallbacks\r\n                self.cacheStorage.setItem(Constants.urlHash, hash);\r\n                return;\r\n            }\r\n        }\r\n        self.processCallBack(hash, stateInfo, tokenResponseCallback);\r\n        // If current window is opener, close all windows\r\n        if (isWindowOpenerMsal) {\r\n            for (var i = 0; i < window.opener.openedWindows.length; i++) {\r\n                window.opener.openedWindows[i].close();\r\n            }\r\n        }\r\n    };\r\n    /**\r\n     * @hidden\r\n     * Returns deserialized portion of URL hash\r\n     * @param hash\r\n     */\r\n    UserAgentApplication.prototype.deserializeHash = function (urlFragment) {\r\n        var hash = UrlUtils.getHashFromUrl(urlFragment);\r\n        return CryptoUtils.deserialize(hash);\r\n    };\r\n    /**\r\n     * @hidden\r\n     * Creates a stateInfo object from the URL fragment and returns it.\r\n     * @param {string} hash  -  Hash passed from redirect page\r\n     * @returns {TokenResponse} an object created from the redirect response from AAD comprising of the keys - parameters, requestType, stateMatch, stateResponse and valid.\r\n     * @ignore\r\n     */\r\n    UserAgentApplication.prototype.getResponseState = function (hash) {\r\n        var parameters = this.deserializeHash(hash);\r\n        var stateResponse;\r\n        if (!parameters) {\r\n            throw AuthError.createUnexpectedError(\"Hash was not parsed correctly.\");\r\n        }\r\n        if (parameters.hasOwnProperty(\"state\")) {\r\n            stateResponse = {\r\n                requestType: Constants.unknown,\r\n                state: parameters.state,\r\n                stateMatch: false\r\n            };\r\n        }\r\n        else {\r\n            throw AuthError.createUnexpectedError(\"Hash does not contain state.\");\r\n        }\r\n        // async calls can fire iframe and login request at the same time if developer does not use the API as expected\r\n        // incoming callback needs to be looked up to find the request type\r\n        // loginRedirect\r\n        if (stateResponse.state === this.cacheStorage.getItem(Constants.stateLogin, this.inCookie) || stateResponse.state === this.silentAuthenticationState) { // loginRedirect\r\n            stateResponse.requestType = Constants.login;\r\n            stateResponse.stateMatch = true;\r\n            return stateResponse;\r\n        }\r\n        // acquireTokenRedirect\r\n        else if (stateResponse.state === this.cacheStorage.getItem(Constants.stateAcquireToken, this.inCookie)) { //acquireTokenRedirect\r\n            stateResponse.requestType = Constants.renewToken;\r\n            stateResponse.stateMatch = true;\r\n            return stateResponse;\r\n        }\r\n        // external api requests may have many renewtoken requests for different resource\r\n        if (!stateResponse.stateMatch) {\r\n            stateResponse.requestType = window.requestType;\r\n            var statesInParentContext = window.renewStates;\r\n            for (var i = 0; i < statesInParentContext.length; i++) {\r\n                if (statesInParentContext[i] === stateResponse.state) {\r\n                    stateResponse.stateMatch = true;\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n        return stateResponse;\r\n    };\r\n    //#endregion\r\n    //#region Token Processing (Extract to TokenProcessing.ts)\r\n    /**\r\n     * @hidden\r\n     * Used to get token for the specified set of scopes from the cache\r\n     * @param {@link ServerRequestParameters} - Request sent to the STS to obtain an id_token/access_token\r\n     * @param {Account} account - Account for which the scopes were requested\r\n     */\r\n    UserAgentApplication.prototype.getCachedToken = function (serverAuthenticationRequest, account) {\r\n        var accessTokenCacheItem = null;\r\n        var scopes = serverAuthenticationRequest.scopes;\r\n        // filter by clientId and account\r\n        var tokenCacheItems = this.cacheStorage.getAllAccessTokens(this.clientId, account ? account.homeAccountIdentifier : null);\r\n        // No match found after initial filtering\r\n        if (tokenCacheItems.length === 0) {\r\n            return null;\r\n        }\r\n        var filteredItems = [];\r\n        // if no authority passed\r\n        if (!serverAuthenticationRequest.authority) {\r\n            // filter by scope\r\n            for (var i = 0; i < tokenCacheItems.length; i++) {\r\n                var cacheItem = tokenCacheItems[i];\r\n                var cachedScopes = cacheItem.key.scopes.split(\" \");\r\n                if (ScopeSet.containsScope(cachedScopes, scopes)) {\r\n                    filteredItems.push(cacheItem);\r\n                }\r\n            }\r\n            // if only one cached token found\r\n            if (filteredItems.length === 1) {\r\n                accessTokenCacheItem = filteredItems[0];\r\n                serverAuthenticationRequest.authorityInstance = AuthorityFactory.CreateInstance(accessTokenCacheItem.key.authority, this.config.auth.validateAuthority);\r\n            }\r\n            // if more than one cached token is found\r\n            else if (filteredItems.length > 1) {\r\n                throw ClientAuthError.createMultipleMatchingTokensInCacheError(scopes.toString());\r\n            }\r\n            // if no match found, check if there was a single authority used\r\n            else {\r\n                var authorityList = this.getUniqueAuthority(tokenCacheItems, \"authority\");\r\n                if (authorityList.length > 1) {\r\n                    throw ClientAuthError.createMultipleAuthoritiesInCacheError(scopes.toString());\r\n                }\r\n                serverAuthenticationRequest.authorityInstance = AuthorityFactory.CreateInstance(authorityList[0], this.config.auth.validateAuthority);\r\n            }\r\n        }\r\n        // if an authority is passed in the API\r\n        else {\r\n            // filter by authority and scope\r\n            for (var i = 0; i < tokenCacheItems.length; i++) {\r\n                var cacheItem = tokenCacheItems[i];\r\n                var cachedScopes = cacheItem.key.scopes.split(\" \");\r\n                if (ScopeSet.containsScope(cachedScopes, scopes) && UrlUtils.CanonicalizeUri(cacheItem.key.authority) === serverAuthenticationRequest.authority) {\r\n                    filteredItems.push(cacheItem);\r\n                }\r\n            }\r\n            // no match\r\n            if (filteredItems.length === 0) {\r\n                return null;\r\n            }\r\n            // if only one cachedToken Found\r\n            else if (filteredItems.length === 1) {\r\n                accessTokenCacheItem = filteredItems[0];\r\n            }\r\n            else {\r\n                // if more than cached token is found\r\n                throw ClientAuthError.createMultipleMatchingTokensInCacheError(scopes.toString());\r\n            }\r\n        }\r\n        if (accessTokenCacheItem != null) {\r\n            var expired = Number(accessTokenCacheItem.value.expiresIn);\r\n            // If expiration is within offset, it will force renew\r\n            var offset = this.config.system.tokenRenewalOffsetSeconds || 300;\r\n            if (expired && (expired > TimeUtils.now() + offset)) {\r\n                var idTokenObj = new IdToken(accessTokenCacheItem.value.idToken);\r\n                if (!account) {\r\n                    account = this.getAccount();\r\n                    if (!account) {\r\n                        throw AuthError.createUnexpectedError(\"Account should not be null here.\");\r\n                    }\r\n                }\r\n                var aState = this.getAccountState(serverAuthenticationRequest.state);\r\n                var response = {\r\n                    uniqueId: \"\",\r\n                    tenantId: \"\",\r\n                    tokenType: (accessTokenCacheItem.value.idToken === accessTokenCacheItem.value.accessToken) ? Constants.idToken : Constants.accessToken,\r\n                    idToken: idTokenObj,\r\n                    idTokenClaims: idTokenObj.claims,\r\n                    accessToken: accessTokenCacheItem.value.accessToken,\r\n                    scopes: accessTokenCacheItem.key.scopes.split(\" \"),\r\n                    expiresOn: new Date(expired * 1000),\r\n                    account: account,\r\n                    accountState: aState,\r\n                };\r\n                ResponseUtils.setResponseIdToken(response, idTokenObj);\r\n                return response;\r\n            }\r\n            else {\r\n                this.cacheStorage.removeItem(JSON.stringify(filteredItems[0].key));\r\n                return null;\r\n            }\r\n        }\r\n        else {\r\n            return null;\r\n        }\r\n    };\r\n    /**\r\n     * @hidden\r\n     * Used to get a unique list of authoritues from the cache\r\n     * @param {Array<AccessTokenCacheItem>}  accessTokenCacheItems - accessTokenCacheItems saved in the cache\r\n     * @ignore\r\n     */\r\n    UserAgentApplication.prototype.getUniqueAuthority = function (accessTokenCacheItems, property) {\r\n        var authorityList = [];\r\n        var flags = [];\r\n        accessTokenCacheItems.forEach(function (element) {\r\n            if (element.key.hasOwnProperty(property) && (flags.indexOf(element.key[property]) === -1)) {\r\n                flags.push(element.key[property]);\r\n                authorityList.push(element.key[property]);\r\n            }\r\n        });\r\n        return authorityList;\r\n    };\r\n    /**\r\n     * @hidden\r\n     * Check if ADAL id_token exists and return if exists.\r\n     *\r\n     */\r\n    UserAgentApplication.prototype.extractADALIdToken = function () {\r\n        var adalIdToken = this.cacheStorage.getItem(Constants.adalIdToken);\r\n        if (!StringUtils.isEmpty(adalIdToken)) {\r\n            return TokenUtils.extractIdToken(adalIdToken);\r\n        }\r\n        return null;\r\n    };\r\n    /**\r\n     * @hidden\r\n     * Acquires access token using a hidden iframe.\r\n     * @ignore\r\n     */\r\n    UserAgentApplication.prototype.renewToken = function (scopes, resolve, reject, account, serverAuthenticationRequest) {\r\n        var scope = scopes.join(\" \").toLowerCase();\r\n        this.logger.verbose(\"renewToken is called for scope:\" + scope);\r\n        var frameHandle = this.addHiddenIFrame(\"msalRenewFrame\" + scope);\r\n        this.updateCacheEntries(serverAuthenticationRequest, account);\r\n        this.logger.verbose(\"Renew token Expected state: \" + serverAuthenticationRequest.state);\r\n        // Build urlNavigate with \"prompt=none\" and navigate to URL in hidden iFrame\r\n        var urlNavigate = UrlUtils.urlRemoveQueryStringParameter(UrlUtils.createNavigateUrl(serverAuthenticationRequest), Constants.prompt) + Constants.prompt_none;\r\n        window.renewStates.push(serverAuthenticationRequest.state);\r\n        window.requestType = Constants.renewToken;\r\n        this.registerCallback(serverAuthenticationRequest.state, scope, resolve, reject);\r\n        this.logger.infoPii(\"Navigate to:\" + urlNavigate);\r\n        frameHandle.src = \"about:blank\";\r\n        this.loadIframeTimeout(urlNavigate, \"msalRenewFrame\" + scope, scope);\r\n    };\r\n    /**\r\n     * @hidden\r\n     * Renews idtoken for app\"s own backend when clientId is passed as a single scope in the scopes array.\r\n     * @ignore\r\n     */\r\n    UserAgentApplication.prototype.renewIdToken = function (scopes, resolve, reject, account, serverAuthenticationRequest) {\r\n        this.logger.info(\"renewidToken is called\");\r\n        var frameHandle = this.addHiddenIFrame(\"msalIdTokenFrame\");\r\n        this.updateCacheEntries(serverAuthenticationRequest, account);\r\n        this.logger.verbose(\"Renew Idtoken Expected state: \" + serverAuthenticationRequest.state);\r\n        // Build urlNavigate with \"prompt=none\" and navigate to URL in hidden iFrame\r\n        var urlNavigate = UrlUtils.urlRemoveQueryStringParameter(UrlUtils.createNavigateUrl(serverAuthenticationRequest), Constants.prompt) + Constants.prompt_none;\r\n        if (this.silentLogin) {\r\n            window.requestType = Constants.login;\r\n            this.silentAuthenticationState = serverAuthenticationRequest.state;\r\n        }\r\n        else {\r\n            window.requestType = Constants.renewToken;\r\n            window.renewStates.push(serverAuthenticationRequest.state);\r\n        }\r\n        // note: scope here is clientId\r\n        this.registerCallback(serverAuthenticationRequest.state, this.clientId, resolve, reject);\r\n        this.logger.infoPii(\"Navigate to:\" + urlNavigate);\r\n        frameHandle.src = \"about:blank\";\r\n        this.loadIframeTimeout(urlNavigate, \"msalIdTokenFrame\", this.clientId);\r\n    };\r\n    /**\r\n     * @hidden\r\n     *\r\n     * This method must be called for processing the response received from AAD. It extracts the hash, processes the token or error, saves it in the cache and calls the registered callbacks with the result.\r\n     * @param {string} authority authority received in the redirect response from AAD.\r\n     * @param {TokenResponse} requestInfo an object created from the redirect response from AAD comprising of the keys - parameters, requestType, stateMatch, stateResponse and valid.\r\n     * @param {Account} account account object for which scopes are consented for. The default account is the logged in account.\r\n     * @param {ClientInfo} clientInfo clientInfo received as part of the response comprising of fields uid and utid.\r\n     * @param {IdToken} idToken idToken received as part of the response.\r\n     * @ignore\r\n     * @private\r\n     */\r\n    /* tslint:disable:no-string-literal */\r\n    UserAgentApplication.prototype.saveAccessToken = function (response, authority, parameters, clientInfo, idTokenObj) {\r\n        var scope;\r\n        var accessTokenResponse = tslib_1.__assign({}, response);\r\n        var clientObj = new ClientInfo(clientInfo);\r\n        var expiration;\r\n        // if the response contains \"scope\"\r\n        if (parameters.hasOwnProperty(\"scope\")) {\r\n            // read the scopes\r\n            scope = parameters[\"scope\"];\r\n            var consentedScopes = scope.split(\" \");\r\n            // retrieve all access tokens from the cache, remove the dup scores\r\n            var accessTokenCacheItems = this.cacheStorage.getAllAccessTokens(this.clientId, authority);\r\n            for (var i = 0; i < accessTokenCacheItems.length; i++) {\r\n                var accessTokenCacheItem = accessTokenCacheItems[i];\r\n                if (accessTokenCacheItem.key.homeAccountIdentifier === response.account.homeAccountIdentifier) {\r\n                    var cachedScopes = accessTokenCacheItem.key.scopes.split(\" \");\r\n                    if (ScopeSet.isIntersectingScopes(cachedScopes, consentedScopes)) {\r\n                        this.cacheStorage.removeItem(JSON.stringify(accessTokenCacheItem.key));\r\n                    }\r\n                }\r\n            }\r\n            // Generate and cache accessTokenKey and accessTokenValue\r\n            var expiresIn = TimeUtils.parseExpiresIn(parameters[Constants.expiresIn]);\r\n            expiration = TimeUtils.now() + expiresIn;\r\n            var accessTokenKey = new AccessTokenKey(authority, this.clientId, scope, clientObj.uid, clientObj.utid);\r\n            var accessTokenValue = new AccessTokenValue(parameters[Constants.accessToken], idTokenObj.rawIdToken, expiration.toString(), clientInfo);\r\n            this.cacheStorage.setItem(JSON.stringify(accessTokenKey), JSON.stringify(accessTokenValue));\r\n            accessTokenResponse.accessToken = parameters[Constants.accessToken];\r\n            accessTokenResponse.scopes = consentedScopes;\r\n        }\r\n        // if the response does not contain \"scope\" - scope is usually client_id and the token will be id_token\r\n        else {\r\n            scope = this.clientId;\r\n            // Generate and cache accessTokenKey and accessTokenValue\r\n            var accessTokenKey = new AccessTokenKey(authority, this.clientId, scope, clientObj.uid, clientObj.utid);\r\n            expiration = Number(idTokenObj.expiration);\r\n            var accessTokenValue = new AccessTokenValue(parameters[Constants.idToken], parameters[Constants.idToken], expiration.toString(), clientInfo);\r\n            this.cacheStorage.setItem(JSON.stringify(accessTokenKey), JSON.stringify(accessTokenValue));\r\n            accessTokenResponse.scopes = [scope];\r\n            accessTokenResponse.accessToken = parameters[Constants.idToken];\r\n        }\r\n        if (expiration) {\r\n            accessTokenResponse.expiresOn = new Date(expiration * 1000);\r\n        }\r\n        else {\r\n            this.logger.error(\"Could not parse expiresIn parameter\");\r\n        }\r\n        return accessTokenResponse;\r\n    };\r\n    /**\r\n     * @hidden\r\n     * Saves token or error received in the response from AAD in the cache. In case of id_token, it also creates the account object.\r\n     * @ignore\r\n     */\r\n    UserAgentApplication.prototype.saveTokenFromHash = function (hash, stateInfo) {\r\n        this.logger.info(\"State status:\" + stateInfo.stateMatch + \"; Request type:\" + stateInfo.requestType);\r\n        this.cacheStorage.setItem(Constants.msalError, \"\");\r\n        this.cacheStorage.setItem(Constants.msalErrorDescription, \"\");\r\n        var response = {\r\n            uniqueId: \"\",\r\n            tenantId: \"\",\r\n            tokenType: \"\",\r\n            idToken: null,\r\n            idTokenClaims: null,\r\n            accessToken: null,\r\n            scopes: [],\r\n            expiresOn: null,\r\n            account: null,\r\n            accountState: \"\",\r\n        };\r\n        var error;\r\n        var hashParams = this.deserializeHash(hash);\r\n        var authorityKey = \"\";\r\n        var acquireTokenAccountKey = \"\";\r\n        var idTokenObj = null;\r\n        // If server returns an error\r\n        if (hashParams.hasOwnProperty(Constants.errorDescription) || hashParams.hasOwnProperty(Constants.error)) {\r\n            this.logger.infoPii(\"Error :\" + hashParams[Constants.error] + \"; Error description:\" + hashParams[Constants.errorDescription]);\r\n            this.cacheStorage.setItem(Constants.msalError, hashParams[Constants.error]);\r\n            this.cacheStorage.setItem(Constants.msalErrorDescription, hashParams[Constants.errorDescription]);\r\n            // login\r\n            if (stateInfo.requestType === Constants.login) {\r\n                this.loginInProgress = false;\r\n                this.cacheStorage.setItem(Constants.loginError, hashParams[Constants.errorDescription] + \":\" + hashParams[Constants.error]);\r\n                authorityKey = Storage.generateAuthorityKey(stateInfo.state);\r\n            }\r\n            // acquireToken\r\n            if (stateInfo.requestType === Constants.renewToken) {\r\n                this.acquireTokenInProgress = false;\r\n                authorityKey = Storage.generateAuthorityKey(stateInfo.state);\r\n                var account = this.getAccount();\r\n                var accountId = void 0;\r\n                if (account && !StringUtils.isEmpty(account.homeAccountIdentifier)) {\r\n                    accountId = account.homeAccountIdentifier;\r\n                }\r\n                else {\r\n                    accountId = Constants.no_account;\r\n                }\r\n                acquireTokenAccountKey = Storage.generateAcquireTokenAccountKey(accountId, stateInfo.state);\r\n            }\r\n            var _a = Constants.error, hashErr = hashParams[_a], _b = Constants.errorDescription, hashErrDesc = hashParams[_b];\r\n            if (InteractionRequiredAuthError.isInteractionRequiredError(hashErr) ||\r\n                InteractionRequiredAuthError.isInteractionRequiredError(hashErrDesc)) {\r\n                error = new InteractionRequiredAuthError(hashParams[Constants.error], hashParams[Constants.errorDescription]);\r\n            }\r\n            else {\r\n                error = new ServerError(hashParams[Constants.error], hashParams[Constants.errorDescription]);\r\n            }\r\n        }\r\n        // If the server returns \"Success\"\r\n        else {\r\n            // Verify the state from redirect and record tokens to storage if exists\r\n            if (stateInfo.stateMatch) {\r\n                this.logger.info(\"State is right\");\r\n                if (hashParams.hasOwnProperty(Constants.sessionState)) {\r\n                    this.cacheStorage.setItem(Constants.msalSessionState, hashParams[Constants.sessionState]);\r\n                }\r\n                response.accountState = this.getAccountState(stateInfo.state);\r\n                var clientInfo = \"\";\r\n                // Process access_token\r\n                if (hashParams.hasOwnProperty(Constants.accessToken)) {\r\n                    this.logger.info(\"Fragment has access token\");\r\n                    this.acquireTokenInProgress = false;\r\n                    // retrieve the id_token from response if present\r\n                    if (hashParams.hasOwnProperty(Constants.idToken)) {\r\n                        idTokenObj = new IdToken(hashParams[Constants.idToken]);\r\n                        response.idToken = idTokenObj;\r\n                        response.idTokenClaims = idTokenObj.claims;\r\n                    }\r\n                    else {\r\n                        idTokenObj = new IdToken(this.cacheStorage.getItem(Constants.idTokenKey));\r\n                        response = ResponseUtils.setResponseIdToken(response, idTokenObj);\r\n                    }\r\n                    // retrieve the authority from cache and replace with tenantID\r\n                    var authorityKey_1 = Storage.generateAuthorityKey(stateInfo.state);\r\n                    var authority = this.cacheStorage.getItem(authorityKey_1, this.inCookie);\r\n                    if (!StringUtils.isEmpty(authority)) {\r\n                        authority = UrlUtils.replaceTenantPath(authority, response.tenantId);\r\n                    }\r\n                    // retrieve client_info - if it is not found, generate the uid and utid from idToken\r\n                    if (hashParams.hasOwnProperty(Constants.clientInfo)) {\r\n                        clientInfo = hashParams[Constants.clientInfo];\r\n                    }\r\n                    else {\r\n                        this.logger.warning(\"ClientInfo not received in the response from AAD\");\r\n                        throw ClientAuthError.createClientInfoNotPopulatedError(\"ClientInfo not received in the response from the server\");\r\n                    }\r\n                    response.account = Account.createAccount(idTokenObj, new ClientInfo(clientInfo));\r\n                    var accountKey = void 0;\r\n                    if (response.account && !StringUtils.isEmpty(response.account.homeAccountIdentifier)) {\r\n                        accountKey = response.account.homeAccountIdentifier;\r\n                    }\r\n                    else {\r\n                        accountKey = Constants.no_account;\r\n                    }\r\n                    acquireTokenAccountKey = Storage.generateAcquireTokenAccountKey(accountKey, stateInfo.state);\r\n                    var acquireTokenAccountKey_noaccount = Storage.generateAcquireTokenAccountKey(Constants.no_account, stateInfo.state);\r\n                    var cachedAccount = this.cacheStorage.getItem(acquireTokenAccountKey);\r\n                    var acquireTokenAccount = void 0;\r\n                    // Check with the account in the Cache\r\n                    if (!StringUtils.isEmpty(cachedAccount)) {\r\n                        acquireTokenAccount = JSON.parse(cachedAccount);\r\n                        if (response.account && acquireTokenAccount && Account.compareAccounts(response.account, acquireTokenAccount)) {\r\n                            response = this.saveAccessToken(response, authority, hashParams, clientInfo, idTokenObj);\r\n                            this.logger.info(\"The user object received in the response is the same as the one passed in the acquireToken request\");\r\n                        }\r\n                        else {\r\n                            this.logger.warning(\"The account object created from the response is not the same as the one passed in the acquireToken request\");\r\n                        }\r\n                    }\r\n                    else if (!StringUtils.isEmpty(this.cacheStorage.getItem(acquireTokenAccountKey_noaccount))) {\r\n                        response = this.saveAccessToken(response, authority, hashParams, clientInfo, idTokenObj);\r\n                    }\r\n                }\r\n                // Process id_token\r\n                if (hashParams.hasOwnProperty(Constants.idToken)) {\r\n                    this.logger.info(\"Fragment has id token\");\r\n                    // login no longer in progress\r\n                    this.loginInProgress = false;\r\n                    // set the idToken\r\n                    idTokenObj = new IdToken(hashParams[Constants.idToken]);\r\n                    response = ResponseUtils.setResponseIdToken(response, idTokenObj);\r\n                    if (hashParams.hasOwnProperty(Constants.clientInfo)) {\r\n                        clientInfo = hashParams[Constants.clientInfo];\r\n                    }\r\n                    else {\r\n                        this.logger.warning(\"ClientInfo not received in the response from AAD\");\r\n                    }\r\n                    authorityKey = Storage.generateAuthorityKey(stateInfo.state);\r\n                    var authority = this.cacheStorage.getItem(authorityKey, this.inCookie);\r\n                    if (!StringUtils.isEmpty(authority)) {\r\n                        authority = UrlUtils.replaceTenantPath(authority, idTokenObj.tenantId);\r\n                    }\r\n                    this.account = Account.createAccount(idTokenObj, new ClientInfo(clientInfo));\r\n                    response.account = this.account;\r\n                    if (idTokenObj && idTokenObj.nonce) {\r\n                        // check nonce integrity if idToken has nonce - throw an error if not matched\r\n                        if (idTokenObj.nonce !== this.cacheStorage.getItem(Constants.nonceIdToken, this.inCookie)) {\r\n                            this.account = null;\r\n                            this.cacheStorage.setItem(Constants.loginError, \"Nonce Mismatch. Expected Nonce: \" + this.cacheStorage.getItem(Constants.nonceIdToken, this.inCookie) + \",\" + \"Actual Nonce: \" + idTokenObj.nonce);\r\n                            this.logger.error(\"Nonce Mismatch.Expected Nonce: \" + this.cacheStorage.getItem(Constants.nonceIdToken, this.inCookie) + \",\" + \"Actual Nonce: \" + idTokenObj.nonce);\r\n                            error = ClientAuthError.createNonceMismatchError(this.cacheStorage.getItem(Constants.nonceIdToken, this.inCookie), idTokenObj.nonce);\r\n                        }\r\n                        // Save the token\r\n                        else {\r\n                            this.cacheStorage.setItem(Constants.idTokenKey, hashParams[Constants.idToken]);\r\n                            this.cacheStorage.setItem(Constants.msalClientInfo, clientInfo);\r\n                            // Save idToken as access token for app itself\r\n                            this.saveAccessToken(response, authority, hashParams, clientInfo, idTokenObj);\r\n                        }\r\n                    }\r\n                    else {\r\n                        authorityKey = stateInfo.state;\r\n                        acquireTokenAccountKey = stateInfo.state;\r\n                        this.logger.error(\"Invalid id_token received in the response\");\r\n                        error = ClientAuthError.createInvalidIdTokenError(idTokenObj);\r\n                        this.cacheStorage.setItem(Constants.msalError, error.errorCode);\r\n                        this.cacheStorage.setItem(Constants.msalErrorDescription, error.errorMessage);\r\n                    }\r\n                }\r\n            }\r\n            // State mismatch - unexpected/invalid state\r\n            else {\r\n                authorityKey = stateInfo.state;\r\n                acquireTokenAccountKey = stateInfo.state;\r\n                var expectedState = this.cacheStorage.getItem(Constants.stateLogin, this.inCookie);\r\n                this.logger.error(\"State Mismatch.Expected State: \" + expectedState + \",\" + \"Actual State: \" + stateInfo.state);\r\n                error = ClientAuthError.createInvalidStateError(stateInfo.state, expectedState);\r\n                this.cacheStorage.setItem(Constants.msalError, error.errorCode);\r\n                this.cacheStorage.setItem(Constants.msalErrorDescription, error.errorMessage);\r\n            }\r\n        }\r\n        this.cacheStorage.setItem(Constants.renewStatus + stateInfo.state, Constants.tokenRenewStatusCompleted);\r\n        this.cacheStorage.removeAcquireTokenEntries(stateInfo.state);\r\n        // this is required if navigateToLoginRequestUrl=false\r\n        if (this.inCookie) {\r\n            this.cacheStorage.setItemCookie(authorityKey, \"\", -1);\r\n            this.cacheStorage.clearCookie();\r\n        }\r\n        if (error) {\r\n            throw error;\r\n        }\r\n        if (!response) {\r\n            throw AuthError.createUnexpectedError(\"Response is null\");\r\n        }\r\n        return response;\r\n    };\r\n    /* tslint:enable:no-string-literal */\r\n    //#endregion\r\n    //#region Account\r\n    /**\r\n     * Returns the signed in account\r\n     * (the account object is created at the time of successful login)\r\n     * or null when no state is found\r\n     * @returns {@link Account} - the account object stored in MSAL\r\n     */\r\n    UserAgentApplication.prototype.getAccount = function () {\r\n        // if a session already exists, get the account from the session\r\n        if (this.account) {\r\n            return this.account;\r\n        }\r\n        // frame is used to get idToken and populate the account for the given session\r\n        var rawIdToken = this.cacheStorage.getItem(Constants.idTokenKey);\r\n        var rawClientInfo = this.cacheStorage.getItem(Constants.msalClientInfo);\r\n        if (!StringUtils.isEmpty(rawIdToken) && !StringUtils.isEmpty(rawClientInfo)) {\r\n            var idToken = new IdToken(rawIdToken);\r\n            var clientInfo = new ClientInfo(rawClientInfo);\r\n            this.account = Account.createAccount(idToken, clientInfo);\r\n            return this.account;\r\n        }\r\n        // if login not yet done, return null\r\n        return null;\r\n    };\r\n    /**\r\n     * @hidden\r\n     *\r\n     * Extracts state value from the accountState sent with the authentication request.\r\n     * @returns {string} scope.\r\n     * @ignore\r\n     */\r\n    UserAgentApplication.prototype.getAccountState = function (state) {\r\n        if (state) {\r\n            var splitIndex = state.indexOf(\"|\");\r\n            if (splitIndex > -1 && splitIndex + 1 < state.length) {\r\n                return state.substring(splitIndex + 1);\r\n            }\r\n        }\r\n        return state;\r\n    };\r\n    /**\r\n     * Use to get a list of unique accounts in MSAL cache based on homeAccountIdentifier.\r\n     *\r\n     * @param {@link Array<Account>} Account - all unique accounts in MSAL cache.\r\n     */\r\n    UserAgentApplication.prototype.getAllAccounts = function () {\r\n        var accounts = [];\r\n        var accessTokenCacheItems = this.cacheStorage.getAllAccessTokens(Constants.clientId, Constants.homeAccountIdentifier);\r\n        for (var i = 0; i < accessTokenCacheItems.length; i++) {\r\n            var idToken = new IdToken(accessTokenCacheItems[i].value.idToken);\r\n            var clientInfo = new ClientInfo(accessTokenCacheItems[i].value.homeAccountIdentifier);\r\n            var account = Account.createAccount(idToken, clientInfo);\r\n            accounts.push(account);\r\n        }\r\n        return this.getUniqueAccounts(accounts);\r\n    };\r\n    /**\r\n     * @hidden\r\n     *\r\n     * Used to filter accounts based on homeAccountIdentifier\r\n     * @param {Array<Account>}  Accounts - accounts saved in the cache\r\n     * @ignore\r\n     */\r\n    UserAgentApplication.prototype.getUniqueAccounts = function (accounts) {\r\n        if (!accounts || accounts.length <= 1) {\r\n            return accounts;\r\n        }\r\n        var flags = [];\r\n        var uniqueAccounts = [];\r\n        for (var index = 0; index < accounts.length; ++index) {\r\n            if (accounts[index].homeAccountIdentifier && flags.indexOf(accounts[index].homeAccountIdentifier) === -1) {\r\n                flags.push(accounts[index].homeAccountIdentifier);\r\n                uniqueAccounts.push(accounts[index]);\r\n            }\r\n        }\r\n        return uniqueAccounts;\r\n    };\r\n    //#endregion\r\n    //#region Scopes (Extract to Scopes.ts)\r\n    // Note: \"this\" dependency in this section is minimal.\r\n    // If pCacheStorage is separated from the class object, or passed as a fn param, scopesUtils.ts can be created\r\n    /**\r\n     * @hidden\r\n     *\r\n     * Used to validate the scopes input parameter requested  by the developer.\r\n     * @param {Array<string>} scopes - Developer requested permissions. Not all scopes are guaranteed to be included in the access token returned.\r\n     * @param {boolean} scopesRequired - Boolean indicating whether the scopes array is required or not\r\n     * @ignore\r\n     */\r\n    UserAgentApplication.prototype.validateInputScope = function (scopes, scopesRequired) {\r\n        if (!scopes) {\r\n            if (scopesRequired) {\r\n                throw ClientConfigurationError.createScopesRequiredError(scopes);\r\n            }\r\n            else {\r\n                return;\r\n            }\r\n        }\r\n        // Check that scopes is an array object (also throws error if scopes == null)\r\n        if (!Array.isArray(scopes)) {\r\n            throw ClientConfigurationError.createScopesNonArrayError(scopes);\r\n        }\r\n        // Check that scopes is not an empty array\r\n        if (scopes.length < 1) {\r\n            throw ClientConfigurationError.createEmptyScopesArrayError(scopes.toString());\r\n        }\r\n        // Check that clientId is passed as single scope\r\n        if (scopes.indexOf(this.clientId) > -1) {\r\n            if (scopes.length > 1) {\r\n                throw ClientConfigurationError.createClientIdSingleScopeError(scopes.toString());\r\n            }\r\n        }\r\n    };\r\n    /**\r\n     * @hidden\r\n     *\r\n     * Extracts scope value from the state sent with the authentication request.\r\n     * @param {string} state\r\n     * @returns {string} scope.\r\n     * @ignore\r\n     */\r\n    UserAgentApplication.prototype.getScopeFromState = function (state) {\r\n        if (state) {\r\n            var splitIndex = state.indexOf(\"|\");\r\n            if (splitIndex > -1 && splitIndex + 1 < state.length) {\r\n                return state.substring(splitIndex + 1);\r\n            }\r\n        }\r\n        return \"\";\r\n    };\r\n    /**\r\n     * @ignore\r\n     * Appends extraScopesToConsent if passed\r\n     * @param {@link AuthenticationParameters}\r\n     */\r\n    UserAgentApplication.prototype.appendScopes = function (request) {\r\n        var scopes;\r\n        if (request && request.scopes) {\r\n            if (request.extraScopesToConsent) {\r\n                scopes = request.scopes.concat(request.extraScopesToConsent);\r\n            }\r\n            else {\r\n                scopes = request.scopes;\r\n            }\r\n        }\r\n        return scopes;\r\n    };\r\n    //#endregion\r\n    //#region Angular\r\n    /**\r\n     * @hidden\r\n     *\r\n     * Broadcast messages - Used only for Angular?  *\r\n     * @param eventName\r\n     * @param data\r\n     */\r\n    UserAgentApplication.prototype.broadcast = function (eventName, data) {\r\n        var evt = new CustomEvent(eventName, { detail: data });\r\n        window.dispatchEvent(evt);\r\n    };\r\n    /**\r\n     * @hidden\r\n     *\r\n     * Helper function to retrieve the cached token\r\n     *\r\n     * @param scopes\r\n     * @param {@link Account} account\r\n     * @param state\r\n     * @return {@link AuthResponse} AuthResponse\r\n     */\r\n    UserAgentApplication.prototype.getCachedTokenInternal = function (scopes, account, state) {\r\n        // Get the current session's account object\r\n        var accountObject = account || this.getAccount();\r\n        if (!accountObject) {\r\n            return null;\r\n        }\r\n        // Construct AuthenticationRequest based on response type\r\n        var newAuthority = this.authorityInstance ? this.authorityInstance : AuthorityFactory.CreateInstance(this.authority, this.config.auth.validateAuthority);\r\n        var responseType = this.getTokenType(accountObject, scopes, true);\r\n        var serverAuthenticationRequest = new ServerRequestParameters(newAuthority, this.clientId, scopes, responseType, this.getRedirectUri(), state);\r\n        // get cached token\r\n        return this.getCachedToken(serverAuthenticationRequest, account);\r\n    };\r\n    /**\r\n     * @hidden\r\n     *\r\n     * Get scopes for the Endpoint - Used in Angular to track protected and unprotected resources without interaction from the developer app\r\n     *\r\n     * @param endpoint\r\n     */\r\n    UserAgentApplication.prototype.getScopesForEndpoint = function (endpoint) {\r\n        // if user specified list of unprotectedResources, no need to send token to these endpoints, return null.\r\n        if (this.config.framework.unprotectedResources.length > 0) {\r\n            for (var i = 0; i < this.config.framework.unprotectedResources.length; i++) {\r\n                if (endpoint.indexOf(this.config.framework.unprotectedResources[i]) > -1) {\r\n                    return null;\r\n                }\r\n            }\r\n        }\r\n        // process all protected resources and send the matched one\r\n        if (this.config.framework.protectedResourceMap.size > 0) {\r\n            for (var _i = 0, _a = Array.from(this.config.framework.protectedResourceMap.keys()); _i < _a.length; _i++) {\r\n                var key = _a[_i];\r\n                // configEndpoint is like /api/Todo requested endpoint can be /api/Todo/1\r\n                if (endpoint.indexOf(key) > -1) {\r\n                    return this.config.framework.protectedResourceMap.get(key);\r\n                }\r\n            }\r\n        }\r\n        // default resource will be clientid if nothing specified\r\n        // App will use idtoken for calls to itself\r\n        // check if it's staring from http or https, needs to match with app host\r\n        if (endpoint.indexOf(\"http://\") > -1 || endpoint.indexOf(\"https://\") > -1) {\r\n            if (this.getHostFromUri(endpoint) === this.getHostFromUri(this.getRedirectUri())) {\r\n                return new Array(this.clientId);\r\n            }\r\n        }\r\n        else {\r\n            // in angular level, the url for $http interceptor call could be relative url,\r\n            // if it's relative call, we'll treat it as app backend call.\r\n            return new Array(this.clientId);\r\n        }\r\n        // if not the app's own backend or not a domain listed in the endpoints structure\r\n        return null;\r\n    };\r\n    /**\r\n     * Return boolean flag to developer to help inform if login is in progress\r\n     * @returns {boolean} true/false\r\n     */\r\n    UserAgentApplication.prototype.getLoginInProgress = function () {\r\n        var pendingCallback = this.cacheStorage.getItem(Constants.urlHash);\r\n        if (pendingCallback) {\r\n            return true;\r\n        }\r\n        return this.loginInProgress;\r\n    };\r\n    /**\r\n     * @hidden\r\n     * @ignore\r\n     *\r\n     * @param loginInProgress\r\n     */\r\n    UserAgentApplication.prototype.setloginInProgress = function (loginInProgress) {\r\n        this.loginInProgress = loginInProgress;\r\n    };\r\n    /**\r\n     * @hidden\r\n     * @ignore\r\n     *\r\n     * returns the status of acquireTokenInProgress\r\n     */\r\n    UserAgentApplication.prototype.getAcquireTokenInProgress = function () {\r\n        return this.acquireTokenInProgress;\r\n    };\r\n    /**\r\n     * @hidden\r\n     * @ignore\r\n     *\r\n     * @param acquireTokenInProgress\r\n     */\r\n    UserAgentApplication.prototype.setAcquireTokenInProgress = function (acquireTokenInProgress) {\r\n        this.acquireTokenInProgress = acquireTokenInProgress;\r\n    };\r\n    /**\r\n     * @hidden\r\n     * @ignore\r\n     *\r\n     * returns the logger handle\r\n     */\r\n    UserAgentApplication.prototype.getLogger = function () {\r\n        return this.config.system.logger;\r\n    };\r\n    //#endregion\r\n    //#region Getters and Setters\r\n    /**\r\n     *\r\n     * Use to get the redirect uri configured in MSAL or null.\r\n     * Evaluates redirectUri if its a function, otherwise simply returns its value.\r\n     * @returns {string} redirect URL\r\n     *\r\n     */\r\n    UserAgentApplication.prototype.getRedirectUri = function () {\r\n        if (typeof this.config.auth.redirectUri === \"function\") {\r\n            return this.config.auth.redirectUri();\r\n        }\r\n        return this.config.auth.redirectUri;\r\n    };\r\n    /**\r\n     * Use to get the post logout redirect uri configured in MSAL or null.\r\n     * Evaluates postLogoutredirectUri if its a function, otherwise simply returns its value.\r\n     *\r\n     * @returns {string} post logout redirect URL\r\n     */\r\n    UserAgentApplication.prototype.getPostLogoutRedirectUri = function () {\r\n        if (typeof this.config.auth.postLogoutRedirectUri === \"function\") {\r\n            return this.config.auth.postLogoutRedirectUri();\r\n        }\r\n        return this.config.auth.postLogoutRedirectUri;\r\n    };\r\n    /**\r\n     * Use to get the current {@link Configuration} object in MSAL\r\n     *\r\n     * @returns {@link Configuration}\r\n     */\r\n    UserAgentApplication.prototype.getCurrentConfiguration = function () {\r\n        if (!this.config) {\r\n            throw ClientConfigurationError.createNoSetConfigurationError();\r\n        }\r\n        return this.config;\r\n    };\r\n    //#endregion\r\n    //#region String Util (Should be extracted to Utils.ts)\r\n    /**\r\n     * @hidden\r\n     * @ignore\r\n     *\r\n     * extract URI from the host\r\n     *\r\n     * @param {string} URI\r\n     * @returns {string} host from the URI\r\n     */\r\n    UserAgentApplication.prototype.getHostFromUri = function (uri) {\r\n        // remove http:// or https:// from uri\r\n        var extractedUri = String(uri).replace(/^(https?:)\\/\\//, \"\");\r\n        extractedUri = extractedUri.split(\"/\")[0];\r\n        return extractedUri;\r\n    };\r\n    /**\r\n     * @hidden\r\n     * @ignore\r\n     *\r\n     * Utils function to create the Authentication\r\n     * @param {@link account} account object\r\n     * @param scopes\r\n     * @param silentCall\r\n     *\r\n     * @returns {string} token type: id_token or access_token\r\n     *\r\n     */\r\n    UserAgentApplication.prototype.getTokenType = function (accountObject, scopes, silentCall) {\r\n        // if account is passed and matches the account object/or set to getAccount() from cache\r\n        // if client-id is passed as scope, get id_token else token/id_token_token (in case no session exists)\r\n        var tokenType;\r\n        // acquireTokenSilent\r\n        if (silentCall) {\r\n            if (Account.compareAccounts(accountObject, this.getAccount())) {\r\n                tokenType = (scopes.indexOf(this.config.auth.clientId) > -1) ? ResponseTypes.id_token : ResponseTypes.token;\r\n            }\r\n            else {\r\n                tokenType = (scopes.indexOf(this.config.auth.clientId) > -1) ? ResponseTypes.id_token : ResponseTypes.id_token_token;\r\n            }\r\n            return tokenType;\r\n        }\r\n        // all other cases\r\n        else {\r\n            if (!Account.compareAccounts(accountObject, this.getAccount())) {\r\n                tokenType = ResponseTypes.id_token_token;\r\n            }\r\n            else {\r\n                tokenType = (scopes.indexOf(this.clientId) > -1) ? ResponseTypes.id_token : ResponseTypes.token;\r\n            }\r\n            return tokenType;\r\n        }\r\n    };\r\n    /**\r\n     * @hidden\r\n     * @ignore\r\n     *\r\n     * Sets the cachekeys for and stores the account information in cache\r\n     * @param account\r\n     * @param state\r\n     * @hidden\r\n     */\r\n    UserAgentApplication.prototype.setAccountCache = function (account, state) {\r\n        // Cache acquireTokenAccountKey\r\n        var accountId = account ? this.getAccountId(account) : Constants.no_account;\r\n        var acquireTokenAccountKey = Storage.generateAcquireTokenAccountKey(accountId, state);\r\n        this.cacheStorage.setItem(acquireTokenAccountKey, JSON.stringify(account));\r\n    };\r\n    /**\r\n     * @hidden\r\n     * @ignore\r\n     *\r\n     * Sets the cacheKey for and stores the authority information in cache\r\n     * @param state\r\n     * @param authority\r\n     * @hidden\r\n     */\r\n    UserAgentApplication.prototype.setAuthorityCache = function (state, authority) {\r\n        // Cache authorityKey\r\n        var authorityKey = Storage.generateAuthorityKey(state);\r\n        this.cacheStorage.setItem(authorityKey, UrlUtils.CanonicalizeUri(authority), this.inCookie);\r\n    };\r\n    /**\r\n     * Updates account, authority, and nonce in cache\r\n     * @param serverAuthenticationRequest\r\n     * @param account\r\n     * @hidden\r\n     * @ignore\r\n     */\r\n    UserAgentApplication.prototype.updateCacheEntries = function (serverAuthenticationRequest, account, loginStartPage) {\r\n        // Cache account and authority\r\n        if (loginStartPage) {\r\n            // Cache the state, nonce, and login request data\r\n            this.cacheStorage.setItem(Constants.loginRequest, loginStartPage, this.inCookie);\r\n            this.cacheStorage.setItem(Constants.loginError, \"\");\r\n            this.cacheStorage.setItem(Constants.stateLogin, serverAuthenticationRequest.state, this.inCookie);\r\n            this.cacheStorage.setItem(Constants.msalError, \"\");\r\n            this.cacheStorage.setItem(Constants.msalErrorDescription, \"\");\r\n        }\r\n        else {\r\n            this.setAccountCache(account, serverAuthenticationRequest.state);\r\n        }\r\n        // Cache authorityKey\r\n        this.setAuthorityCache(serverAuthenticationRequest.state, serverAuthenticationRequest.authority);\r\n        // Cache nonce\r\n        this.cacheStorage.setItem(Constants.nonceIdToken, serverAuthenticationRequest.nonce, this.inCookie);\r\n    };\r\n    /**\r\n     * Returns the unique identifier for the logged in account\r\n     * @param account\r\n     * @hidden\r\n     * @ignore\r\n     */\r\n    UserAgentApplication.prototype.getAccountId = function (account) {\r\n        //return `${account.accountIdentifier}` + Constants.resourceDelimiter + `${account.homeAccountIdentifier}`;\r\n        var accountId;\r\n        if (!StringUtils.isEmpty(account.homeAccountIdentifier)) {\r\n            accountId = account.homeAccountIdentifier;\r\n        }\r\n        else {\r\n            accountId = Constants.no_account;\r\n        }\r\n        return accountId;\r\n    };\r\n    /**\r\n     * @hidden\r\n     * @ignore\r\n     *\r\n     * Construct 'tokenRequest' from the available data in adalIdToken\r\n     * @param extraQueryParameters\r\n     * @hidden\r\n     */\r\n    UserAgentApplication.prototype.buildIDTokenRequest = function (request) {\r\n        var tokenRequest = {\r\n            scopes: [this.clientId],\r\n            authority: this.authority,\r\n            account: this.getAccount(),\r\n            extraQueryParameters: request.extraQueryParameters\r\n        };\r\n        return tokenRequest;\r\n    };\r\n    //#endregion\r\n    UserAgentApplication.prototype.getTelemetryManagerFromConfig = function (config, clientId) {\r\n        if (!config) { // if unset\r\n            return null;\r\n        }\r\n        // if set then validate\r\n        var applicationName = config.applicationName, applicationVersion = config.applicationVersion, telemetryEmitter = config.telemetryEmitter;\r\n        if (!applicationName || !applicationVersion || !telemetryEmitter) {\r\n            throw ClientConfigurationError.createTelemetryConfigError(config);\r\n        }\r\n        // if valid then construct\r\n        var telemetryPlatform = {\r\n            sdk: \"msal.js\",\r\n            sdkVersion: libraryVersion(),\r\n            applicationName: applicationName,\r\n            applicationVersion: applicationVersion\r\n        };\r\n        var telemetryManagerConfig = {\r\n            platform: telemetryPlatform,\r\n            clientId: clientId\r\n        };\r\n        return new TelemetryManager(telemetryManagerConfig, telemetryEmitter);\r\n    };\r\n    tslib_1.__decorate([\r\n        resolveTokenOnlyIfOutOfIframe\r\n    ], UserAgentApplication.prototype, \"acquireTokenSilent\", null);\r\n    return UserAgentApplication;\r\n}());\r\nexport { UserAgentApplication };\r\n//# sourceMappingURL=UserAgentApplication.js.map","/**\r\n * -------------------------------------------------------------------------------------------\r\n * Copyright (c) Microsoft Corporation.  All Rights Reserved.  Licensed under the MIT License.\r\n * See License in the project root for license information.\r\n * -------------------------------------------------------------------------------------------\r\n */\r\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nimport { Graph } from '../Graph';\r\nimport { IProvider, LoginType, ProviderState } from './IProvider';\r\nimport { UserAgentApplication } from 'msal';\r\nexport class MsalProvider extends IProvider {\r\n    constructor(config) {\r\n        super();\r\n        // session storage\r\n        this.ss_requested_scopes_key = 'mgt-requested-scopes';\r\n        this.ss_denied_scopes_key = 'mgt-denied-scopes';\r\n        this.initProvider(config);\r\n    }\r\n    get provider() {\r\n        return this._userAgentApplication;\r\n    }\r\n    trySilentSignIn() {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            if (this._userAgentApplication.isCallback(window.location.hash)) {\r\n                return;\r\n            }\r\n            if (this._userAgentApplication.getAccount() && (yield this.getAccessToken(null))) {\r\n                this.setState(ProviderState.SignedIn);\r\n            }\r\n            else {\r\n                this.setState(ProviderState.SignedOut);\r\n            }\r\n        });\r\n    }\r\n    login(authenticationParameters) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            const loginRequest = authenticationParameters || {\r\n                loginHint: this._loginHint,\r\n                prompt: 'select_account',\r\n                scopes: this.scopes\r\n            };\r\n            if (this._loginType === LoginType.Popup) {\r\n                const response = yield this._userAgentApplication.loginPopup(loginRequest);\r\n                this.setState(response.account ? ProviderState.SignedIn : ProviderState.SignedOut);\r\n            }\r\n            else {\r\n                this._userAgentApplication.loginRedirect(loginRequest);\r\n            }\r\n        });\r\n    }\r\n    logout() {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            this._userAgentApplication.logout();\r\n            this.setState(ProviderState.SignedOut);\r\n        });\r\n    }\r\n    getAccessToken(options) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            const scopes = options ? options.scopes || this.scopes : this.scopes;\r\n            const accessTokenRequest = {\r\n                loginHint: this._loginHint,\r\n                scopes\r\n            };\r\n            try {\r\n                const response = yield this._userAgentApplication.acquireTokenSilent(accessTokenRequest);\r\n                return response.accessToken;\r\n            }\r\n            catch (e) {\r\n                if (this.requiresInteraction(e)) {\r\n                    if (this._loginType === LoginType.Redirect) {\r\n                        // check if the user denied the scope before\r\n                        if (!this.areScopesDenied(scopes)) {\r\n                            this.setRequestedScopes(scopes);\r\n                            this._userAgentApplication.acquireTokenRedirect(accessTokenRequest);\r\n                        }\r\n                        else {\r\n                            throw e;\r\n                        }\r\n                    }\r\n                    else {\r\n                        try {\r\n                            const response = yield this._userAgentApplication.acquireTokenPopup(accessTokenRequest);\r\n                            return response.accessToken;\r\n                        }\r\n                        catch (e) {\r\n                            throw e;\r\n                        }\r\n                    }\r\n                }\r\n                else {\r\n                    // if we don't know what the error is, just ask the user to sign in again\r\n                    this.setState(ProviderState.SignedOut);\r\n                    throw e;\r\n                }\r\n            }\r\n            throw null;\r\n        });\r\n    }\r\n    updateScopes(scopes) {\r\n        this.scopes = scopes;\r\n    }\r\n    initProvider(config) {\r\n        this.scopes = typeof config.scopes !== 'undefined' ? config.scopes : ['user.read'];\r\n        this._loginType = typeof config.loginType !== 'undefined' ? config.loginType : LoginType.Redirect;\r\n        this._loginHint = config.loginHint;\r\n        const tokenReceivedCallbackFunction = ((response) => {\r\n            this.tokenReceivedCallback(response);\r\n        }).bind(this);\r\n        const errorReceivedCallbackFunction = ((authError, accountState) => {\r\n            this.errorReceivedCallback(authError, status);\r\n        }).bind(this);\r\n        if (config.clientId) {\r\n            const msalConfig = config.options || { auth: { clientId: config.clientId } };\r\n            msalConfig.auth.clientId = config.clientId;\r\n            msalConfig.cache = msalConfig.cache || {};\r\n            msalConfig.cache.cacheLocation = msalConfig.cache.cacheLocation || 'localStorage';\r\n            msalConfig.cache.storeAuthStateInCookie = msalConfig.cache.storeAuthStateInCookie || true;\r\n            if (config.authority) {\r\n                msalConfig.auth.authority = config.authority;\r\n            }\r\n            this.clientId = config.clientId;\r\n            this._userAgentApplication = new UserAgentApplication(msalConfig);\r\n            this._userAgentApplication.handleRedirectCallback(tokenReceivedCallbackFunction, errorReceivedCallbackFunction);\r\n        }\r\n        else {\r\n            throw new Error('clientId must be provided');\r\n        }\r\n        this.graph = new Graph(this);\r\n        this.trySilentSignIn();\r\n    }\r\n    requiresInteraction(error) {\r\n        if (!error || !error.errorCode) {\r\n            return false;\r\n        }\r\n        return (error.errorCode.indexOf('consent_required') !== -1 ||\r\n            error.errorCode.indexOf('interaction_required') !== -1 ||\r\n            error.errorCode.indexOf('login_required') !== -1);\r\n    }\r\n    tokenReceivedCallback(response) {\r\n        if (response.tokenType === 'id_token') {\r\n            this.setState(ProviderState.SignedIn);\r\n        }\r\n        this.clearRequestedScopes();\r\n    }\r\n    errorReceivedCallback(authError, accountState) {\r\n        const requestedScopes = this.getRequestedScopes();\r\n        if (requestedScopes) {\r\n            this.addDeniedScopes(requestedScopes);\r\n        }\r\n        this.clearRequestedScopes();\r\n    }\r\n    setRequestedScopes(scopes) {\r\n        if (scopes) {\r\n            sessionStorage.setItem(this.ss_requested_scopes_key, JSON.stringify(scopes));\r\n        }\r\n    }\r\n    getRequestedScopes() {\r\n        let scopes_str = sessionStorage.getItem(this.ss_requested_scopes_key);\r\n        return scopes_str ? JSON.parse(scopes_str) : null;\r\n    }\r\n    clearRequestedScopes() {\r\n        sessionStorage.removeItem(this.ss_requested_scopes_key);\r\n    }\r\n    addDeniedScopes(scopes) {\r\n        if (scopes) {\r\n            let deniedScopes = this.getDeniedScopes() || [];\r\n            deniedScopes = deniedScopes.concat(scopes);\r\n            let index = deniedScopes.indexOf('openid');\r\n            if (index !== -1) {\r\n                deniedScopes.splice(index, 1);\r\n            }\r\n            index = deniedScopes.indexOf('profile');\r\n            if (index !== -1) {\r\n                deniedScopes.splice(index, 1);\r\n            }\r\n            sessionStorage.setItem(this.ss_denied_scopes_key, JSON.stringify(deniedScopes));\r\n        }\r\n    }\r\n    getDeniedScopes() {\r\n        let scopes_str = sessionStorage.getItem(this.ss_denied_scopes_key);\r\n        return scopes_str ? JSON.parse(scopes_str) : null;\r\n    }\r\n    areScopesDenied(scopes) {\r\n        if (scopes) {\r\n            const deniedScopes = this.getDeniedScopes();\r\n            if (deniedScopes && deniedScopes.filter(s => -1 !== scopes.indexOf(s)).length > 0) {\r\n                return true;\r\n            }\r\n        }\r\n        return false;\r\n    }\r\n}\r\n//# sourceMappingURL=MsalProvider.js.map","/**\r\n * -------------------------------------------------------------------------------------------\r\n * Copyright (c) Microsoft Corporation.  All Rights Reserved.  Licensed under the MIT License.\r\n * See License in the project root for license information.\r\n * -------------------------------------------------------------------------------------------\r\n */\r\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nimport { property } from 'lit-element';\r\nimport { MgtBaseComponent } from '../baseComponent';\r\nexport class MgtBaseProvider extends MgtBaseComponent {\r\n    get provider() {\r\n        return this._provider;\r\n    }\r\n    set provider(value) {\r\n        if (this._provider) {\r\n            this.provider.removeStateChangedHandler(() => this.stateChangedHandler);\r\n        }\r\n        this._provider = value;\r\n        if (this._provider) {\r\n            this.provider.onStateChanged(() => this.stateChangedHandler);\r\n        }\r\n    }\r\n    firstUpdated(changedProperties) {\r\n        const _super = Object.create(null, {\r\n            firstUpdated: { get: () => super.firstUpdated }\r\n        });\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            _super.firstUpdated.call(this, changedProperties);\r\n            let higherPriority = false;\r\n            if (this.dependsOn) {\r\n                let higherPriorityProvider = this.dependsOn;\r\n                while (higherPriorityProvider) {\r\n                    if (yield higherPriorityProvider.isAvailable()) {\r\n                        higherPriority = true;\r\n                        break;\r\n                    }\r\n                    higherPriorityProvider = higherPriorityProvider.dependsOn;\r\n                }\r\n            }\r\n            if (!higherPriority && (yield this.isAvailable())) {\r\n                this.initializeProvider();\r\n            }\r\n        });\r\n    }\r\n    stateChangedHandler() {\r\n        this.fireCustomEvent('onStateChanged', this.provider.state);\r\n    }\r\n}\r\n__decorate([\r\n    property({\r\n        attribute: 'depends-on',\r\n        type: String,\r\n        converter: newValue => {\r\n            return document.querySelector(newValue);\r\n        }\r\n    })\r\n], MgtBaseProvider.prototype, \"dependsOn\", void 0);\r\n//# sourceMappingURL=baseProvider.js.map","/**\r\n * -------------------------------------------------------------------------------------------\r\n * Copyright (c) Microsoft Corporation.  All Rights Reserved.  Licensed under the MIT License.\r\n * See License in the project root for license information.\r\n * -------------------------------------------------------------------------------------------\r\n */\r\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nimport { customElement, property } from 'lit-element';\r\nimport { Providers } from '../../Providers';\r\nimport { LoginType } from '../../providers/IProvider';\r\nimport { MsalProvider } from '../../providers/MsalProvider';\r\nimport { MgtBaseProvider } from './baseProvider';\r\nlet MgtMsalProvider = class MgtMsalProvider extends MgtBaseProvider {\r\n    constructor() {\r\n        super(...arguments);\r\n        this.clientId = '';\r\n    }\r\n    isAvailable() {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            return true;\r\n        });\r\n    }\r\n    initializeProvider() {\r\n        if (this.clientId) {\r\n            const config = {\r\n                clientId: this.clientId\r\n            };\r\n            if (this.loginType && this.loginType.length > 1) {\r\n                let loginType = this.loginType.toLowerCase();\r\n                loginType = loginType[0].toUpperCase() + loginType.slice(1);\r\n                const loginTypeEnum = LoginType[loginType];\r\n                config.loginType = loginTypeEnum;\r\n            }\r\n            if (this.authority) {\r\n                config.authority = this.authority;\r\n            }\r\n            if (this.scopes) {\r\n                const scope = this.scopes.split(',');\r\n                if (scope && scope.length > 0) {\r\n                    config.scopes = scope;\r\n                }\r\n            }\r\n            this.provider = new MsalProvider(config);\r\n            Providers.globalProvider = this.provider;\r\n        }\r\n    }\r\n};\r\n__decorate([\r\n    property({\r\n        type: String,\r\n        attribute: 'client-id'\r\n    })\r\n], MgtMsalProvider.prototype, \"clientId\", void 0);\r\n__decorate([\r\n    property({\r\n        type: String,\r\n        attribute: 'login-type'\r\n    })\r\n], MgtMsalProvider.prototype, \"loginType\", void 0);\r\n__decorate([\r\n    property()\r\n], MgtMsalProvider.prototype, \"authority\", void 0);\r\n__decorate([\r\n    property({\r\n        type: String,\r\n        attribute: 'scopes'\r\n    })\r\n], MgtMsalProvider.prototype, \"scopes\", void 0);\r\nMgtMsalProvider = __decorate([\r\n    customElement('mgt-msal-provider')\r\n], MgtMsalProvider);\r\nexport { MgtMsalProvider };\r\n//# sourceMappingURL=mgt-msal-provider.js.map","/**\r\n * -------------------------------------------------------------------------------------------\r\n * Copyright (c) Microsoft Corporation.  All Rights Reserved.  Licensed under the MIT License.\r\n * See License in the project root for license information.\r\n * -------------------------------------------------------------------------------------------\r\n */\r\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nimport { UserAgentApplication } from 'msal';\r\nimport { LoginType, ProviderState } from './IProvider';\r\nimport { MsalProvider } from './MsalProvider';\r\nexport class TeamsProvider extends MsalProvider {\r\n    constructor(config) {\r\n        super({\r\n            clientId: config.clientId,\r\n            loginType: LoginType.Redirect,\r\n            scopes: config.scopes,\r\n            options: config.msalOptions\r\n        });\r\n        const teams = TeamsProvider.microsoftTeamsLib || microsoftTeams;\r\n        this._authPopupUrl = config.authPopupUrl;\r\n        teams.initialize();\r\n        this.accessToken = sessionStorage.getItem(TeamsProvider._sessionStorageTokenKey);\r\n    }\r\n    set accessToken(value) {\r\n        this._accessToken = value;\r\n        if (value) {\r\n            sessionStorage.setItem(TeamsProvider._sessionStorageTokenKey, value);\r\n            this.setState(ProviderState.SignedIn);\r\n        }\r\n        else {\r\n            sessionStorage.removeItem(TeamsProvider._sessionStorageTokenKey);\r\n            this.setState(ProviderState.SignedOut);\r\n        }\r\n    }\r\n    get accessToken() {\r\n        return this._accessToken;\r\n    }\r\n    static isAvailable() {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            return new Promise((resolve, reject) => {\r\n                if (window.parent === window.self && window.nativeInterface) {\r\n                    // In Teams mobile client\r\n                    resolve(true);\r\n                }\r\n                else if (window.name === 'embedded-page-container' || window.name === 'extension-tab-frame') {\r\n                    // In Teams web/desktop client\r\n                    resolve(true);\r\n                }\r\n                else {\r\n                    // // Last ditch effort to see if parent responds to initialize\r\n                    // const t = setTimeout(() => {\r\n                    //   resolve(false);\r\n                    // }, 1000);\r\n                    // const teams = TeamsProvider.microsoftTeamsLib || microsoftTeams;\r\n                    // if (teams) {\r\n                    //   teams.initialize(() => {\r\n                    //     clearTimeout(t);\r\n                    //     resolve(true);\r\n                    //   });\r\n                    // } else {\r\n                    resolve(false);\r\n                    // }\r\n                }\r\n            });\r\n        });\r\n    }\r\n    // public static isAvailable() {\r\n    //   if (window.parent === window.self && window.nativeInterface) {\r\n    //     // In Teams mobile client\r\n    //     return true;\r\n    //   } else if (window.name === 'embedded-page-container' || window.name === 'extension-tab-frame') {\r\n    //     // In Teams web/desktop client\r\n    //     return true;\r\n    //   } else {\r\n    //     return false;\r\n    //   }\r\n    // }\r\n    static handleAuth() {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            // we are in popup world now - authenticate and handle it\r\n            if (!this.isAvailable) {\r\n                console.error('Make sure you have referenced the Microsoft Teams sdk before using the TeamsProvider');\r\n                return;\r\n            }\r\n            const teams = TeamsProvider.microsoftTeamsLib || microsoftTeams;\r\n            teams.initialize();\r\n            // msal checks for the window.opener.msal to check if this is a popup authentication\r\n            // and gets a false positive since teams opens a popup for the authentication.\r\n            // in reality, we are doing a redirect authentication and need to act as if this is the\r\n            // window initiating the authentication\r\n            if (window.opener) {\r\n                window.opener.msal = null;\r\n            }\r\n            const url = new URL(window.location.href);\r\n            let clientId = sessionStorage.getItem(this._sessionStorageClientIdKey);\r\n            let scopesStr = sessionStorage.getItem(this._sessionStorageScopesKey);\r\n            let loginHint = sessionStorage.getItem(this._sessionStorageLoginHint);\r\n            if (!clientId) {\r\n                clientId = url.searchParams.get('clientId');\r\n                scopesStr = url.searchParams.get('scopes');\r\n                loginHint = url.searchParams.get('loginHint');\r\n                sessionStorage.setItem(this._sessionStorageClientIdKey, clientId);\r\n                sessionStorage.setItem(this._sessionStorageScopesKey, scopesStr);\r\n                sessionStorage.setItem(this._sessionStorageLoginHint, loginHint);\r\n            }\r\n            if (!clientId) {\r\n                teams.authentication.notifyFailure('no clientId provided');\r\n                return;\r\n            }\r\n            const scopes = scopesStr ? scopesStr.split(',') : null;\r\n            const provider = new MsalProvider({\r\n                clientId,\r\n                scopes,\r\n                options: {\r\n                    auth: {\r\n                        clientId,\r\n                        redirectUri: url.protocol + '//' + url.host + url.pathname\r\n                    },\r\n                    system: {\r\n                        loadFrameTimeout: 10000\r\n                    }\r\n                }\r\n            });\r\n            if (UserAgentApplication.prototype.urlContainsHash(window.location.hash)) {\r\n                // the page should redirect again\r\n                return;\r\n            }\r\n            const handleProviderState = () => __awaiter(this, void 0, void 0, function* () {\r\n                // how do we handle when user can't sign in\r\n                // change to promise and return status\r\n                if (provider.state === ProviderState.SignedOut) {\r\n                    provider.login({\r\n                        loginHint,\r\n                        scopes: scopes || provider.scopes\r\n                    });\r\n                }\r\n                else if (provider.state === ProviderState.SignedIn) {\r\n                    try {\r\n                        const accessToken = yield provider.getAccessTokenForScopes(...provider.scopes);\r\n                        sessionStorage.removeItem(this._sessionStorageClientIdKey);\r\n                        sessionStorage.removeItem(this._sessionStorageScopesKey);\r\n                        sessionStorage.removeItem(this._sessionStorageLoginHint);\r\n                        teams.authentication.notifySuccess(accessToken);\r\n                    }\r\n                    catch (e) {\r\n                        sessionStorage.removeItem(this._sessionStorageClientIdKey);\r\n                        sessionStorage.removeItem(this._sessionStorageScopesKey);\r\n                        sessionStorage.removeItem(this._sessionStorageLoginHint);\r\n                        teams.authentication.notifyFailure(e);\r\n                    }\r\n                }\r\n            });\r\n            provider.onStateChanged(handleProviderState);\r\n            handleProviderState();\r\n        });\r\n    }\r\n    login() {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            this.setState(ProviderState.Loading);\r\n            const teams = TeamsProvider.microsoftTeamsLib || microsoftTeams;\r\n            return new Promise((resolve, reject) => {\r\n                teams.getContext(context => {\r\n                    const url = new URL(this._authPopupUrl, new URL(window.location.href));\r\n                    url.searchParams.append('clientId', this.clientId);\r\n                    if (context.loginHint) {\r\n                        url.searchParams.append('loginHint', context.loginHint);\r\n                    }\r\n                    if (this.scopes) {\r\n                        url.searchParams.append('scopes', this.scopes.join(','));\r\n                    }\r\n                    teams.authentication.authenticate({\r\n                        url: url.href,\r\n                        successCallback: result => {\r\n                            this.accessToken = result;\r\n                            resolve();\r\n                        },\r\n                        failureCallback: reason => {\r\n                            this.accessToken = null;\r\n                            reject();\r\n                        }\r\n                    });\r\n                });\r\n            });\r\n        });\r\n    }\r\n    getAccessToken(options) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            if (!this.accessToken) {\r\n                throw null;\r\n            }\r\n            else {\r\n                return this.accessToken;\r\n            }\r\n        });\r\n    }\r\n}\r\nTeamsProvider._sessionStorageTokenKey = 'mgt-teamsprovider-accesstoken';\r\nTeamsProvider._sessionStorageClientIdKey = 'msg-teamsprovider-clientId';\r\nTeamsProvider._sessionStorageScopesKey = 'msg-teamsprovider-scopesstr';\r\nTeamsProvider._sessionStorageLoginHint = 'msg-teamsprovider-loginHint';\r\nTeamsProvider._sessionStorageGrantedScopes = 'msg=teamsprovider-approved-scopes';\r\n//# sourceMappingURL=TeamsProvider.js.map","/**\r\n * -------------------------------------------------------------------------------------------\r\n * Copyright (c) Microsoft Corporation.  All Rights Reserved.  Licensed under the MIT License.\r\n * See License in the project root for license information.\r\n * -------------------------------------------------------------------------------------------\r\n */\r\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nimport { customElement, property } from 'lit-element';\r\nimport { Providers } from '../../Providers';\r\nimport { TeamsProvider } from '../../providers/TeamsProvider';\r\nimport { MgtBaseProvider } from './baseProvider';\r\nlet MgtTeamsProvider = class MgtTeamsProvider extends MgtBaseProvider {\r\n    constructor() {\r\n        super(...arguments);\r\n        this.clientId = '';\r\n        this.authPopupUrl = '';\r\n    }\r\n    isAvailable() {\r\n        return TeamsProvider.isAvailable();\r\n    }\r\n    initializeProvider() {\r\n        if (this.clientId && this.authPopupUrl) {\r\n            const config = {\r\n                authPopupUrl: this.authPopupUrl,\r\n                clientId: this.clientId\r\n            };\r\n            if (this.scopes) {\r\n                const scope = this.scopes.split(',');\r\n                if (scope && scope.length > 0) {\r\n                    config.scopes = scope;\r\n                }\r\n            }\r\n            this.provider = new TeamsProvider(config);\r\n            Providers.globalProvider = this.provider;\r\n        }\r\n    }\r\n};\r\n__decorate([\r\n    property({\r\n        type: String,\r\n        attribute: 'client-id'\r\n    })\r\n], MgtTeamsProvider.prototype, \"clientId\", void 0);\r\n__decorate([\r\n    property({\r\n        type: String,\r\n        attribute: 'auth-popup-url'\r\n    })\r\n], MgtTeamsProvider.prototype, \"authPopupUrl\", void 0);\r\n__decorate([\r\n    property({\r\n        type: String,\r\n        attribute: 'scopes'\r\n    })\r\n], MgtTeamsProvider.prototype, \"scopes\", void 0);\r\nMgtTeamsProvider = __decorate([\r\n    customElement('mgt-teams-provider')\r\n], MgtTeamsProvider);\r\nexport { MgtTeamsProvider };\r\n//# sourceMappingURL=mgt-teams-provider.js.map","/**\r\n * -------------------------------------------------------------------------------------------\r\n * Copyright (c) Microsoft Corporation.  All Rights Reserved.  Licensed under the MIT License.\r\n * See License in the project root for license information.\r\n * -------------------------------------------------------------------------------------------\r\n */\r\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nimport { IProvider, ProviderState } from './IProvider';\r\nimport { Graph } from '../Graph';\r\nexport class WamProvider extends IProvider {\r\n    constructor(clientId, authority) {\r\n        super();\r\n        this.graphResource = 'https://graph.microsoft.com';\r\n        this.clientId = clientId;\r\n        this.authority = authority || 'https://login.microsoftonline.com/common';\r\n        this.graph = new Graph(this);\r\n        this.printRedirectUriToConsole();\r\n    }\r\n    static isAvailable() {\r\n        return !!window.Windows;\r\n    }\r\n    get isLoggedIn() {\r\n        return !!this.accessToken;\r\n    }\r\n    login() {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            if (WamProvider.isAvailable()) {\r\n                let webCore = window.Windows.Security.Authentication.Web.Core;\r\n                let wap = yield webCore.WebAuthenticationCoreManager.findAccountProviderAsync('https://login.microsoft.com', this.authority);\r\n                if (!wap) {\r\n                    console.log('no account provider');\r\n                    return;\r\n                }\r\n                let wtr = new webCore.WebTokenRequest(wap, '', this.clientId);\r\n                wtr.properties.insert('resource', this.graphResource);\r\n                let wtrr = yield webCore.WebAuthenticationCoreManager.requestTokenAsync(wtr);\r\n                switch (wtrr.responseStatus) {\r\n                    case webCore.WebTokenRequestStatus.success:\r\n                        let account = wtrr.responseData[0].webAccount;\r\n                        this.accessToken = wtrr.responseData[0].token;\r\n                        this.setState(this.accessToken ? ProviderState.SignedIn : ProviderState.SignedOut);\r\n                        break;\r\n                    case webCore.WebTokenRequestStatus.userCancel:\r\n                    case webCore.WebTokenRequestStatus.accountSwitch:\r\n                    case webCore.WebTokenRequestStatus.userInteractionRequired:\r\n                    case webCore.WebTokenRequestStatus.accountProviderNotAvailable:\r\n                    case webCore.WebTokenRequestStatus.providerError:\r\n                        console.log(`status ${wtrr.responseStatus}: error code ${wtrr.responseError} | error message ${wtrr.responseError.errorMessage}`);\r\n                        break;\r\n                }\r\n            }\r\n        });\r\n    }\r\n    printRedirectUriToConsole() {\r\n        if (WamProvider.isAvailable()) {\r\n            let web = window.Windows.Security.Authentication.Web;\r\n            let redirectUri = `ms-appx-web://Microsoft.AAD.BrokerPlugIn/${web.WebAuthenticationBroker.getCurrentApplicationCallbackUri()\r\n                .host.toUpperCase()}`;\r\n            console.log('Use the following redirect URI in your AAD application:');\r\n            console.log(redirectUri);\r\n        }\r\n        else {\r\n            console.log('WAM not supported on this platform');\r\n        }\r\n    }\r\n    getAccessToken(options) {\r\n        if (this.isLoggedIn) {\r\n            return Promise.resolve(this.accessToken);\r\n        }\r\n        else {\r\n            throw 'Not logged in';\r\n        }\r\n    }\r\n}\r\n//# sourceMappingURL=WamProvider.js.map","/**\r\n * -------------------------------------------------------------------------------------------\r\n * Copyright (c) Microsoft Corporation.  All Rights Reserved.  Licensed under the MIT License.\r\n * See License in the project root for license information.\r\n * -------------------------------------------------------------------------------------------\r\n */\r\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nimport { LitElement, customElement, property } from 'lit-element';\r\nimport { Providers } from '../../Providers';\r\nimport { WamProvider } from '../../providers/WamProvider';\r\nlet MgtWamProvider = class MgtWamProvider extends LitElement {\r\n    firstUpdated(changedProperties) {\r\n        this.validateAuthProps();\r\n    }\r\n    validateAuthProps() {\r\n        if (this.clientId !== undefined) {\r\n            Providers.globalProvider = new WamProvider(this.clientId, this.authority);\r\n        }\r\n    }\r\n};\r\n__decorate([\r\n    property({ attribute: 'client-id' })\r\n], MgtWamProvider.prototype, \"clientId\", void 0);\r\n__decorate([\r\n    property({ attribute: 'authority' })\r\n], MgtWamProvider.prototype, \"authority\", void 0);\r\nMgtWamProvider = __decorate([\r\n    customElement('mgt-wam-provider')\r\n], MgtWamProvider);\r\nexport { MgtWamProvider };\r\n//# sourceMappingURL=mgt-wam-provider.js.map","/**\r\n * -------------------------------------------------------------------------------------------\r\n * Copyright (c) Microsoft Corporation.  All Rights Reserved.  Licensed under the MIT License.\r\n * See License in the project root for license information.\r\n * -------------------------------------------------------------------------------------------\r\n */\r\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nimport { IProvider, ProviderState } from './IProvider';\r\nimport { Graph } from '../Graph';\r\nexport class SharePointProvider extends IProvider {\r\n    get provider() {\r\n        return this._provider;\r\n    }\r\n    get isLoggedIn() {\r\n        return !!this._idToken;\r\n    }\r\n    constructor(context) {\r\n        super();\r\n        this.context = context;\r\n        context.aadTokenProviderFactory.getTokenProvider().then((tokenProvider) => {\r\n            this._provider = tokenProvider;\r\n            this.graph = new Graph(this);\r\n            this.internalLogin();\r\n        });\r\n    }\r\n    internalLogin() {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            this._idToken = yield this.getAccessToken();\r\n            this.setState(this._idToken ? ProviderState.SignedIn : ProviderState.SignedOut);\r\n        });\r\n    }\r\n    getAccessToken() {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            let accessToken;\r\n            try {\r\n                accessToken = yield this.provider.getToken('https://graph.microsoft.com');\r\n            }\r\n            catch (e) {\r\n                console.log(e);\r\n                throw e;\r\n            }\r\n            return accessToken;\r\n        });\r\n    }\r\n    updateScopes(scopes) {\r\n        this.scopes = scopes;\r\n    }\r\n}\r\n//# sourceMappingURL=SharePointProvider.js.map","/**\r\n * -------------------------------------------------------------------------------------------\r\n * Copyright (c) Microsoft Corporation.  All Rights Reserved.  Licensed under the MIT License.\r\n * See License in the project root for license information.\r\n * -------------------------------------------------------------------------------------------\r\n */\r\nimport { IProvider } from './IProvider';\r\nimport { Graph } from '../Graph';\r\nexport class SimpleProvider extends IProvider {\r\n    constructor(getAccessTokenHandler, loginHandler, logoutHandler) {\r\n        super();\r\n        this._getAccessTokenHandler = getAccessTokenHandler;\r\n        this._loginHandler = loginHandler;\r\n        this._logoutHandler = logoutHandler;\r\n        this.graph = new Graph(this);\r\n    }\r\n    getAccessToken(options) {\r\n        return this._getAccessTokenHandler(options.scopes);\r\n    }\r\n    login() {\r\n        return this._loginHandler();\r\n    }\r\n    logout() {\r\n        return this._logoutHandler();\r\n    }\r\n}\r\n//# sourceMappingURL=SimpleProvider.js.map","/**\r\n * -------------------------------------------------------------------------------------------\r\n * Copyright (c) Microsoft Corporation.  All Rights Reserved.  Licensed under the MIT License.\r\n * See License in the project root for license information.\r\n * -------------------------------------------------------------------------------------------\r\n */\r\nexport * from './components/components';\r\nexport * from './components/providers/providers';\r\nexport * from './Providers';\r\nexport * from './providers/providers';\r\nexport { prepScopes } from './Graph';\r\n//# sourceMappingURL=index.js.map","/**\r\n * -------------------------------------------------------------------------------------------\r\n * Copyright (c) Microsoft Corporation.  All Rights Reserved.  Licensed under the MIT License.\r\n * See License in the project root for license information.\r\n * -------------------------------------------------------------------------------------------\r\n */\r\n/**\r\n * @module OneDriveLargeFileUploadTaskUtil\r\n */\r\n/**\r\n * @constant\r\n * Default value for the rangeSize\r\n * Recommended size is between 5 - 10 MB {@link https://developer.microsoft.com/en-us/graph/docs/api-reference/v1.0/api/driveitem_createuploadsession#best-practices}\r\n */\r\nconst DEFAULT_FILE_SIZE = 5 * 1024 * 1024;\r\n/**\r\n * @constant\r\n * Rounds off the given value to a multiple of 320 KB\r\n * @param {number} value - The value\r\n * @returns The rounded off value\r\n */\r\nconst roundTo320KB = (value) => {\r\n    if (value > 320 * 1024) {\r\n        value = Math.floor(value / (320 * 1024)) * 320 * 1024;\r\n    }\r\n    return value;\r\n};\r\n/**\r\n * @constant\r\n * Get the valid rangeSize for a file slicing (validity is based on the constrains mentioned in here\r\n * {@link https://developer.microsoft.com/en-us/graph/docs/api-reference/v1.0/api/driveitem_createuploadsession#upload-bytes-to-the-upload-session})\r\n *\r\n * @param {number} [rangeSize = DEFAULT_FILE_SIZE] - The rangeSize value.\r\n * @returns The valid rangeSize\r\n */\r\nexport const getValidRangeSize = (rangeSize = DEFAULT_FILE_SIZE) => {\r\n    const sixtyMB = 60 * 1024 * 1024;\r\n    if (rangeSize > sixtyMB) {\r\n        rangeSize = sixtyMB;\r\n    }\r\n    return roundTo320KB(rangeSize);\r\n};\r\n//# sourceMappingURL=OneDriveLargeFileUploadTaskUtil.js.map","import './styles/global.scss';\nimport 'babel-polyfill';\n// import './assets/fake.png';\n\n// import {MockProvider} from '@microsoft/mgt/dist/es6/mock/MockProvider';\n\nrequire('./components/vernier-app');\n\n\n\n\n","var content = require(\"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/sass-loader/lib/loader.js??ref--7-2!./global.scss\");\n\nif (typeof content === 'string') {\n  content = [[module.id, content, '']];\n}\n\nvar options = {}\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = require(\"!../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\")(content, options);\n\nif (content.locals) {\n  module.exports = content.locals;\n}\n","exports = module.exports = require(\"../../node_modules/css-loader/dist/runtime/api.js\")(false);\n// Module\nexports.push([module.id, \"html, body {\\n  min-height: 100%;\\n}\\n\\nbody {\\n  margin: 0;\\n  position: relative;\\n}\", \"\"]);\n","\"use strict\";\n\n/*\n  MIT License http://www.opensource.org/licenses/mit-license.php\n  Author Tobias Koppers @sokra\n*/\n// css base code, injected by the css-loader\n// eslint-disable-next-line func-names\nmodule.exports = function (useSourceMap) {\n  var list = []; // return the list of modules as css string\n\n  list.toString = function toString() {\n    return this.map(function (item) {\n      var content = cssWithMappingToString(item, useSourceMap);\n\n      if (item[2]) {\n        return \"@media \".concat(item[2], \"{\").concat(content, \"}\");\n      }\n\n      return content;\n    }).join('');\n  }; // import a list of modules into the list\n  // eslint-disable-next-line func-names\n\n\n  list.i = function (modules, mediaQuery) {\n    if (typeof modules === 'string') {\n      // eslint-disable-next-line no-param-reassign\n      modules = [[null, modules, '']];\n    }\n\n    var alreadyImportedModules = {};\n\n    for (var i = 0; i < this.length; i++) {\n      // eslint-disable-next-line prefer-destructuring\n      var id = this[i][0];\n\n      if (id != null) {\n        alreadyImportedModules[id] = true;\n      }\n    }\n\n    for (var _i = 0; _i < modules.length; _i++) {\n      var item = modules[_i]; // skip already imported module\n      // this implementation is not 100% perfect for weird media query combinations\n      // when a module is imported multiple times with different media queries.\n      // I hope this will never occur (Hey this way we have smaller bundles)\n\n      if (item[0] == null || !alreadyImportedModules[item[0]]) {\n        if (mediaQuery && !item[2]) {\n          item[2] = mediaQuery;\n        } else if (mediaQuery) {\n          item[2] = \"(\".concat(item[2], \") and (\").concat(mediaQuery, \")\");\n        }\n\n        list.push(item);\n      }\n    }\n  };\n\n  return list;\n};\n\nfunction cssWithMappingToString(item, useSourceMap) {\n  var content = item[1] || ''; // eslint-disable-next-line prefer-destructuring\n\n  var cssMapping = item[3];\n\n  if (!cssMapping) {\n    return content;\n  }\n\n  if (useSourceMap && typeof btoa === 'function') {\n    var sourceMapping = toComment(cssMapping);\n    var sourceURLs = cssMapping.sources.map(function (source) {\n      return \"/*# sourceURL=\".concat(cssMapping.sourceRoot).concat(source, \" */\");\n    });\n    return [content].concat(sourceURLs).concat([sourceMapping]).join('\\n');\n  }\n\n  return [content].join('\\n');\n} // Adapted from convert-source-map (MIT)\n\n\nfunction toComment(sourceMap) {\n  // eslint-disable-next-line no-undef\n  var base64 = btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap))));\n  var data = \"sourceMappingURL=data:application/json;charset=utf-8;base64,\".concat(base64);\n  return \"/*# \".concat(data, \" */\");\n}","\"use strict\";\n\nvar stylesInDom = {};\n\nvar isOldIE = function isOldIE() {\n  var memo;\n  return function memorize() {\n    if (typeof memo === 'undefined') {\n      // Test for IE <= 9 as proposed by Browserhacks\n      // @see http://browserhacks.com/#hack-e71d8692f65334173fee715c222cb805\n      // Tests for existence of standard globals is to allow style-loader\n      // to operate correctly into non-standard environments\n      // @see https://github.com/webpack-contrib/style-loader/issues/177\n      memo = Boolean(window && document && document.all && !window.atob);\n    }\n\n    return memo;\n  };\n}();\n\nvar getTarget = function getTarget() {\n  var memo = {};\n  return function memorize(target) {\n    if (typeof memo[target] === 'undefined') {\n      var styleTarget = document.querySelector(target); // Special case to return head of iframe instead of iframe itself\n\n      if (window.HTMLIFrameElement && styleTarget instanceof window.HTMLIFrameElement) {\n        try {\n          // This will throw an exception if access to iframe is blocked\n          // due to cross-origin restrictions\n          styleTarget = styleTarget.contentDocument.head;\n        } catch (e) {\n          // istanbul ignore next\n          styleTarget = null;\n        }\n      }\n\n      memo[target] = styleTarget;\n    }\n\n    return memo[target];\n  };\n}();\n\nfunction listToStyles(list, options) {\n  var styles = [];\n  var newStyles = {};\n\n  for (var i = 0; i < list.length; i++) {\n    var item = list[i];\n    var id = options.base ? item[0] + options.base : item[0];\n    var css = item[1];\n    var media = item[2];\n    var sourceMap = item[3];\n    var part = {\n      css: css,\n      media: media,\n      sourceMap: sourceMap\n    };\n\n    if (!newStyles[id]) {\n      styles.push(newStyles[id] = {\n        id: id,\n        parts: [part]\n      });\n    } else {\n      newStyles[id].parts.push(part);\n    }\n  }\n\n  return styles;\n}\n\nfunction addStylesToDom(styles, options) {\n  for (var i = 0; i < styles.length; i++) {\n    var item = styles[i];\n    var domStyle = stylesInDom[item.id];\n    var j = 0;\n\n    if (domStyle) {\n      domStyle.refs++;\n\n      for (; j < domStyle.parts.length; j++) {\n        domStyle.parts[j](item.parts[j]);\n      }\n\n      for (; j < item.parts.length; j++) {\n        domStyle.parts.push(addStyle(item.parts[j], options));\n      }\n    } else {\n      var parts = [];\n\n      for (; j < item.parts.length; j++) {\n        parts.push(addStyle(item.parts[j], options));\n      }\n\n      stylesInDom[item.id] = {\n        id: item.id,\n        refs: 1,\n        parts: parts\n      };\n    }\n  }\n}\n\nfunction insertStyleElement(options) {\n  var style = document.createElement('style');\n\n  if (typeof options.attributes.nonce === 'undefined') {\n    var nonce = typeof __webpack_nonce__ !== 'undefined' ? __webpack_nonce__ : null;\n\n    if (nonce) {\n      options.attributes.nonce = nonce;\n    }\n  }\n\n  Object.keys(options.attributes).forEach(function (key) {\n    style.setAttribute(key, options.attributes[key]);\n  });\n\n  if (typeof options.insert === 'function') {\n    options.insert(style);\n  } else {\n    var target = getTarget(options.insert || 'head');\n\n    if (!target) {\n      throw new Error(\"Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.\");\n    }\n\n    target.appendChild(style);\n  }\n\n  return style;\n}\n\nfunction removeStyleElement(style) {\n  // istanbul ignore if\n  if (style.parentNode === null) {\n    return false;\n  }\n\n  style.parentNode.removeChild(style);\n}\n/* istanbul ignore next  */\n\n\nvar replaceText = function replaceText() {\n  var textStore = [];\n  return function replace(index, replacement) {\n    textStore[index] = replacement;\n    return textStore.filter(Boolean).join('\\n');\n  };\n}();\n\nfunction applyToSingletonTag(style, index, remove, obj) {\n  var css = remove ? '' : obj.css; // For old IE\n\n  /* istanbul ignore if  */\n\n  if (style.styleSheet) {\n    style.styleSheet.cssText = replaceText(index, css);\n  } else {\n    var cssNode = document.createTextNode(css);\n    var childNodes = style.childNodes;\n\n    if (childNodes[index]) {\n      style.removeChild(childNodes[index]);\n    }\n\n    if (childNodes.length) {\n      style.insertBefore(cssNode, childNodes[index]);\n    } else {\n      style.appendChild(cssNode);\n    }\n  }\n}\n\nfunction applyToTag(style, options, obj) {\n  var css = obj.css;\n  var media = obj.media;\n  var sourceMap = obj.sourceMap;\n\n  if (media) {\n    style.setAttribute('media', media);\n  }\n\n  if (sourceMap && btoa) {\n    css += \"\\n/*# sourceMappingURL=data:application/json;base64,\".concat(btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))), \" */\");\n  } // For old IE\n\n  /* istanbul ignore if  */\n\n\n  if (style.styleSheet) {\n    style.styleSheet.cssText = css;\n  } else {\n    while (style.firstChild) {\n      style.removeChild(style.firstChild);\n    }\n\n    style.appendChild(document.createTextNode(css));\n  }\n}\n\nvar singleton = null;\nvar singletonCounter = 0;\n\nfunction addStyle(obj, options) {\n  var style;\n  var update;\n  var remove;\n\n  if (options.singleton) {\n    var styleIndex = singletonCounter++;\n    style = singleton || (singleton = insertStyleElement(options));\n    update = applyToSingletonTag.bind(null, style, styleIndex, false);\n    remove = applyToSingletonTag.bind(null, style, styleIndex, true);\n  } else {\n    style = insertStyleElement(options);\n    update = applyToTag.bind(null, style, options);\n\n    remove = function remove() {\n      removeStyleElement(style);\n    };\n  }\n\n  update(obj);\n  return function updateStyle(newObj) {\n    if (newObj) {\n      if (newObj.css === obj.css && newObj.media === obj.media && newObj.sourceMap === obj.sourceMap) {\n        return;\n      }\n\n      update(obj = newObj);\n    } else {\n      remove();\n    }\n  };\n}\n\nmodule.exports = function (list, options) {\n  options = options || {};\n  options.attributes = typeof options.attributes === 'object' ? options.attributes : {}; // Force single-tag solution on IE6-9, which has a hard limit on the # of <style>\n  // tags it will allow on a page\n\n  if (!options.singleton && typeof options.singleton !== 'boolean') {\n    options.singleton = isOldIE();\n  }\n\n  var styles = listToStyles(list, options);\n  addStylesToDom(styles, options);\n  return function update(newList) {\n    var mayRemove = [];\n\n    for (var i = 0; i < styles.length; i++) {\n      var item = styles[i];\n      var domStyle = stylesInDom[item.id];\n\n      if (domStyle) {\n        domStyle.refs--;\n        mayRemove.push(domStyle);\n      }\n    }\n\n    if (newList) {\n      var newStyles = listToStyles(newList, options);\n      addStylesToDom(newStyles, options);\n    }\n\n    for (var _i = 0; _i < mayRemove.length; _i++) {\n      var _domStyle = mayRemove[_i];\n\n      if (_domStyle.refs === 0) {\n        for (var j = 0; j < _domStyle.parts.length; j++) {\n          _domStyle.parts[j]();\n        }\n\n        delete stylesInDom[_domStyle.id];\n      }\n    }\n  };\n};","\"use strict\";\n\nrequire(\"core-js/shim\");\n\nrequire(\"regenerator-runtime/runtime\");\n\nrequire(\"core-js/fn/regexp/escape\");\n\nif (global._babelPolyfill) {\n  throw new Error(\"only one instance of babel-polyfill is allowed\");\n}\nglobal._babelPolyfill = true;\n\nvar DEFINE_PROPERTY = \"defineProperty\";\nfunction define(O, key, value) {\n  O[key] || Object[DEFINE_PROPERTY](O, key, {\n    writable: true,\n    configurable: true,\n    value: value\n  });\n}\n\ndefine(String.prototype, \"padLeft\", \"\".padStart);\ndefine(String.prototype, \"padRight\", \"\".padEnd);\n\n\"pop,reverse,shift,keys,values,entries,indexOf,every,some,forEach,map,filter,find,findIndex,includes,join,slice,concat,push,splice,unshift,sort,lastIndexOf,reduce,reduceRight,copyWithin,fill\".split(\",\").forEach(function (key) {\n  [][key] && define(Array, key, Function.call.bind([][key]));\n});","require('./modules/es6.symbol');\nrequire('./modules/es6.object.create');\nrequire('./modules/es6.object.define-property');\nrequire('./modules/es6.object.define-properties');\nrequire('./modules/es6.object.get-own-property-descriptor');\nrequire('./modules/es6.object.get-prototype-of');\nrequire('./modules/es6.object.keys');\nrequire('./modules/es6.object.get-own-property-names');\nrequire('./modules/es6.object.freeze');\nrequire('./modules/es6.object.seal');\nrequire('./modules/es6.object.prevent-extensions');\nrequire('./modules/es6.object.is-frozen');\nrequire('./modules/es6.object.is-sealed');\nrequire('./modules/es6.object.is-extensible');\nrequire('./modules/es6.object.assign');\nrequire('./modules/es6.object.is');\nrequire('./modules/es6.object.set-prototype-of');\nrequire('./modules/es6.object.to-string');\nrequire('./modules/es6.function.bind');\nrequire('./modules/es6.function.name');\nrequire('./modules/es6.function.has-instance');\nrequire('./modules/es6.parse-int');\nrequire('./modules/es6.parse-float');\nrequire('./modules/es6.number.constructor');\nrequire('./modules/es6.number.to-fixed');\nrequire('./modules/es6.number.to-precision');\nrequire('./modules/es6.number.epsilon');\nrequire('./modules/es6.number.is-finite');\nrequire('./modules/es6.number.is-integer');\nrequire('./modules/es6.number.is-nan');\nrequire('./modules/es6.number.is-safe-integer');\nrequire('./modules/es6.number.max-safe-integer');\nrequire('./modules/es6.number.min-safe-integer');\nrequire('./modules/es6.number.parse-float');\nrequire('./modules/es6.number.parse-int');\nrequire('./modules/es6.math.acosh');\nrequire('./modules/es6.math.asinh');\nrequire('./modules/es6.math.atanh');\nrequire('./modules/es6.math.cbrt');\nrequire('./modules/es6.math.clz32');\nrequire('./modules/es6.math.cosh');\nrequire('./modules/es6.math.expm1');\nrequire('./modules/es6.math.fround');\nrequire('./modules/es6.math.hypot');\nrequire('./modules/es6.math.imul');\nrequire('./modules/es6.math.log10');\nrequire('./modules/es6.math.log1p');\nrequire('./modules/es6.math.log2');\nrequire('./modules/es6.math.sign');\nrequire('./modules/es6.math.sinh');\nrequire('./modules/es6.math.tanh');\nrequire('./modules/es6.math.trunc');\nrequire('./modules/es6.string.from-code-point');\nrequire('./modules/es6.string.raw');\nrequire('./modules/es6.string.trim');\nrequire('./modules/es6.string.iterator');\nrequire('./modules/es6.string.code-point-at');\nrequire('./modules/es6.string.ends-with');\nrequire('./modules/es6.string.includes');\nrequire('./modules/es6.string.repeat');\nrequire('./modules/es6.string.starts-with');\nrequire('./modules/es6.string.anchor');\nrequire('./modules/es6.string.big');\nrequire('./modules/es6.string.blink');\nrequire('./modules/es6.string.bold');\nrequire('./modules/es6.string.fixed');\nrequire('./modules/es6.string.fontcolor');\nrequire('./modules/es6.string.fontsize');\nrequire('./modules/es6.string.italics');\nrequire('./modules/es6.string.link');\nrequire('./modules/es6.string.small');\nrequire('./modules/es6.string.strike');\nrequire('./modules/es6.string.sub');\nrequire('./modules/es6.string.sup');\nrequire('./modules/es6.date.now');\nrequire('./modules/es6.date.to-json');\nrequire('./modules/es6.date.to-iso-string');\nrequire('./modules/es6.date.to-string');\nrequire('./modules/es6.date.to-primitive');\nrequire('./modules/es6.array.is-array');\nrequire('./modules/es6.array.from');\nrequire('./modules/es6.array.of');\nrequire('./modules/es6.array.join');\nrequire('./modules/es6.array.slice');\nrequire('./modules/es6.array.sort');\nrequire('./modules/es6.array.for-each');\nrequire('./modules/es6.array.map');\nrequire('./modules/es6.array.filter');\nrequire('./modules/es6.array.some');\nrequire('./modules/es6.array.every');\nrequire('./modules/es6.array.reduce');\nrequire('./modules/es6.array.reduce-right');\nrequire('./modules/es6.array.index-of');\nrequire('./modules/es6.array.last-index-of');\nrequire('./modules/es6.array.copy-within');\nrequire('./modules/es6.array.fill');\nrequire('./modules/es6.array.find');\nrequire('./modules/es6.array.find-index');\nrequire('./modules/es6.array.species');\nrequire('./modules/es6.array.iterator');\nrequire('./modules/es6.regexp.constructor');\nrequire('./modules/es6.regexp.exec');\nrequire('./modules/es6.regexp.to-string');\nrequire('./modules/es6.regexp.flags');\nrequire('./modules/es6.regexp.match');\nrequire('./modules/es6.regexp.replace');\nrequire('./modules/es6.regexp.search');\nrequire('./modules/es6.regexp.split');\nrequire('./modules/es6.promise');\nrequire('./modules/es6.map');\nrequire('./modules/es6.set');\nrequire('./modules/es6.weak-map');\nrequire('./modules/es6.weak-set');\nrequire('./modules/es6.typed.array-buffer');\nrequire('./modules/es6.typed.data-view');\nrequire('./modules/es6.typed.int8-array');\nrequire('./modules/es6.typed.uint8-array');\nrequire('./modules/es6.typed.uint8-clamped-array');\nrequire('./modules/es6.typed.int16-array');\nrequire('./modules/es6.typed.uint16-array');\nrequire('./modules/es6.typed.int32-array');\nrequire('./modules/es6.typed.uint32-array');\nrequire('./modules/es6.typed.float32-array');\nrequire('./modules/es6.typed.float64-array');\nrequire('./modules/es6.reflect.apply');\nrequire('./modules/es6.reflect.construct');\nrequire('./modules/es6.reflect.define-property');\nrequire('./modules/es6.reflect.delete-property');\nrequire('./modules/es6.reflect.enumerate');\nrequire('./modules/es6.reflect.get');\nrequire('./modules/es6.reflect.get-own-property-descriptor');\nrequire('./modules/es6.reflect.get-prototype-of');\nrequire('./modules/es6.reflect.has');\nrequire('./modules/es6.reflect.is-extensible');\nrequire('./modules/es6.reflect.own-keys');\nrequire('./modules/es6.reflect.prevent-extensions');\nrequire('./modules/es6.reflect.set');\nrequire('./modules/es6.reflect.set-prototype-of');\nrequire('./modules/es7.array.includes');\nrequire('./modules/es7.array.flat-map');\nrequire('./modules/es7.array.flatten');\nrequire('./modules/es7.string.at');\nrequire('./modules/es7.string.pad-start');\nrequire('./modules/es7.string.pad-end');\nrequire('./modules/es7.string.trim-left');\nrequire('./modules/es7.string.trim-right');\nrequire('./modules/es7.string.match-all');\nrequire('./modules/es7.symbol.async-iterator');\nrequire('./modules/es7.symbol.observable');\nrequire('./modules/es7.object.get-own-property-descriptors');\nrequire('./modules/es7.object.values');\nrequire('./modules/es7.object.entries');\nrequire('./modules/es7.object.define-getter');\nrequire('./modules/es7.object.define-setter');\nrequire('./modules/es7.object.lookup-getter');\nrequire('./modules/es7.object.lookup-setter');\nrequire('./modules/es7.map.to-json');\nrequire('./modules/es7.set.to-json');\nrequire('./modules/es7.map.of');\nrequire('./modules/es7.set.of');\nrequire('./modules/es7.weak-map.of');\nrequire('./modules/es7.weak-set.of');\nrequire('./modules/es7.map.from');\nrequire('./modules/es7.set.from');\nrequire('./modules/es7.weak-map.from');\nrequire('./modules/es7.weak-set.from');\nrequire('./modules/es7.global');\nrequire('./modules/es7.system.global');\nrequire('./modules/es7.error.is-error');\nrequire('./modules/es7.math.clamp');\nrequire('./modules/es7.math.deg-per-rad');\nrequire('./modules/es7.math.degrees');\nrequire('./modules/es7.math.fscale');\nrequire('./modules/es7.math.iaddh');\nrequire('./modules/es7.math.isubh');\nrequire('./modules/es7.math.imulh');\nrequire('./modules/es7.math.rad-per-deg');\nrequire('./modules/es7.math.radians');\nrequire('./modules/es7.math.scale');\nrequire('./modules/es7.math.umulh');\nrequire('./modules/es7.math.signbit');\nrequire('./modules/es7.promise.finally');\nrequire('./modules/es7.promise.try');\nrequire('./modules/es7.reflect.define-metadata');\nrequire('./modules/es7.reflect.delete-metadata');\nrequire('./modules/es7.reflect.get-metadata');\nrequire('./modules/es7.reflect.get-metadata-keys');\nrequire('./modules/es7.reflect.get-own-metadata');\nrequire('./modules/es7.reflect.get-own-metadata-keys');\nrequire('./modules/es7.reflect.has-metadata');\nrequire('./modules/es7.reflect.has-own-metadata');\nrequire('./modules/es7.reflect.metadata');\nrequire('./modules/es7.asap');\nrequire('./modules/es7.observable');\nrequire('./modules/web.timers');\nrequire('./modules/web.immediate');\nrequire('./modules/web.dom.iterable');\nmodule.exports = require('./modules/_core');\n","'use strict';\n// ECMAScript 6 symbols shim\nvar global = require('./_global');\nvar has = require('./_has');\nvar DESCRIPTORS = require('./_descriptors');\nvar $export = require('./_export');\nvar redefine = require('./_redefine');\nvar META = require('./_meta').KEY;\nvar $fails = require('./_fails');\nvar shared = require('./_shared');\nvar setToStringTag = require('./_set-to-string-tag');\nvar uid = require('./_uid');\nvar wks = require('./_wks');\nvar wksExt = require('./_wks-ext');\nvar wksDefine = require('./_wks-define');\nvar enumKeys = require('./_enum-keys');\nvar isArray = require('./_is-array');\nvar anObject = require('./_an-object');\nvar isObject = require('./_is-object');\nvar toObject = require('./_to-object');\nvar toIObject = require('./_to-iobject');\nvar toPrimitive = require('./_to-primitive');\nvar createDesc = require('./_property-desc');\nvar _create = require('./_object-create');\nvar gOPNExt = require('./_object-gopn-ext');\nvar $GOPD = require('./_object-gopd');\nvar $GOPS = require('./_object-gops');\nvar $DP = require('./_object-dp');\nvar $keys = require('./_object-keys');\nvar gOPD = $GOPD.f;\nvar dP = $DP.f;\nvar gOPN = gOPNExt.f;\nvar $Symbol = global.Symbol;\nvar $JSON = global.JSON;\nvar _stringify = $JSON && $JSON.stringify;\nvar PROTOTYPE = 'prototype';\nvar HIDDEN = wks('_hidden');\nvar TO_PRIMITIVE = wks('toPrimitive');\nvar isEnum = {}.propertyIsEnumerable;\nvar SymbolRegistry = shared('symbol-registry');\nvar AllSymbols = shared('symbols');\nvar OPSymbols = shared('op-symbols');\nvar ObjectProto = Object[PROTOTYPE];\nvar USE_NATIVE = typeof $Symbol == 'function' && !!$GOPS.f;\nvar QObject = global.QObject;\n// Don't use setters in Qt Script, https://github.com/zloirock/core-js/issues/173\nvar setter = !QObject || !QObject[PROTOTYPE] || !QObject[PROTOTYPE].findChild;\n\n// fallback for old Android, https://code.google.com/p/v8/issues/detail?id=687\nvar setSymbolDesc = DESCRIPTORS && $fails(function () {\n  return _create(dP({}, 'a', {\n    get: function () { return dP(this, 'a', { value: 7 }).a; }\n  })).a != 7;\n}) ? function (it, key, D) {\n  var protoDesc = gOPD(ObjectProto, key);\n  if (protoDesc) delete ObjectProto[key];\n  dP(it, key, D);\n  if (protoDesc && it !== ObjectProto) dP(ObjectProto, key, protoDesc);\n} : dP;\n\nvar wrap = function (tag) {\n  var sym = AllSymbols[tag] = _create($Symbol[PROTOTYPE]);\n  sym._k = tag;\n  return sym;\n};\n\nvar isSymbol = USE_NATIVE && typeof $Symbol.iterator == 'symbol' ? function (it) {\n  return typeof it == 'symbol';\n} : function (it) {\n  return it instanceof $Symbol;\n};\n\nvar $defineProperty = function defineProperty(it, key, D) {\n  if (it === ObjectProto) $defineProperty(OPSymbols, key, D);\n  anObject(it);\n  key = toPrimitive(key, true);\n  anObject(D);\n  if (has(AllSymbols, key)) {\n    if (!D.enumerable) {\n      if (!has(it, HIDDEN)) dP(it, HIDDEN, createDesc(1, {}));\n      it[HIDDEN][key] = true;\n    } else {\n      if (has(it, HIDDEN) && it[HIDDEN][key]) it[HIDDEN][key] = false;\n      D = _create(D, { enumerable: createDesc(0, false) });\n    } return setSymbolDesc(it, key, D);\n  } return dP(it, key, D);\n};\nvar $defineProperties = function defineProperties(it, P) {\n  anObject(it);\n  var keys = enumKeys(P = toIObject(P));\n  var i = 0;\n  var l = keys.length;\n  var key;\n  while (l > i) $defineProperty(it, key = keys[i++], P[key]);\n  return it;\n};\nvar $create = function create(it, P) {\n  return P === undefined ? _create(it) : $defineProperties(_create(it), P);\n};\nvar $propertyIsEnumerable = function propertyIsEnumerable(key) {\n  var E = isEnum.call(this, key = toPrimitive(key, true));\n  if (this === ObjectProto && has(AllSymbols, key) && !has(OPSymbols, key)) return false;\n  return E || !has(this, key) || !has(AllSymbols, key) || has(this, HIDDEN) && this[HIDDEN][key] ? E : true;\n};\nvar $getOwnPropertyDescriptor = function getOwnPropertyDescriptor(it, key) {\n  it = toIObject(it);\n  key = toPrimitive(key, true);\n  if (it === ObjectProto && has(AllSymbols, key) && !has(OPSymbols, key)) return;\n  var D = gOPD(it, key);\n  if (D && has(AllSymbols, key) && !(has(it, HIDDEN) && it[HIDDEN][key])) D.enumerable = true;\n  return D;\n};\nvar $getOwnPropertyNames = function getOwnPropertyNames(it) {\n  var names = gOPN(toIObject(it));\n  var result = [];\n  var i = 0;\n  var key;\n  while (names.length > i) {\n    if (!has(AllSymbols, key = names[i++]) && key != HIDDEN && key != META) result.push(key);\n  } return result;\n};\nvar $getOwnPropertySymbols = function getOwnPropertySymbols(it) {\n  var IS_OP = it === ObjectProto;\n  var names = gOPN(IS_OP ? OPSymbols : toIObject(it));\n  var result = [];\n  var i = 0;\n  var key;\n  while (names.length > i) {\n    if (has(AllSymbols, key = names[i++]) && (IS_OP ? has(ObjectProto, key) : true)) result.push(AllSymbols[key]);\n  } return result;\n};\n\n// 19.4.1.1 Symbol([description])\nif (!USE_NATIVE) {\n  $Symbol = function Symbol() {\n    if (this instanceof $Symbol) throw TypeError('Symbol is not a constructor!');\n    var tag = uid(arguments.length > 0 ? arguments[0] : undefined);\n    var $set = function (value) {\n      if (this === ObjectProto) $set.call(OPSymbols, value);\n      if (has(this, HIDDEN) && has(this[HIDDEN], tag)) this[HIDDEN][tag] = false;\n      setSymbolDesc(this, tag, createDesc(1, value));\n    };\n    if (DESCRIPTORS && setter) setSymbolDesc(ObjectProto, tag, { configurable: true, set: $set });\n    return wrap(tag);\n  };\n  redefine($Symbol[PROTOTYPE], 'toString', function toString() {\n    return this._k;\n  });\n\n  $GOPD.f = $getOwnPropertyDescriptor;\n  $DP.f = $defineProperty;\n  require('./_object-gopn').f = gOPNExt.f = $getOwnPropertyNames;\n  require('./_object-pie').f = $propertyIsEnumerable;\n  $GOPS.f = $getOwnPropertySymbols;\n\n  if (DESCRIPTORS && !require('./_library')) {\n    redefine(ObjectProto, 'propertyIsEnumerable', $propertyIsEnumerable, true);\n  }\n\n  wksExt.f = function (name) {\n    return wrap(wks(name));\n  };\n}\n\n$export($export.G + $export.W + $export.F * !USE_NATIVE, { Symbol: $Symbol });\n\nfor (var es6Symbols = (\n  // 19.4.2.2, 19.4.2.3, 19.4.2.4, 19.4.2.6, 19.4.2.8, 19.4.2.9, 19.4.2.10, 19.4.2.11, 19.4.2.12, 19.4.2.13, 19.4.2.14\n  'hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables'\n).split(','), j = 0; es6Symbols.length > j;)wks(es6Symbols[j++]);\n\nfor (var wellKnownSymbols = $keys(wks.store), k = 0; wellKnownSymbols.length > k;) wksDefine(wellKnownSymbols[k++]);\n\n$export($export.S + $export.F * !USE_NATIVE, 'Symbol', {\n  // 19.4.2.1 Symbol.for(key)\n  'for': function (key) {\n    return has(SymbolRegistry, key += '')\n      ? SymbolRegistry[key]\n      : SymbolRegistry[key] = $Symbol(key);\n  },\n  // 19.4.2.5 Symbol.keyFor(sym)\n  keyFor: function keyFor(sym) {\n    if (!isSymbol(sym)) throw TypeError(sym + ' is not a symbol!');\n    for (var key in SymbolRegistry) if (SymbolRegistry[key] === sym) return key;\n  },\n  useSetter: function () { setter = true; },\n  useSimple: function () { setter = false; }\n});\n\n$export($export.S + $export.F * !USE_NATIVE, 'Object', {\n  // 19.1.2.2 Object.create(O [, Properties])\n  create: $create,\n  // 19.1.2.4 Object.defineProperty(O, P, Attributes)\n  defineProperty: $defineProperty,\n  // 19.1.2.3 Object.defineProperties(O, Properties)\n  defineProperties: $defineProperties,\n  // 19.1.2.6 Object.getOwnPropertyDescriptor(O, P)\n  getOwnPropertyDescriptor: $getOwnPropertyDescriptor,\n  // 19.1.2.7 Object.getOwnPropertyNames(O)\n  getOwnPropertyNames: $getOwnPropertyNames,\n  // 19.1.2.8 Object.getOwnPropertySymbols(O)\n  getOwnPropertySymbols: $getOwnPropertySymbols\n});\n\n// Chrome 38 and 39 `Object.getOwnPropertySymbols` fails on primitives\n// https://bugs.chromium.org/p/v8/issues/detail?id=3443\nvar FAILS_ON_PRIMITIVES = $fails(function () { $GOPS.f(1); });\n\n$export($export.S + $export.F * FAILS_ON_PRIMITIVES, 'Object', {\n  getOwnPropertySymbols: function getOwnPropertySymbols(it) {\n    return $GOPS.f(toObject(it));\n  }\n});\n\n// 24.3.2 JSON.stringify(value [, replacer [, space]])\n$JSON && $export($export.S + $export.F * (!USE_NATIVE || $fails(function () {\n  var S = $Symbol();\n  // MS Edge converts symbol values to JSON as {}\n  // WebKit converts symbol values to JSON as null\n  // V8 throws on boxed symbols\n  return _stringify([S]) != '[null]' || _stringify({ a: S }) != '{}' || _stringify(Object(S)) != '{}';\n})), 'JSON', {\n  stringify: function stringify(it) {\n    var args = [it];\n    var i = 1;\n    var replacer, $replacer;\n    while (arguments.length > i) args.push(arguments[i++]);\n    $replacer = replacer = args[1];\n    if (!isObject(replacer) && it === undefined || isSymbol(it)) return; // IE8 returns string on undefined\n    if (!isArray(replacer)) replacer = function (key, value) {\n      if (typeof $replacer == 'function') value = $replacer.call(this, key, value);\n      if (!isSymbol(value)) return value;\n    };\n    args[1] = replacer;\n    return _stringify.apply($JSON, args);\n  }\n});\n\n// 19.4.3.4 Symbol.prototype[@@toPrimitive](hint)\n$Symbol[PROTOTYPE][TO_PRIMITIVE] || require('./_hide')($Symbol[PROTOTYPE], TO_PRIMITIVE, $Symbol[PROTOTYPE].valueOf);\n// 19.4.3.5 Symbol.prototype[@@toStringTag]\nsetToStringTag($Symbol, 'Symbol');\n// 20.2.1.9 Math[@@toStringTag]\nsetToStringTag(Math, 'Math', true);\n// 24.3.3 JSON[@@toStringTag]\nsetToStringTag(global.JSON, 'JSON', true);\n","module.exports = require('./_shared')('native-function-to-string', Function.toString);\n","// all enumerable object keys, includes symbols\nvar getKeys = require('./_object-keys');\nvar gOPS = require('./_object-gops');\nvar pIE = require('./_object-pie');\nmodule.exports = function (it) {\n  var result = getKeys(it);\n  var getSymbols = gOPS.f;\n  if (getSymbols) {\n    var symbols = getSymbols(it);\n    var isEnum = pIE.f;\n    var i = 0;\n    var key;\n    while (symbols.length > i) if (isEnum.call(it, key = symbols[i++])) result.push(key);\n  } return result;\n};\n","var $export = require('./_export');\n// 19.1.2.2 / 15.2.3.5 Object.create(O [, Properties])\n$export($export.S, 'Object', { create: require('./_object-create') });\n","var $export = require('./_export');\n// 19.1.2.4 / 15.2.3.6 Object.defineProperty(O, P, Attributes)\n$export($export.S + $export.F * !require('./_descriptors'), 'Object', { defineProperty: require('./_object-dp').f });\n","var $export = require('./_export');\n// 19.1.2.3 / 15.2.3.7 Object.defineProperties(O, Properties)\n$export($export.S + $export.F * !require('./_descriptors'), 'Object', { defineProperties: require('./_object-dps') });\n","// 19.1.2.6 Object.getOwnPropertyDescriptor(O, P)\nvar toIObject = require('./_to-iobject');\nvar $getOwnPropertyDescriptor = require('./_object-gopd').f;\n\nrequire('./_object-sap')('getOwnPropertyDescriptor', function () {\n  return function getOwnPropertyDescriptor(it, key) {\n    return $getOwnPropertyDescriptor(toIObject(it), key);\n  };\n});\n","// 19.1.2.9 Object.getPrototypeOf(O)\nvar toObject = require('./_to-object');\nvar $getPrototypeOf = require('./_object-gpo');\n\nrequire('./_object-sap')('getPrototypeOf', function () {\n  return function getPrototypeOf(it) {\n    return $getPrototypeOf(toObject(it));\n  };\n});\n","// 19.1.2.14 Object.keys(O)\nvar toObject = require('./_to-object');\nvar $keys = require('./_object-keys');\n\nrequire('./_object-sap')('keys', function () {\n  return function keys(it) {\n    return $keys(toObject(it));\n  };\n});\n","// 19.1.2.7 Object.getOwnPropertyNames(O)\nrequire('./_object-sap')('getOwnPropertyNames', function () {\n  return require('./_object-gopn-ext').f;\n});\n","// 19.1.2.5 Object.freeze(O)\nvar isObject = require('./_is-object');\nvar meta = require('./_meta').onFreeze;\n\nrequire('./_object-sap')('freeze', function ($freeze) {\n  return function freeze(it) {\n    return $freeze && isObject(it) ? $freeze(meta(it)) : it;\n  };\n});\n","// 19.1.2.17 Object.seal(O)\nvar isObject = require('./_is-object');\nvar meta = require('./_meta').onFreeze;\n\nrequire('./_object-sap')('seal', function ($seal) {\n  return function seal(it) {\n    return $seal && isObject(it) ? $seal(meta(it)) : it;\n  };\n});\n","// 19.1.2.15 Object.preventExtensions(O)\nvar isObject = require('./_is-object');\nvar meta = require('./_meta').onFreeze;\n\nrequire('./_object-sap')('preventExtensions', function ($preventExtensions) {\n  return function preventExtensions(it) {\n    return $preventExtensions && isObject(it) ? $preventExtensions(meta(it)) : it;\n  };\n});\n","// 19.1.2.12 Object.isFrozen(O)\nvar isObject = require('./_is-object');\n\nrequire('./_object-sap')('isFrozen', function ($isFrozen) {\n  return function isFrozen(it) {\n    return isObject(it) ? $isFrozen ? $isFrozen(it) : false : true;\n  };\n});\n","// 19.1.2.13 Object.isSealed(O)\nvar isObject = require('./_is-object');\n\nrequire('./_object-sap')('isSealed', function ($isSealed) {\n  return function isSealed(it) {\n    return isObject(it) ? $isSealed ? $isSealed(it) : false : true;\n  };\n});\n","// 19.1.2.11 Object.isExtensible(O)\nvar isObject = require('./_is-object');\n\nrequire('./_object-sap')('isExtensible', function ($isExtensible) {\n  return function isExtensible(it) {\n    return isObject(it) ? $isExtensible ? $isExtensible(it) : true : false;\n  };\n});\n","// 19.1.3.1 Object.assign(target, source)\nvar $export = require('./_export');\n\n$export($export.S + $export.F, 'Object', { assign: require('./_object-assign') });\n","// 19.1.3.10 Object.is(value1, value2)\nvar $export = require('./_export');\n$export($export.S, 'Object', { is: require('./_same-value') });\n","// 19.1.3.19 Object.setPrototypeOf(O, proto)\nvar $export = require('./_export');\n$export($export.S, 'Object', { setPrototypeOf: require('./_set-proto').set });\n","'use strict';\n// 19.1.3.6 Object.prototype.toString()\nvar classof = require('./_classof');\nvar test = {};\ntest[require('./_wks')('toStringTag')] = 'z';\nif (test + '' != '[object z]') {\n  require('./_redefine')(Object.prototype, 'toString', function toString() {\n    return '[object ' + classof(this) + ']';\n  }, true);\n}\n","// 19.2.3.2 / 15.3.4.5 Function.prototype.bind(thisArg, args...)\nvar $export = require('./_export');\n\n$export($export.P, 'Function', { bind: require('./_bind') });\n","var dP = require('./_object-dp').f;\nvar FProto = Function.prototype;\nvar nameRE = /^\\s*function ([^ (]*)/;\nvar NAME = 'name';\n\n// 19.2.4.2 name\nNAME in FProto || require('./_descriptors') && dP(FProto, NAME, {\n  configurable: true,\n  get: function () {\n    try {\n      return ('' + this).match(nameRE)[1];\n    } catch (e) {\n      return '';\n    }\n  }\n});\n","'use strict';\nvar isObject = require('./_is-object');\nvar getPrototypeOf = require('./_object-gpo');\nvar HAS_INSTANCE = require('./_wks')('hasInstance');\nvar FunctionProto = Function.prototype;\n// 19.2.3.6 Function.prototype[@@hasInstance](V)\nif (!(HAS_INSTANCE in FunctionProto)) require('./_object-dp').f(FunctionProto, HAS_INSTANCE, { value: function (O) {\n  if (typeof this != 'function' || !isObject(O)) return false;\n  if (!isObject(this.prototype)) return O instanceof this;\n  // for environment w/o native `@@hasInstance` logic enough `instanceof`, but add this:\n  while (O = getPrototypeOf(O)) if (this.prototype === O) return true;\n  return false;\n} });\n","var $export = require('./_export');\nvar $parseInt = require('./_parse-int');\n// 18.2.5 parseInt(string, radix)\n$export($export.G + $export.F * (parseInt != $parseInt), { parseInt: $parseInt });\n","var $export = require('./_export');\nvar $parseFloat = require('./_parse-float');\n// 18.2.4 parseFloat(string)\n$export($export.G + $export.F * (parseFloat != $parseFloat), { parseFloat: $parseFloat });\n","'use strict';\nvar global = require('./_global');\nvar has = require('./_has');\nvar cof = require('./_cof');\nvar inheritIfRequired = require('./_inherit-if-required');\nvar toPrimitive = require('./_to-primitive');\nvar fails = require('./_fails');\nvar gOPN = require('./_object-gopn').f;\nvar gOPD = require('./_object-gopd').f;\nvar dP = require('./_object-dp').f;\nvar $trim = require('./_string-trim').trim;\nvar NUMBER = 'Number';\nvar $Number = global[NUMBER];\nvar Base = $Number;\nvar proto = $Number.prototype;\n// Opera ~12 has broken Object#toString\nvar BROKEN_COF = cof(require('./_object-create')(proto)) == NUMBER;\nvar TRIM = 'trim' in String.prototype;\n\n// 7.1.3 ToNumber(argument)\nvar toNumber = function (argument) {\n  var it = toPrimitive(argument, false);\n  if (typeof it == 'string' && it.length > 2) {\n    it = TRIM ? it.trim() : $trim(it, 3);\n    var first = it.charCodeAt(0);\n    var third, radix, maxCode;\n    if (first === 43 || first === 45) {\n      third = it.charCodeAt(2);\n      if (third === 88 || third === 120) return NaN; // Number('+0x1') should be NaN, old V8 fix\n    } else if (first === 48) {\n      switch (it.charCodeAt(1)) {\n        case 66: case 98: radix = 2; maxCode = 49; break; // fast equal /^0b[01]+$/i\n        case 79: case 111: radix = 8; maxCode = 55; break; // fast equal /^0o[0-7]+$/i\n        default: return +it;\n      }\n      for (var digits = it.slice(2), i = 0, l = digits.length, code; i < l; i++) {\n        code = digits.charCodeAt(i);\n        // parseInt parses a string to a first unavailable symbol\n        // but ToNumber should return NaN if a string contains unavailable symbols\n        if (code < 48 || code > maxCode) return NaN;\n      } return parseInt(digits, radix);\n    }\n  } return +it;\n};\n\nif (!$Number(' 0o1') || !$Number('0b1') || $Number('+0x1')) {\n  $Number = function Number(value) {\n    var it = arguments.length < 1 ? 0 : value;\n    var that = this;\n    return that instanceof $Number\n      // check on 1..constructor(foo) case\n      && (BROKEN_COF ? fails(function () { proto.valueOf.call(that); }) : cof(that) != NUMBER)\n        ? inheritIfRequired(new Base(toNumber(it)), that, $Number) : toNumber(it);\n  };\n  for (var keys = require('./_descriptors') ? gOPN(Base) : (\n    // ES3:\n    'MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,' +\n    // ES6 (in case, if modules with ES6 Number statics required before):\n    'EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,' +\n    'MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger'\n  ).split(','), j = 0, key; keys.length > j; j++) {\n    if (has(Base, key = keys[j]) && !has($Number, key)) {\n      dP($Number, key, gOPD(Base, key));\n    }\n  }\n  $Number.prototype = proto;\n  proto.constructor = $Number;\n  require('./_redefine')(global, NUMBER, $Number);\n}\n","'use strict';\nvar $export = require('./_export');\nvar toInteger = require('./_to-integer');\nvar aNumberValue = require('./_a-number-value');\nvar repeat = require('./_string-repeat');\nvar $toFixed = 1.0.toFixed;\nvar floor = Math.floor;\nvar data = [0, 0, 0, 0, 0, 0];\nvar ERROR = 'Number.toFixed: incorrect invocation!';\nvar ZERO = '0';\n\nvar multiply = function (n, c) {\n  var i = -1;\n  var c2 = c;\n  while (++i < 6) {\n    c2 += n * data[i];\n    data[i] = c2 % 1e7;\n    c2 = floor(c2 / 1e7);\n  }\n};\nvar divide = function (n) {\n  var i = 6;\n  var c = 0;\n  while (--i >= 0) {\n    c += data[i];\n    data[i] = floor(c / n);\n    c = (c % n) * 1e7;\n  }\n};\nvar numToString = function () {\n  var i = 6;\n  var s = '';\n  while (--i >= 0) {\n    if (s !== '' || i === 0 || data[i] !== 0) {\n      var t = String(data[i]);\n      s = s === '' ? t : s + repeat.call(ZERO, 7 - t.length) + t;\n    }\n  } return s;\n};\nvar pow = function (x, n, acc) {\n  return n === 0 ? acc : n % 2 === 1 ? pow(x, n - 1, acc * x) : pow(x * x, n / 2, acc);\n};\nvar log = function (x) {\n  var n = 0;\n  var x2 = x;\n  while (x2 >= 4096) {\n    n += 12;\n    x2 /= 4096;\n  }\n  while (x2 >= 2) {\n    n += 1;\n    x2 /= 2;\n  } return n;\n};\n\n$export($export.P + $export.F * (!!$toFixed && (\n  0.00008.toFixed(3) !== '0.000' ||\n  0.9.toFixed(0) !== '1' ||\n  1.255.toFixed(2) !== '1.25' ||\n  1000000000000000128.0.toFixed(0) !== '1000000000000000128'\n) || !require('./_fails')(function () {\n  // V8 ~ Android 4.3-\n  $toFixed.call({});\n})), 'Number', {\n  toFixed: function toFixed(fractionDigits) {\n    var x = aNumberValue(this, ERROR);\n    var f = toInteger(fractionDigits);\n    var s = '';\n    var m = ZERO;\n    var e, z, j, k;\n    if (f < 0 || f > 20) throw RangeError(ERROR);\n    // eslint-disable-next-line no-self-compare\n    if (x != x) return 'NaN';\n    if (x <= -1e21 || x >= 1e21) return String(x);\n    if (x < 0) {\n      s = '-';\n      x = -x;\n    }\n    if (x > 1e-21) {\n      e = log(x * pow(2, 69, 1)) - 69;\n      z = e < 0 ? x * pow(2, -e, 1) : x / pow(2, e, 1);\n      z *= 0x10000000000000;\n      e = 52 - e;\n      if (e > 0) {\n        multiply(0, z);\n        j = f;\n        while (j >= 7) {\n          multiply(1e7, 0);\n          j -= 7;\n        }\n        multiply(pow(10, j, 1), 0);\n        j = e - 1;\n        while (j >= 23) {\n          divide(1 << 23);\n          j -= 23;\n        }\n        divide(1 << j);\n        multiply(1, 1);\n        divide(2);\n        m = numToString();\n      } else {\n        multiply(0, z);\n        multiply(1 << -e, 0);\n        m = numToString() + repeat.call(ZERO, f);\n      }\n    }\n    if (f > 0) {\n      k = m.length;\n      m = s + (k <= f ? '0.' + repeat.call(ZERO, f - k) + m : m.slice(0, k - f) + '.' + m.slice(k - f));\n    } else {\n      m = s + m;\n    } return m;\n  }\n});\n","'use strict';\nvar $export = require('./_export');\nvar $fails = require('./_fails');\nvar aNumberValue = require('./_a-number-value');\nvar $toPrecision = 1.0.toPrecision;\n\n$export($export.P + $export.F * ($fails(function () {\n  // IE7-\n  return $toPrecision.call(1, undefined) !== '1';\n}) || !$fails(function () {\n  // V8 ~ Android 4.3-\n  $toPrecision.call({});\n})), 'Number', {\n  toPrecision: function toPrecision(precision) {\n    var that = aNumberValue(this, 'Number#toPrecision: incorrect invocation!');\n    return precision === undefined ? $toPrecision.call(that) : $toPrecision.call(that, precision);\n  }\n});\n","// 20.1.2.1 Number.EPSILON\nvar $export = require('./_export');\n\n$export($export.S, 'Number', { EPSILON: Math.pow(2, -52) });\n","// 20.1.2.2 Number.isFinite(number)\nvar $export = require('./_export');\nvar _isFinite = require('./_global').isFinite;\n\n$export($export.S, 'Number', {\n  isFinite: function isFinite(it) {\n    return typeof it == 'number' && _isFinite(it);\n  }\n});\n","// 20.1.2.3 Number.isInteger(number)\nvar $export = require('./_export');\n\n$export($export.S, 'Number', { isInteger: require('./_is-integer') });\n","// 20.1.2.4 Number.isNaN(number)\nvar $export = require('./_export');\n\n$export($export.S, 'Number', {\n  isNaN: function isNaN(number) {\n    // eslint-disable-next-line no-self-compare\n    return number != number;\n  }\n});\n","// 20.1.2.5 Number.isSafeInteger(number)\nvar $export = require('./_export');\nvar isInteger = require('./_is-integer');\nvar abs = Math.abs;\n\n$export($export.S, 'Number', {\n  isSafeInteger: function isSafeInteger(number) {\n    return isInteger(number) && abs(number) <= 0x1fffffffffffff;\n  }\n});\n","// 20.1.2.6 Number.MAX_SAFE_INTEGER\nvar $export = require('./_export');\n\n$export($export.S, 'Number', { MAX_SAFE_INTEGER: 0x1fffffffffffff });\n","// 20.1.2.10 Number.MIN_SAFE_INTEGER\nvar $export = require('./_export');\n\n$export($export.S, 'Number', { MIN_SAFE_INTEGER: -0x1fffffffffffff });\n","var $export = require('./_export');\nvar $parseFloat = require('./_parse-float');\n// 20.1.2.12 Number.parseFloat(string)\n$export($export.S + $export.F * (Number.parseFloat != $parseFloat), 'Number', { parseFloat: $parseFloat });\n","var $export = require('./_export');\nvar $parseInt = require('./_parse-int');\n// 20.1.2.13 Number.parseInt(string, radix)\n$export($export.S + $export.F * (Number.parseInt != $parseInt), 'Number', { parseInt: $parseInt });\n","// 20.2.2.3 Math.acosh(x)\nvar $export = require('./_export');\nvar log1p = require('./_math-log1p');\nvar sqrt = Math.sqrt;\nvar $acosh = Math.acosh;\n\n$export($export.S + $export.F * !($acosh\n  // V8 bug: https://code.google.com/p/v8/issues/detail?id=3509\n  && Math.floor($acosh(Number.MAX_VALUE)) == 710\n  // Tor Browser bug: Math.acosh(Infinity) -> NaN\n  && $acosh(Infinity) == Infinity\n), 'Math', {\n  acosh: function acosh(x) {\n    return (x = +x) < 1 ? NaN : x > 94906265.62425156\n      ? Math.log(x) + Math.LN2\n      : log1p(x - 1 + sqrt(x - 1) * sqrt(x + 1));\n  }\n});\n","// 20.2.2.5 Math.asinh(x)\nvar $export = require('./_export');\nvar $asinh = Math.asinh;\n\nfunction asinh(x) {\n  return !isFinite(x = +x) || x == 0 ? x : x < 0 ? -asinh(-x) : Math.log(x + Math.sqrt(x * x + 1));\n}\n\n// Tor Browser bug: Math.asinh(0) -> -0\n$export($export.S + $export.F * !($asinh && 1 / $asinh(0) > 0), 'Math', { asinh: asinh });\n","// 20.2.2.7 Math.atanh(x)\nvar $export = require('./_export');\nvar $atanh = Math.atanh;\n\n// Tor Browser bug: Math.atanh(-0) -> 0\n$export($export.S + $export.F * !($atanh && 1 / $atanh(-0) < 0), 'Math', {\n  atanh: function atanh(x) {\n    return (x = +x) == 0 ? x : Math.log((1 + x) / (1 - x)) / 2;\n  }\n});\n","// 20.2.2.9 Math.cbrt(x)\nvar $export = require('./_export');\nvar sign = require('./_math-sign');\n\n$export($export.S, 'Math', {\n  cbrt: function cbrt(x) {\n    return sign(x = +x) * Math.pow(Math.abs(x), 1 / 3);\n  }\n});\n","// 20.2.2.11 Math.clz32(x)\nvar $export = require('./_export');\n\n$export($export.S, 'Math', {\n  clz32: function clz32(x) {\n    return (x >>>= 0) ? 31 - Math.floor(Math.log(x + 0.5) * Math.LOG2E) : 32;\n  }\n});\n","// 20.2.2.12 Math.cosh(x)\nvar $export = require('./_export');\nvar exp = Math.exp;\n\n$export($export.S, 'Math', {\n  cosh: function cosh(x) {\n    return (exp(x = +x) + exp(-x)) / 2;\n  }\n});\n","// 20.2.2.14 Math.expm1(x)\nvar $export = require('./_export');\nvar $expm1 = require('./_math-expm1');\n\n$export($export.S + $export.F * ($expm1 != Math.expm1), 'Math', { expm1: $expm1 });\n","// 20.2.2.16 Math.fround(x)\nvar $export = require('./_export');\n\n$export($export.S, 'Math', { fround: require('./_math-fround') });\n","// 20.2.2.17 Math.hypot([value1[, value2[,  ]]])\nvar $export = require('./_export');\nvar abs = Math.abs;\n\n$export($export.S, 'Math', {\n  hypot: function hypot(value1, value2) { // eslint-disable-line no-unused-vars\n    var sum = 0;\n    var i = 0;\n    var aLen = arguments.length;\n    var larg = 0;\n    var arg, div;\n    while (i < aLen) {\n      arg = abs(arguments[i++]);\n      if (larg < arg) {\n        div = larg / arg;\n        sum = sum * div * div + 1;\n        larg = arg;\n      } else if (arg > 0) {\n        div = arg / larg;\n        sum += div * div;\n      } else sum += arg;\n    }\n    return larg === Infinity ? Infinity : larg * Math.sqrt(sum);\n  }\n});\n","// 20.2.2.18 Math.imul(x, y)\nvar $export = require('./_export');\nvar $imul = Math.imul;\n\n// some WebKit versions fails with big numbers, some has wrong arity\n$export($export.S + $export.F * require('./_fails')(function () {\n  return $imul(0xffffffff, 5) != -5 || $imul.length != 2;\n}), 'Math', {\n  imul: function imul(x, y) {\n    var UINT16 = 0xffff;\n    var xn = +x;\n    var yn = +y;\n    var xl = UINT16 & xn;\n    var yl = UINT16 & yn;\n    return 0 | xl * yl + ((UINT16 & xn >>> 16) * yl + xl * (UINT16 & yn >>> 16) << 16 >>> 0);\n  }\n});\n","// 20.2.2.21 Math.log10(x)\nvar $export = require('./_export');\n\n$export($export.S, 'Math', {\n  log10: function log10(x) {\n    return Math.log(x) * Math.LOG10E;\n  }\n});\n","// 20.2.2.20 Math.log1p(x)\nvar $export = require('./_export');\n\n$export($export.S, 'Math', { log1p: require('./_math-log1p') });\n","// 20.2.2.22 Math.log2(x)\nvar $export = require('./_export');\n\n$export($export.S, 'Math', {\n  log2: function log2(x) {\n    return Math.log(x) / Math.LN2;\n  }\n});\n","// 20.2.2.28 Math.sign(x)\nvar $export = require('./_export');\n\n$export($export.S, 'Math', { sign: require('./_math-sign') });\n","// 20.2.2.30 Math.sinh(x)\nvar $export = require('./_export');\nvar expm1 = require('./_math-expm1');\nvar exp = Math.exp;\n\n// V8 near Chromium 38 has a problem with very small numbers\n$export($export.S + $export.F * require('./_fails')(function () {\n  return !Math.sinh(-2e-17) != -2e-17;\n}), 'Math', {\n  sinh: function sinh(x) {\n    return Math.abs(x = +x) < 1\n      ? (expm1(x) - expm1(-x)) / 2\n      : (exp(x - 1) - exp(-x - 1)) * (Math.E / 2);\n  }\n});\n","// 20.2.2.33 Math.tanh(x)\nvar $export = require('./_export');\nvar expm1 = require('./_math-expm1');\nvar exp = Math.exp;\n\n$export($export.S, 'Math', {\n  tanh: function tanh(x) {\n    var a = expm1(x = +x);\n    var b = expm1(-x);\n    return a == Infinity ? 1 : b == Infinity ? -1 : (a - b) / (exp(x) + exp(-x));\n  }\n});\n","// 20.2.2.34 Math.trunc(x)\nvar $export = require('./_export');\n\n$export($export.S, 'Math', {\n  trunc: function trunc(it) {\n    return (it > 0 ? Math.floor : Math.ceil)(it);\n  }\n});\n","var $export = require('./_export');\nvar toAbsoluteIndex = require('./_to-absolute-index');\nvar fromCharCode = String.fromCharCode;\nvar $fromCodePoint = String.fromCodePoint;\n\n// length should be 1, old FF problem\n$export($export.S + $export.F * (!!$fromCodePoint && $fromCodePoint.length != 1), 'String', {\n  // 21.1.2.2 String.fromCodePoint(...codePoints)\n  fromCodePoint: function fromCodePoint(x) { // eslint-disable-line no-unused-vars\n    var res = [];\n    var aLen = arguments.length;\n    var i = 0;\n    var code;\n    while (aLen > i) {\n      code = +arguments[i++];\n      if (toAbsoluteIndex(code, 0x10ffff) !== code) throw RangeError(code + ' is not a valid code point');\n      res.push(code < 0x10000\n        ? fromCharCode(code)\n        : fromCharCode(((code -= 0x10000) >> 10) + 0xd800, code % 0x400 + 0xdc00)\n      );\n    } return res.join('');\n  }\n});\n","var $export = require('./_export');\nvar toIObject = require('./_to-iobject');\nvar toLength = require('./_to-length');\n\n$export($export.S, 'String', {\n  // 21.1.2.4 String.raw(callSite, ...substitutions)\n  raw: function raw(callSite) {\n    var tpl = toIObject(callSite.raw);\n    var len = toLength(tpl.length);\n    var aLen = arguments.length;\n    var res = [];\n    var i = 0;\n    while (len > i) {\n      res.push(String(tpl[i++]));\n      if (i < aLen) res.push(String(arguments[i]));\n    } return res.join('');\n  }\n});\n","'use strict';\n// 21.1.3.25 String.prototype.trim()\nrequire('./_string-trim')('trim', function ($trim) {\n  return function trim() {\n    return $trim(this, 3);\n  };\n});\n","'use strict';\nvar $at = require('./_string-at')(true);\n\n// 21.1.3.27 String.prototype[@@iterator]()\nrequire('./_iter-define')(String, 'String', function (iterated) {\n  this._t = String(iterated); // target\n  this._i = 0;                // next index\n// 21.1.5.2.1 %StringIteratorPrototype%.next()\n}, function () {\n  var O = this._t;\n  var index = this._i;\n  var point;\n  if (index >= O.length) return { value: undefined, done: true };\n  point = $at(O, index);\n  this._i += point.length;\n  return { value: point, done: false };\n});\n","'use strict';\nvar $export = require('./_export');\nvar $at = require('./_string-at')(false);\n$export($export.P, 'String', {\n  // 21.1.3.3 String.prototype.codePointAt(pos)\n  codePointAt: function codePointAt(pos) {\n    return $at(this, pos);\n  }\n});\n","// 21.1.3.6 String.prototype.endsWith(searchString [, endPosition])\n'use strict';\nvar $export = require('./_export');\nvar toLength = require('./_to-length');\nvar context = require('./_string-context');\nvar ENDS_WITH = 'endsWith';\nvar $endsWith = ''[ENDS_WITH];\n\n$export($export.P + $export.F * require('./_fails-is-regexp')(ENDS_WITH), 'String', {\n  endsWith: function endsWith(searchString /* , endPosition = @length */) {\n    var that = context(this, searchString, ENDS_WITH);\n    var endPosition = arguments.length > 1 ? arguments[1] : undefined;\n    var len = toLength(that.length);\n    var end = endPosition === undefined ? len : Math.min(toLength(endPosition), len);\n    var search = String(searchString);\n    return $endsWith\n      ? $endsWith.call(that, search, end)\n      : that.slice(end - search.length, end) === search;\n  }\n});\n","// 21.1.3.7 String.prototype.includes(searchString, position = 0)\n'use strict';\nvar $export = require('./_export');\nvar context = require('./_string-context');\nvar INCLUDES = 'includes';\n\n$export($export.P + $export.F * require('./_fails-is-regexp')(INCLUDES), 'String', {\n  includes: function includes(searchString /* , position = 0 */) {\n    return !!~context(this, searchString, INCLUDES)\n      .indexOf(searchString, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n","var $export = require('./_export');\n\n$export($export.P, 'String', {\n  // 21.1.3.13 String.prototype.repeat(count)\n  repeat: require('./_string-repeat')\n});\n","// 21.1.3.18 String.prototype.startsWith(searchString [, position ])\n'use strict';\nvar $export = require('./_export');\nvar toLength = require('./_to-length');\nvar context = require('./_string-context');\nvar STARTS_WITH = 'startsWith';\nvar $startsWith = ''[STARTS_WITH];\n\n$export($export.P + $export.F * require('./_fails-is-regexp')(STARTS_WITH), 'String', {\n  startsWith: function startsWith(searchString /* , position = 0 */) {\n    var that = context(this, searchString, STARTS_WITH);\n    var index = toLength(Math.min(arguments.length > 1 ? arguments[1] : undefined, that.length));\n    var search = String(searchString);\n    return $startsWith\n      ? $startsWith.call(that, search, index)\n      : that.slice(index, index + search.length) === search;\n  }\n});\n","'use strict';\n// B.2.3.2 String.prototype.anchor(name)\nrequire('./_string-html')('anchor', function (createHTML) {\n  return function anchor(name) {\n    return createHTML(this, 'a', 'name', name);\n  };\n});\n","'use strict';\n// B.2.3.3 String.prototype.big()\nrequire('./_string-html')('big', function (createHTML) {\n  return function big() {\n    return createHTML(this, 'big', '', '');\n  };\n});\n","'use strict';\n// B.2.3.4 String.prototype.blink()\nrequire('./_string-html')('blink', function (createHTML) {\n  return function blink() {\n    return createHTML(this, 'blink', '', '');\n  };\n});\n","'use strict';\n// B.2.3.5 String.prototype.bold()\nrequire('./_string-html')('bold', function (createHTML) {\n  return function bold() {\n    return createHTML(this, 'b', '', '');\n  };\n});\n","'use strict';\n// B.2.3.6 String.prototype.fixed()\nrequire('./_string-html')('fixed', function (createHTML) {\n  return function fixed() {\n    return createHTML(this, 'tt', '', '');\n  };\n});\n","'use strict';\n// B.2.3.7 String.prototype.fontcolor(color)\nrequire('./_string-html')('fontcolor', function (createHTML) {\n  return function fontcolor(color) {\n    return createHTML(this, 'font', 'color', color);\n  };\n});\n","'use strict';\n// B.2.3.8 String.prototype.fontsize(size)\nrequire('./_string-html')('fontsize', function (createHTML) {\n  return function fontsize(size) {\n    return createHTML(this, 'font', 'size', size);\n  };\n});\n","'use strict';\n// B.2.3.9 String.prototype.italics()\nrequire('./_string-html')('italics', function (createHTML) {\n  return function italics() {\n    return createHTML(this, 'i', '', '');\n  };\n});\n","'use strict';\n// B.2.3.10 String.prototype.link(url)\nrequire('./_string-html')('link', function (createHTML) {\n  return function link(url) {\n    return createHTML(this, 'a', 'href', url);\n  };\n});\n","'use strict';\n// B.2.3.11 String.prototype.small()\nrequire('./_string-html')('small', function (createHTML) {\n  return function small() {\n    return createHTML(this, 'small', '', '');\n  };\n});\n","'use strict';\n// B.2.3.12 String.prototype.strike()\nrequire('./_string-html')('strike', function (createHTML) {\n  return function strike() {\n    return createHTML(this, 'strike', '', '');\n  };\n});\n","'use strict';\n// B.2.3.13 String.prototype.sub()\nrequire('./_string-html')('sub', function (createHTML) {\n  return function sub() {\n    return createHTML(this, 'sub', '', '');\n  };\n});\n","'use strict';\n// B.2.3.14 String.prototype.sup()\nrequire('./_string-html')('sup', function (createHTML) {\n  return function sup() {\n    return createHTML(this, 'sup', '', '');\n  };\n});\n","// 20.3.3.1 / 15.9.4.4 Date.now()\nvar $export = require('./_export');\n\n$export($export.S, 'Date', { now: function () { return new Date().getTime(); } });\n","'use strict';\nvar $export = require('./_export');\nvar toObject = require('./_to-object');\nvar toPrimitive = require('./_to-primitive');\n\n$export($export.P + $export.F * require('./_fails')(function () {\n  return new Date(NaN).toJSON() !== null\n    || Date.prototype.toJSON.call({ toISOString: function () { return 1; } }) !== 1;\n}), 'Date', {\n  // eslint-disable-next-line no-unused-vars\n  toJSON: function toJSON(key) {\n    var O = toObject(this);\n    var pv = toPrimitive(O);\n    return typeof pv == 'number' && !isFinite(pv) ? null : O.toISOString();\n  }\n});\n","// 20.3.4.36 / 15.9.5.43 Date.prototype.toISOString()\nvar $export = require('./_export');\nvar toISOString = require('./_date-to-iso-string');\n\n// PhantomJS / old WebKit has a broken implementations\n$export($export.P + $export.F * (Date.prototype.toISOString !== toISOString), 'Date', {\n  toISOString: toISOString\n});\n","'use strict';\n// 20.3.4.36 / 15.9.5.43 Date.prototype.toISOString()\nvar fails = require('./_fails');\nvar getTime = Date.prototype.getTime;\nvar $toISOString = Date.prototype.toISOString;\n\nvar lz = function (num) {\n  return num > 9 ? num : '0' + num;\n};\n\n// PhantomJS / old WebKit has a broken implementations\nmodule.exports = (fails(function () {\n  return $toISOString.call(new Date(-5e13 - 1)) != '0385-07-25T07:06:39.999Z';\n}) || !fails(function () {\n  $toISOString.call(new Date(NaN));\n})) ? function toISOString() {\n  if (!isFinite(getTime.call(this))) throw RangeError('Invalid time value');\n  var d = this;\n  var y = d.getUTCFullYear();\n  var m = d.getUTCMilliseconds();\n  var s = y < 0 ? '-' : y > 9999 ? '+' : '';\n  return s + ('00000' + Math.abs(y)).slice(s ? -6 : -4) +\n    '-' + lz(d.getUTCMonth() + 1) + '-' + lz(d.getUTCDate()) +\n    'T' + lz(d.getUTCHours()) + ':' + lz(d.getUTCMinutes()) +\n    ':' + lz(d.getUTCSeconds()) + '.' + (m > 99 ? m : '0' + lz(m)) + 'Z';\n} : $toISOString;\n","var DateProto = Date.prototype;\nvar INVALID_DATE = 'Invalid Date';\nvar TO_STRING = 'toString';\nvar $toString = DateProto[TO_STRING];\nvar getTime = DateProto.getTime;\nif (new Date(NaN) + '' != INVALID_DATE) {\n  require('./_redefine')(DateProto, TO_STRING, function toString() {\n    var value = getTime.call(this);\n    // eslint-disable-next-line no-self-compare\n    return value === value ? $toString.call(this) : INVALID_DATE;\n  });\n}\n","var TO_PRIMITIVE = require('./_wks')('toPrimitive');\nvar proto = Date.prototype;\n\nif (!(TO_PRIMITIVE in proto)) require('./_hide')(proto, TO_PRIMITIVE, require('./_date-to-primitive'));\n","'use strict';\nvar anObject = require('./_an-object');\nvar toPrimitive = require('./_to-primitive');\nvar NUMBER = 'number';\n\nmodule.exports = function (hint) {\n  if (hint !== 'string' && hint !== NUMBER && hint !== 'default') throw TypeError('Incorrect hint');\n  return toPrimitive(anObject(this), hint != NUMBER);\n};\n","// 22.1.2.2 / 15.4.3.2 Array.isArray(arg)\nvar $export = require('./_export');\n\n$export($export.S, 'Array', { isArray: require('./_is-array') });\n","'use strict';\nvar ctx = require('./_ctx');\nvar $export = require('./_export');\nvar toObject = require('./_to-object');\nvar call = require('./_iter-call');\nvar isArrayIter = require('./_is-array-iter');\nvar toLength = require('./_to-length');\nvar createProperty = require('./_create-property');\nvar getIterFn = require('./core.get-iterator-method');\n\n$export($export.S + $export.F * !require('./_iter-detect')(function (iter) { Array.from(iter); }), 'Array', {\n  // 22.1.2.1 Array.from(arrayLike, mapfn = undefined, thisArg = undefined)\n  from: function from(arrayLike /* , mapfn = undefined, thisArg = undefined */) {\n    var O = toObject(arrayLike);\n    var C = typeof this == 'function' ? this : Array;\n    var aLen = arguments.length;\n    var mapfn = aLen > 1 ? arguments[1] : undefined;\n    var mapping = mapfn !== undefined;\n    var index = 0;\n    var iterFn = getIterFn(O);\n    var length, result, step, iterator;\n    if (mapping) mapfn = ctx(mapfn, aLen > 2 ? arguments[2] : undefined, 2);\n    // if object isn't iterable or it's array with default iterator - use simple case\n    if (iterFn != undefined && !(C == Array && isArrayIter(iterFn))) {\n      for (iterator = iterFn.call(O), result = new C(); !(step = iterator.next()).done; index++) {\n        createProperty(result, index, mapping ? call(iterator, mapfn, [step.value, index], true) : step.value);\n      }\n    } else {\n      length = toLength(O.length);\n      for (result = new C(length); length > index; index++) {\n        createProperty(result, index, mapping ? mapfn(O[index], index) : O[index]);\n      }\n    }\n    result.length = index;\n    return result;\n  }\n});\n","'use strict';\nvar $export = require('./_export');\nvar createProperty = require('./_create-property');\n\n// WebKit Array.of isn't generic\n$export($export.S + $export.F * require('./_fails')(function () {\n  function F() { /* empty */ }\n  return !(Array.of.call(F) instanceof F);\n}), 'Array', {\n  // 22.1.2.3 Array.of( ...items)\n  of: function of(/* ...args */) {\n    var index = 0;\n    var aLen = arguments.length;\n    var result = new (typeof this == 'function' ? this : Array)(aLen);\n    while (aLen > index) createProperty(result, index, arguments[index++]);\n    result.length = aLen;\n    return result;\n  }\n});\n","'use strict';\n// 22.1.3.13 Array.prototype.join(separator)\nvar $export = require('./_export');\nvar toIObject = require('./_to-iobject');\nvar arrayJoin = [].join;\n\n// fallback for not array-like strings\n$export($export.P + $export.F * (require('./_iobject') != Object || !require('./_strict-method')(arrayJoin)), 'Array', {\n  join: function join(separator) {\n    return arrayJoin.call(toIObject(this), separator === undefined ? ',' : separator);\n  }\n});\n","'use strict';\nvar $export = require('./_export');\nvar html = require('./_html');\nvar cof = require('./_cof');\nvar toAbsoluteIndex = require('./_to-absolute-index');\nvar toLength = require('./_to-length');\nvar arraySlice = [].slice;\n\n// fallback for not array-like ES3 strings and DOM objects\n$export($export.P + $export.F * require('./_fails')(function () {\n  if (html) arraySlice.call(html);\n}), 'Array', {\n  slice: function slice(begin, end) {\n    var len = toLength(this.length);\n    var klass = cof(this);\n    end = end === undefined ? len : end;\n    if (klass == 'Array') return arraySlice.call(this, begin, end);\n    var start = toAbsoluteIndex(begin, len);\n    var upTo = toAbsoluteIndex(end, len);\n    var size = toLength(upTo - start);\n    var cloned = new Array(size);\n    var i = 0;\n    for (; i < size; i++) cloned[i] = klass == 'String'\n      ? this.charAt(start + i)\n      : this[start + i];\n    return cloned;\n  }\n});\n","'use strict';\nvar $export = require('./_export');\nvar aFunction = require('./_a-function');\nvar toObject = require('./_to-object');\nvar fails = require('./_fails');\nvar $sort = [].sort;\nvar test = [1, 2, 3];\n\n$export($export.P + $export.F * (fails(function () {\n  // IE8-\n  test.sort(undefined);\n}) || !fails(function () {\n  // V8 bug\n  test.sort(null);\n  // Old WebKit\n}) || !require('./_strict-method')($sort)), 'Array', {\n  // 22.1.3.25 Array.prototype.sort(comparefn)\n  sort: function sort(comparefn) {\n    return comparefn === undefined\n      ? $sort.call(toObject(this))\n      : $sort.call(toObject(this), aFunction(comparefn));\n  }\n});\n","'use strict';\nvar $export = require('./_export');\nvar $forEach = require('./_array-methods')(0);\nvar STRICT = require('./_strict-method')([].forEach, true);\n\n$export($export.P + $export.F * !STRICT, 'Array', {\n  // 22.1.3.10 / 15.4.4.18 Array.prototype.forEach(callbackfn [, thisArg])\n  forEach: function forEach(callbackfn /* , thisArg */) {\n    return $forEach(this, callbackfn, arguments[1]);\n  }\n});\n","var isObject = require('./_is-object');\nvar isArray = require('./_is-array');\nvar SPECIES = require('./_wks')('species');\n\nmodule.exports = function (original) {\n  var C;\n  if (isArray(original)) {\n    C = original.constructor;\n    // cross-realm fallback\n    if (typeof C == 'function' && (C === Array || isArray(C.prototype))) C = undefined;\n    if (isObject(C)) {\n      C = C[SPECIES];\n      if (C === null) C = undefined;\n    }\n  } return C === undefined ? Array : C;\n};\n","'use strict';\nvar $export = require('./_export');\nvar $map = require('./_array-methods')(1);\n\n$export($export.P + $export.F * !require('./_strict-method')([].map, true), 'Array', {\n  // 22.1.3.15 / 15.4.4.19 Array.prototype.map(callbackfn [, thisArg])\n  map: function map(callbackfn /* , thisArg */) {\n    return $map(this, callbackfn, arguments[1]);\n  }\n});\n","'use strict';\nvar $export = require('./_export');\nvar $filter = require('./_array-methods')(2);\n\n$export($export.P + $export.F * !require('./_strict-method')([].filter, true), 'Array', {\n  // 22.1.3.7 / 15.4.4.20 Array.prototype.filter(callbackfn [, thisArg])\n  filter: function filter(callbackfn /* , thisArg */) {\n    return $filter(this, callbackfn, arguments[1]);\n  }\n});\n","'use strict';\nvar $export = require('./_export');\nvar $some = require('./_array-methods')(3);\n\n$export($export.P + $export.F * !require('./_strict-method')([].some, true), 'Array', {\n  // 22.1.3.23 / 15.4.4.17 Array.prototype.some(callbackfn [, thisArg])\n  some: function some(callbackfn /* , thisArg */) {\n    return $some(this, callbackfn, arguments[1]);\n  }\n});\n","'use strict';\nvar $export = require('./_export');\nvar $every = require('./_array-methods')(4);\n\n$export($export.P + $export.F * !require('./_strict-method')([].every, true), 'Array', {\n  // 22.1.3.5 / 15.4.4.16 Array.prototype.every(callbackfn [, thisArg])\n  every: function every(callbackfn /* , thisArg */) {\n    return $every(this, callbackfn, arguments[1]);\n  }\n});\n","'use strict';\nvar $export = require('./_export');\nvar $reduce = require('./_array-reduce');\n\n$export($export.P + $export.F * !require('./_strict-method')([].reduce, true), 'Array', {\n  // 22.1.3.18 / 15.4.4.21 Array.prototype.reduce(callbackfn [, initialValue])\n  reduce: function reduce(callbackfn /* , initialValue */) {\n    return $reduce(this, callbackfn, arguments.length, arguments[1], false);\n  }\n});\n","'use strict';\nvar $export = require('./_export');\nvar $reduce = require('./_array-reduce');\n\n$export($export.P + $export.F * !require('./_strict-method')([].reduceRight, true), 'Array', {\n  // 22.1.3.19 / 15.4.4.22 Array.prototype.reduceRight(callbackfn [, initialValue])\n  reduceRight: function reduceRight(callbackfn /* , initialValue */) {\n    return $reduce(this, callbackfn, arguments.length, arguments[1], true);\n  }\n});\n","'use strict';\nvar $export = require('./_export');\nvar $indexOf = require('./_array-includes')(false);\nvar $native = [].indexOf;\nvar NEGATIVE_ZERO = !!$native && 1 / [1].indexOf(1, -0) < 0;\n\n$export($export.P + $export.F * (NEGATIVE_ZERO || !require('./_strict-method')($native)), 'Array', {\n  // 22.1.3.11 / 15.4.4.14 Array.prototype.indexOf(searchElement [, fromIndex])\n  indexOf: function indexOf(searchElement /* , fromIndex = 0 */) {\n    return NEGATIVE_ZERO\n      // convert -0 to +0\n      ? $native.apply(this, arguments) || 0\n      : $indexOf(this, searchElement, arguments[1]);\n  }\n});\n","'use strict';\nvar $export = require('./_export');\nvar toIObject = require('./_to-iobject');\nvar toInteger = require('./_to-integer');\nvar toLength = require('./_to-length');\nvar $native = [].lastIndexOf;\nvar NEGATIVE_ZERO = !!$native && 1 / [1].lastIndexOf(1, -0) < 0;\n\n$export($export.P + $export.F * (NEGATIVE_ZERO || !require('./_strict-method')($native)), 'Array', {\n  // 22.1.3.14 / 15.4.4.15 Array.prototype.lastIndexOf(searchElement [, fromIndex])\n  lastIndexOf: function lastIndexOf(searchElement /* , fromIndex = @[*-1] */) {\n    // convert -0 to +0\n    if (NEGATIVE_ZERO) return $native.apply(this, arguments) || 0;\n    var O = toIObject(this);\n    var length = toLength(O.length);\n    var index = length - 1;\n    if (arguments.length > 1) index = Math.min(index, toInteger(arguments[1]));\n    if (index < 0) index = length + index;\n    for (;index >= 0; index--) if (index in O) if (O[index] === searchElement) return index || 0;\n    return -1;\n  }\n});\n","// 22.1.3.3 Array.prototype.copyWithin(target, start, end = this.length)\nvar $export = require('./_export');\n\n$export($export.P, 'Array', { copyWithin: require('./_array-copy-within') });\n\nrequire('./_add-to-unscopables')('copyWithin');\n","// 22.1.3.6 Array.prototype.fill(value, start = 0, end = this.length)\nvar $export = require('./_export');\n\n$export($export.P, 'Array', { fill: require('./_array-fill') });\n\nrequire('./_add-to-unscopables')('fill');\n","'use strict';\n// 22.1.3.8 Array.prototype.find(predicate, thisArg = undefined)\nvar $export = require('./_export');\nvar $find = require('./_array-methods')(5);\nvar KEY = 'find';\nvar forced = true;\n// Shouldn't skip holes\nif (KEY in []) Array(1)[KEY](function () { forced = false; });\n$export($export.P + $export.F * forced, 'Array', {\n  find: function find(callbackfn /* , that = undefined */) {\n    return $find(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\nrequire('./_add-to-unscopables')(KEY);\n","'use strict';\n// 22.1.3.9 Array.prototype.findIndex(predicate, thisArg = undefined)\nvar $export = require('./_export');\nvar $find = require('./_array-methods')(6);\nvar KEY = 'findIndex';\nvar forced = true;\n// Shouldn't skip holes\nif (KEY in []) Array(1)[KEY](function () { forced = false; });\n$export($export.P + $export.F * forced, 'Array', {\n  findIndex: function findIndex(callbackfn /* , that = undefined */) {\n    return $find(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\nrequire('./_add-to-unscopables')(KEY);\n","require('./_set-species')('Array');\n","var global = require('./_global');\nvar inheritIfRequired = require('./_inherit-if-required');\nvar dP = require('./_object-dp').f;\nvar gOPN = require('./_object-gopn').f;\nvar isRegExp = require('./_is-regexp');\nvar $flags = require('./_flags');\nvar $RegExp = global.RegExp;\nvar Base = $RegExp;\nvar proto = $RegExp.prototype;\nvar re1 = /a/g;\nvar re2 = /a/g;\n// \"new\" creates a new object, old webkit buggy here\nvar CORRECT_NEW = new $RegExp(re1) !== re1;\n\nif (require('./_descriptors') && (!CORRECT_NEW || require('./_fails')(function () {\n  re2[require('./_wks')('match')] = false;\n  // RegExp constructor can alter flags and IsRegExp works correct with @@match\n  return $RegExp(re1) != re1 || $RegExp(re2) == re2 || $RegExp(re1, 'i') != '/a/i';\n}))) {\n  $RegExp = function RegExp(p, f) {\n    var tiRE = this instanceof $RegExp;\n    var piRE = isRegExp(p);\n    var fiU = f === undefined;\n    return !tiRE && piRE && p.constructor === $RegExp && fiU ? p\n      : inheritIfRequired(CORRECT_NEW\n        ? new Base(piRE && !fiU ? p.source : p, f)\n        : Base((piRE = p instanceof $RegExp) ? p.source : p, piRE && fiU ? $flags.call(p) : f)\n      , tiRE ? this : proto, $RegExp);\n  };\n  var proxy = function (key) {\n    key in $RegExp || dP($RegExp, key, {\n      configurable: true,\n      get: function () { return Base[key]; },\n      set: function (it) { Base[key] = it; }\n    });\n  };\n  for (var keys = gOPN(Base), i = 0; keys.length > i;) proxy(keys[i++]);\n  proto.constructor = $RegExp;\n  $RegExp.prototype = proto;\n  require('./_redefine')(global, 'RegExp', $RegExp);\n}\n\nrequire('./_set-species')('RegExp');\n","'use strict';\nrequire('./es6.regexp.flags');\nvar anObject = require('./_an-object');\nvar $flags = require('./_flags');\nvar DESCRIPTORS = require('./_descriptors');\nvar TO_STRING = 'toString';\nvar $toString = /./[TO_STRING];\n\nvar define = function (fn) {\n  require('./_redefine')(RegExp.prototype, TO_STRING, fn, true);\n};\n\n// 21.2.5.14 RegExp.prototype.toString()\nif (require('./_fails')(function () { return $toString.call({ source: 'a', flags: 'b' }) != '/a/b'; })) {\n  define(function toString() {\n    var R = anObject(this);\n    return '/'.concat(R.source, '/',\n      'flags' in R ? R.flags : !DESCRIPTORS && R instanceof RegExp ? $flags.call(R) : undefined);\n  });\n// FF44- RegExp#toString has a wrong name\n} else if ($toString.name != TO_STRING) {\n  define(function toString() {\n    return $toString.call(this);\n  });\n}\n","'use strict';\n\nvar anObject = require('./_an-object');\nvar toLength = require('./_to-length');\nvar advanceStringIndex = require('./_advance-string-index');\nvar regExpExec = require('./_regexp-exec-abstract');\n\n// @@match logic\nrequire('./_fix-re-wks')('match', 1, function (defined, MATCH, $match, maybeCallNative) {\n  return [\n    // `String.prototype.match` method\n    // https://tc39.github.io/ecma262/#sec-string.prototype.match\n    function match(regexp) {\n      var O = defined(this);\n      var fn = regexp == undefined ? undefined : regexp[MATCH];\n      return fn !== undefined ? fn.call(regexp, O) : new RegExp(regexp)[MATCH](String(O));\n    },\n    // `RegExp.prototype[@@match]` method\n    // https://tc39.github.io/ecma262/#sec-regexp.prototype-@@match\n    function (regexp) {\n      var res = maybeCallNative($match, regexp, this);\n      if (res.done) return res.value;\n      var rx = anObject(regexp);\n      var S = String(this);\n      if (!rx.global) return regExpExec(rx, S);\n      var fullUnicode = rx.unicode;\n      rx.lastIndex = 0;\n      var A = [];\n      var n = 0;\n      var result;\n      while ((result = regExpExec(rx, S)) !== null) {\n        var matchStr = String(result[0]);\n        A[n] = matchStr;\n        if (matchStr === '') rx.lastIndex = advanceStringIndex(S, toLength(rx.lastIndex), fullUnicode);\n        n++;\n      }\n      return n === 0 ? null : A;\n    }\n  ];\n});\n","'use strict';\n\nvar anObject = require('./_an-object');\nvar toObject = require('./_to-object');\nvar toLength = require('./_to-length');\nvar toInteger = require('./_to-integer');\nvar advanceStringIndex = require('./_advance-string-index');\nvar regExpExec = require('./_regexp-exec-abstract');\nvar max = Math.max;\nvar min = Math.min;\nvar floor = Math.floor;\nvar SUBSTITUTION_SYMBOLS = /\\$([$&`']|\\d\\d?|<[^>]*>)/g;\nvar SUBSTITUTION_SYMBOLS_NO_NAMED = /\\$([$&`']|\\d\\d?)/g;\n\nvar maybeToString = function (it) {\n  return it === undefined ? it : String(it);\n};\n\n// @@replace logic\nrequire('./_fix-re-wks')('replace', 2, function (defined, REPLACE, $replace, maybeCallNative) {\n  return [\n    // `String.prototype.replace` method\n    // https://tc39.github.io/ecma262/#sec-string.prototype.replace\n    function replace(searchValue, replaceValue) {\n      var O = defined(this);\n      var fn = searchValue == undefined ? undefined : searchValue[REPLACE];\n      return fn !== undefined\n        ? fn.call(searchValue, O, replaceValue)\n        : $replace.call(String(O), searchValue, replaceValue);\n    },\n    // `RegExp.prototype[@@replace]` method\n    // https://tc39.github.io/ecma262/#sec-regexp.prototype-@@replace\n    function (regexp, replaceValue) {\n      var res = maybeCallNative($replace, regexp, this, replaceValue);\n      if (res.done) return res.value;\n\n      var rx = anObject(regexp);\n      var S = String(this);\n      var functionalReplace = typeof replaceValue === 'function';\n      if (!functionalReplace) replaceValue = String(replaceValue);\n      var global = rx.global;\n      if (global) {\n        var fullUnicode = rx.unicode;\n        rx.lastIndex = 0;\n      }\n      var results = [];\n      while (true) {\n        var result = regExpExec(rx, S);\n        if (result === null) break;\n        results.push(result);\n        if (!global) break;\n        var matchStr = String(result[0]);\n        if (matchStr === '') rx.lastIndex = advanceStringIndex(S, toLength(rx.lastIndex), fullUnicode);\n      }\n      var accumulatedResult = '';\n      var nextSourcePosition = 0;\n      for (var i = 0; i < results.length; i++) {\n        result = results[i];\n        var matched = String(result[0]);\n        var position = max(min(toInteger(result.index), S.length), 0);\n        var captures = [];\n        // NOTE: This is equivalent to\n        //   captures = result.slice(1).map(maybeToString)\n        // but for some reason `nativeSlice.call(result, 1, result.length)` (called in\n        // the slice polyfill when slicing native arrays) \"doesn't work\" in safari 9 and\n        // causes a crash (https://pastebin.com/N21QzeQA) when trying to debug it.\n        for (var j = 1; j < result.length; j++) captures.push(maybeToString(result[j]));\n        var namedCaptures = result.groups;\n        if (functionalReplace) {\n          var replacerArgs = [matched].concat(captures, position, S);\n          if (namedCaptures !== undefined) replacerArgs.push(namedCaptures);\n          var replacement = String(replaceValue.apply(undefined, replacerArgs));\n        } else {\n          replacement = getSubstitution(matched, S, position, captures, namedCaptures, replaceValue);\n        }\n        if (position >= nextSourcePosition) {\n          accumulatedResult += S.slice(nextSourcePosition, position) + replacement;\n          nextSourcePosition = position + matched.length;\n        }\n      }\n      return accumulatedResult + S.slice(nextSourcePosition);\n    }\n  ];\n\n    // https://tc39.github.io/ecma262/#sec-getsubstitution\n  function getSubstitution(matched, str, position, captures, namedCaptures, replacement) {\n    var tailPos = position + matched.length;\n    var m = captures.length;\n    var symbols = SUBSTITUTION_SYMBOLS_NO_NAMED;\n    if (namedCaptures !== undefined) {\n      namedCaptures = toObject(namedCaptures);\n      symbols = SUBSTITUTION_SYMBOLS;\n    }\n    return $replace.call(replacement, symbols, function (match, ch) {\n      var capture;\n      switch (ch.charAt(0)) {\n        case '$': return '$';\n        case '&': return matched;\n        case '`': return str.slice(0, position);\n        case \"'\": return str.slice(tailPos);\n        case '<':\n          capture = namedCaptures[ch.slice(1, -1)];\n          break;\n        default: // \\d\\d?\n          var n = +ch;\n          if (n === 0) return match;\n          if (n > m) {\n            var f = floor(n / 10);\n            if (f === 0) return match;\n            if (f <= m) return captures[f - 1] === undefined ? ch.charAt(1) : captures[f - 1] + ch.charAt(1);\n            return match;\n          }\n          capture = captures[n - 1];\n      }\n      return capture === undefined ? '' : capture;\n    });\n  }\n});\n","'use strict';\n\nvar anObject = require('./_an-object');\nvar sameValue = require('./_same-value');\nvar regExpExec = require('./_regexp-exec-abstract');\n\n// @@search logic\nrequire('./_fix-re-wks')('search', 1, function (defined, SEARCH, $search, maybeCallNative) {\n  return [\n    // `String.prototype.search` method\n    // https://tc39.github.io/ecma262/#sec-string.prototype.search\n    function search(regexp) {\n      var O = defined(this);\n      var fn = regexp == undefined ? undefined : regexp[SEARCH];\n      return fn !== undefined ? fn.call(regexp, O) : new RegExp(regexp)[SEARCH](String(O));\n    },\n    // `RegExp.prototype[@@search]` method\n    // https://tc39.github.io/ecma262/#sec-regexp.prototype-@@search\n    function (regexp) {\n      var res = maybeCallNative($search, regexp, this);\n      if (res.done) return res.value;\n      var rx = anObject(regexp);\n      var S = String(this);\n      var previousLastIndex = rx.lastIndex;\n      if (!sameValue(previousLastIndex, 0)) rx.lastIndex = 0;\n      var result = regExpExec(rx, S);\n      if (!sameValue(rx.lastIndex, previousLastIndex)) rx.lastIndex = previousLastIndex;\n      return result === null ? -1 : result.index;\n    }\n  ];\n});\n","'use strict';\n\nvar isRegExp = require('./_is-regexp');\nvar anObject = require('./_an-object');\nvar speciesConstructor = require('./_species-constructor');\nvar advanceStringIndex = require('./_advance-string-index');\nvar toLength = require('./_to-length');\nvar callRegExpExec = require('./_regexp-exec-abstract');\nvar regexpExec = require('./_regexp-exec');\nvar fails = require('./_fails');\nvar $min = Math.min;\nvar $push = [].push;\nvar $SPLIT = 'split';\nvar LENGTH = 'length';\nvar LAST_INDEX = 'lastIndex';\nvar MAX_UINT32 = 0xffffffff;\n\n// babel-minify transpiles RegExp('x', 'y') -> /x/y and it causes SyntaxError\nvar SUPPORTS_Y = !fails(function () { RegExp(MAX_UINT32, 'y'); });\n\n// @@split logic\nrequire('./_fix-re-wks')('split', 2, function (defined, SPLIT, $split, maybeCallNative) {\n  var internalSplit;\n  if (\n    'abbc'[$SPLIT](/(b)*/)[1] == 'c' ||\n    'test'[$SPLIT](/(?:)/, -1)[LENGTH] != 4 ||\n    'ab'[$SPLIT](/(?:ab)*/)[LENGTH] != 2 ||\n    '.'[$SPLIT](/(.?)(.?)/)[LENGTH] != 4 ||\n    '.'[$SPLIT](/()()/)[LENGTH] > 1 ||\n    ''[$SPLIT](/.?/)[LENGTH]\n  ) {\n    // based on es5-shim implementation, need to rework it\n    internalSplit = function (separator, limit) {\n      var string = String(this);\n      if (separator === undefined && limit === 0) return [];\n      // If `separator` is not a regex, use native split\n      if (!isRegExp(separator)) return $split.call(string, separator, limit);\n      var output = [];\n      var flags = (separator.ignoreCase ? 'i' : '') +\n                  (separator.multiline ? 'm' : '') +\n                  (separator.unicode ? 'u' : '') +\n                  (separator.sticky ? 'y' : '');\n      var lastLastIndex = 0;\n      var splitLimit = limit === undefined ? MAX_UINT32 : limit >>> 0;\n      // Make `global` and avoid `lastIndex` issues by working with a copy\n      var separatorCopy = new RegExp(separator.source, flags + 'g');\n      var match, lastIndex, lastLength;\n      while (match = regexpExec.call(separatorCopy, string)) {\n        lastIndex = separatorCopy[LAST_INDEX];\n        if (lastIndex > lastLastIndex) {\n          output.push(string.slice(lastLastIndex, match.index));\n          if (match[LENGTH] > 1 && match.index < string[LENGTH]) $push.apply(output, match.slice(1));\n          lastLength = match[0][LENGTH];\n          lastLastIndex = lastIndex;\n          if (output[LENGTH] >= splitLimit) break;\n        }\n        if (separatorCopy[LAST_INDEX] === match.index) separatorCopy[LAST_INDEX]++; // Avoid an infinite loop\n      }\n      if (lastLastIndex === string[LENGTH]) {\n        if (lastLength || !separatorCopy.test('')) output.push('');\n      } else output.push(string.slice(lastLastIndex));\n      return output[LENGTH] > splitLimit ? output.slice(0, splitLimit) : output;\n    };\n  // Chakra, V8\n  } else if ('0'[$SPLIT](undefined, 0)[LENGTH]) {\n    internalSplit = function (separator, limit) {\n      return separator === undefined && limit === 0 ? [] : $split.call(this, separator, limit);\n    };\n  } else {\n    internalSplit = $split;\n  }\n\n  return [\n    // `String.prototype.split` method\n    // https://tc39.github.io/ecma262/#sec-string.prototype.split\n    function split(separator, limit) {\n      var O = defined(this);\n      var splitter = separator == undefined ? undefined : separator[SPLIT];\n      return splitter !== undefined\n        ? splitter.call(separator, O, limit)\n        : internalSplit.call(String(O), separator, limit);\n    },\n    // `RegExp.prototype[@@split]` method\n    // https://tc39.github.io/ecma262/#sec-regexp.prototype-@@split\n    //\n    // NOTE: This cannot be properly polyfilled in engines that don't support\n    // the 'y' flag.\n    function (regexp, limit) {\n      var res = maybeCallNative(internalSplit, regexp, this, limit, internalSplit !== $split);\n      if (res.done) return res.value;\n\n      var rx = anObject(regexp);\n      var S = String(this);\n      var C = speciesConstructor(rx, RegExp);\n\n      var unicodeMatching = rx.unicode;\n      var flags = (rx.ignoreCase ? 'i' : '') +\n                  (rx.multiline ? 'm' : '') +\n                  (rx.unicode ? 'u' : '') +\n                  (SUPPORTS_Y ? 'y' : 'g');\n\n      // ^(? + rx + ) is needed, in combination with some S slicing, to\n      // simulate the 'y' flag.\n      var splitter = new C(SUPPORTS_Y ? rx : '^(?:' + rx.source + ')', flags);\n      var lim = limit === undefined ? MAX_UINT32 : limit >>> 0;\n      if (lim === 0) return [];\n      if (S.length === 0) return callRegExpExec(splitter, S) === null ? [S] : [];\n      var p = 0;\n      var q = 0;\n      var A = [];\n      while (q < S.length) {\n        splitter.lastIndex = SUPPORTS_Y ? q : 0;\n        var z = callRegExpExec(splitter, SUPPORTS_Y ? S : S.slice(q));\n        var e;\n        if (\n          z === null ||\n          (e = $min(toLength(splitter.lastIndex + (SUPPORTS_Y ? 0 : q)), S.length)) === p\n        ) {\n          q = advanceStringIndex(S, q, unicodeMatching);\n        } else {\n          A.push(S.slice(p, q));\n          if (A.length === lim) return A;\n          for (var i = 1; i <= z.length - 1; i++) {\n            A.push(z[i]);\n            if (A.length === lim) return A;\n          }\n          q = p = e;\n        }\n      }\n      A.push(S.slice(p));\n      return A;\n    }\n  ];\n});\n","'use strict';\nvar LIBRARY = require('./_library');\nvar global = require('./_global');\nvar ctx = require('./_ctx');\nvar classof = require('./_classof');\nvar $export = require('./_export');\nvar isObject = require('./_is-object');\nvar aFunction = require('./_a-function');\nvar anInstance = require('./_an-instance');\nvar forOf = require('./_for-of');\nvar speciesConstructor = require('./_species-constructor');\nvar task = require('./_task').set;\nvar microtask = require('./_microtask')();\nvar newPromiseCapabilityModule = require('./_new-promise-capability');\nvar perform = require('./_perform');\nvar userAgent = require('./_user-agent');\nvar promiseResolve = require('./_promise-resolve');\nvar PROMISE = 'Promise';\nvar TypeError = global.TypeError;\nvar process = global.process;\nvar versions = process && process.versions;\nvar v8 = versions && versions.v8 || '';\nvar $Promise = global[PROMISE];\nvar isNode = classof(process) == 'process';\nvar empty = function () { /* empty */ };\nvar Internal, newGenericPromiseCapability, OwnPromiseCapability, Wrapper;\nvar newPromiseCapability = newGenericPromiseCapability = newPromiseCapabilityModule.f;\n\nvar USE_NATIVE = !!function () {\n  try {\n    // correct subclassing with @@species support\n    var promise = $Promise.resolve(1);\n    var FakePromise = (promise.constructor = {})[require('./_wks')('species')] = function (exec) {\n      exec(empty, empty);\n    };\n    // unhandled rejections tracking support, NodeJS Promise without it fails @@species test\n    return (isNode || typeof PromiseRejectionEvent == 'function')\n      && promise.then(empty) instanceof FakePromise\n      // v8 6.6 (Node 10 and Chrome 66) have a bug with resolving custom thenables\n      // https://bugs.chromium.org/p/chromium/issues/detail?id=830565\n      // we can't detect it synchronously, so just check versions\n      && v8.indexOf('6.6') !== 0\n      && userAgent.indexOf('Chrome/66') === -1;\n  } catch (e) { /* empty */ }\n}();\n\n// helpers\nvar isThenable = function (it) {\n  var then;\n  return isObject(it) && typeof (then = it.then) == 'function' ? then : false;\n};\nvar notify = function (promise, isReject) {\n  if (promise._n) return;\n  promise._n = true;\n  var chain = promise._c;\n  microtask(function () {\n    var value = promise._v;\n    var ok = promise._s == 1;\n    var i = 0;\n    var run = function (reaction) {\n      var handler = ok ? reaction.ok : reaction.fail;\n      var resolve = reaction.resolve;\n      var reject = reaction.reject;\n      var domain = reaction.domain;\n      var result, then, exited;\n      try {\n        if (handler) {\n          if (!ok) {\n            if (promise._h == 2) onHandleUnhandled(promise);\n            promise._h = 1;\n          }\n          if (handler === true) result = value;\n          else {\n            if (domain) domain.enter();\n            result = handler(value); // may throw\n            if (domain) {\n              domain.exit();\n              exited = true;\n            }\n          }\n          if (result === reaction.promise) {\n            reject(TypeError('Promise-chain cycle'));\n          } else if (then = isThenable(result)) {\n            then.call(result, resolve, reject);\n          } else resolve(result);\n        } else reject(value);\n      } catch (e) {\n        if (domain && !exited) domain.exit();\n        reject(e);\n      }\n    };\n    while (chain.length > i) run(chain[i++]); // variable length - can't use forEach\n    promise._c = [];\n    promise._n = false;\n    if (isReject && !promise._h) onUnhandled(promise);\n  });\n};\nvar onUnhandled = function (promise) {\n  task.call(global, function () {\n    var value = promise._v;\n    var unhandled = isUnhandled(promise);\n    var result, handler, console;\n    if (unhandled) {\n      result = perform(function () {\n        if (isNode) {\n          process.emit('unhandledRejection', value, promise);\n        } else if (handler = global.onunhandledrejection) {\n          handler({ promise: promise, reason: value });\n        } else if ((console = global.console) && console.error) {\n          console.error('Unhandled promise rejection', value);\n        }\n      });\n      // Browsers should not trigger `rejectionHandled` event if it was handled here, NodeJS - should\n      promise._h = isNode || isUnhandled(promise) ? 2 : 1;\n    } promise._a = undefined;\n    if (unhandled && result.e) throw result.v;\n  });\n};\nvar isUnhandled = function (promise) {\n  return promise._h !== 1 && (promise._a || promise._c).length === 0;\n};\nvar onHandleUnhandled = function (promise) {\n  task.call(global, function () {\n    var handler;\n    if (isNode) {\n      process.emit('rejectionHandled', promise);\n    } else if (handler = global.onrejectionhandled) {\n      handler({ promise: promise, reason: promise._v });\n    }\n  });\n};\nvar $reject = function (value) {\n  var promise = this;\n  if (promise._d) return;\n  promise._d = true;\n  promise = promise._w || promise; // unwrap\n  promise._v = value;\n  promise._s = 2;\n  if (!promise._a) promise._a = promise._c.slice();\n  notify(promise, true);\n};\nvar $resolve = function (value) {\n  var promise = this;\n  var then;\n  if (promise._d) return;\n  promise._d = true;\n  promise = promise._w || promise; // unwrap\n  try {\n    if (promise === value) throw TypeError(\"Promise can't be resolved itself\");\n    if (then = isThenable(value)) {\n      microtask(function () {\n        var wrapper = { _w: promise, _d: false }; // wrap\n        try {\n          then.call(value, ctx($resolve, wrapper, 1), ctx($reject, wrapper, 1));\n        } catch (e) {\n          $reject.call(wrapper, e);\n        }\n      });\n    } else {\n      promise._v = value;\n      promise._s = 1;\n      notify(promise, false);\n    }\n  } catch (e) {\n    $reject.call({ _w: promise, _d: false }, e); // wrap\n  }\n};\n\n// constructor polyfill\nif (!USE_NATIVE) {\n  // 25.4.3.1 Promise(executor)\n  $Promise = function Promise(executor) {\n    anInstance(this, $Promise, PROMISE, '_h');\n    aFunction(executor);\n    Internal.call(this);\n    try {\n      executor(ctx($resolve, this, 1), ctx($reject, this, 1));\n    } catch (err) {\n      $reject.call(this, err);\n    }\n  };\n  // eslint-disable-next-line no-unused-vars\n  Internal = function Promise(executor) {\n    this._c = [];             // <- awaiting reactions\n    this._a = undefined;      // <- checked in isUnhandled reactions\n    this._s = 0;              // <- state\n    this._d = false;          // <- done\n    this._v = undefined;      // <- value\n    this._h = 0;              // <- rejection state, 0 - default, 1 - handled, 2 - unhandled\n    this._n = false;          // <- notify\n  };\n  Internal.prototype = require('./_redefine-all')($Promise.prototype, {\n    // 25.4.5.3 Promise.prototype.then(onFulfilled, onRejected)\n    then: function then(onFulfilled, onRejected) {\n      var reaction = newPromiseCapability(speciesConstructor(this, $Promise));\n      reaction.ok = typeof onFulfilled == 'function' ? onFulfilled : true;\n      reaction.fail = typeof onRejected == 'function' && onRejected;\n      reaction.domain = isNode ? process.domain : undefined;\n      this._c.push(reaction);\n      if (this._a) this._a.push(reaction);\n      if (this._s) notify(this, false);\n      return reaction.promise;\n    },\n    // 25.4.5.1 Promise.prototype.catch(onRejected)\n    'catch': function (onRejected) {\n      return this.then(undefined, onRejected);\n    }\n  });\n  OwnPromiseCapability = function () {\n    var promise = new Internal();\n    this.promise = promise;\n    this.resolve = ctx($resolve, promise, 1);\n    this.reject = ctx($reject, promise, 1);\n  };\n  newPromiseCapabilityModule.f = newPromiseCapability = function (C) {\n    return C === $Promise || C === Wrapper\n      ? new OwnPromiseCapability(C)\n      : newGenericPromiseCapability(C);\n  };\n}\n\n$export($export.G + $export.W + $export.F * !USE_NATIVE, { Promise: $Promise });\nrequire('./_set-to-string-tag')($Promise, PROMISE);\nrequire('./_set-species')(PROMISE);\nWrapper = require('./_core')[PROMISE];\n\n// statics\n$export($export.S + $export.F * !USE_NATIVE, PROMISE, {\n  // 25.4.4.5 Promise.reject(r)\n  reject: function reject(r) {\n    var capability = newPromiseCapability(this);\n    var $$reject = capability.reject;\n    $$reject(r);\n    return capability.promise;\n  }\n});\n$export($export.S + $export.F * (LIBRARY || !USE_NATIVE), PROMISE, {\n  // 25.4.4.6 Promise.resolve(x)\n  resolve: function resolve(x) {\n    return promiseResolve(LIBRARY && this === Wrapper ? $Promise : this, x);\n  }\n});\n$export($export.S + $export.F * !(USE_NATIVE && require('./_iter-detect')(function (iter) {\n  $Promise.all(iter)['catch'](empty);\n})), PROMISE, {\n  // 25.4.4.1 Promise.all(iterable)\n  all: function all(iterable) {\n    var C = this;\n    var capability = newPromiseCapability(C);\n    var resolve = capability.resolve;\n    var reject = capability.reject;\n    var result = perform(function () {\n      var values = [];\n      var index = 0;\n      var remaining = 1;\n      forOf(iterable, false, function (promise) {\n        var $index = index++;\n        var alreadyCalled = false;\n        values.push(undefined);\n        remaining++;\n        C.resolve(promise).then(function (value) {\n          if (alreadyCalled) return;\n          alreadyCalled = true;\n          values[$index] = value;\n          --remaining || resolve(values);\n        }, reject);\n      });\n      --remaining || resolve(values);\n    });\n    if (result.e) reject(result.v);\n    return capability.promise;\n  },\n  // 25.4.4.4 Promise.race(iterable)\n  race: function race(iterable) {\n    var C = this;\n    var capability = newPromiseCapability(C);\n    var reject = capability.reject;\n    var result = perform(function () {\n      forOf(iterable, false, function (promise) {\n        C.resolve(promise).then(capability.resolve, reject);\n      });\n    });\n    if (result.e) reject(result.v);\n    return capability.promise;\n  }\n});\n","'use strict';\nvar weak = require('./_collection-weak');\nvar validate = require('./_validate-collection');\nvar WEAK_SET = 'WeakSet';\n\n// 23.4 WeakSet Objects\nrequire('./_collection')(WEAK_SET, function (get) {\n  return function WeakSet() { return get(this, arguments.length > 0 ? arguments[0] : undefined); };\n}, {\n  // 23.4.3.1 WeakSet.prototype.add(value)\n  add: function add(value) {\n    return weak.def(validate(this, WEAK_SET), value, true);\n  }\n}, weak, false, true);\n","'use strict';\nvar $export = require('./_export');\nvar $typed = require('./_typed');\nvar buffer = require('./_typed-buffer');\nvar anObject = require('./_an-object');\nvar toAbsoluteIndex = require('./_to-absolute-index');\nvar toLength = require('./_to-length');\nvar isObject = require('./_is-object');\nvar ArrayBuffer = require('./_global').ArrayBuffer;\nvar speciesConstructor = require('./_species-constructor');\nvar $ArrayBuffer = buffer.ArrayBuffer;\nvar $DataView = buffer.DataView;\nvar $isView = $typed.ABV && ArrayBuffer.isView;\nvar $slice = $ArrayBuffer.prototype.slice;\nvar VIEW = $typed.VIEW;\nvar ARRAY_BUFFER = 'ArrayBuffer';\n\n$export($export.G + $export.W + $export.F * (ArrayBuffer !== $ArrayBuffer), { ArrayBuffer: $ArrayBuffer });\n\n$export($export.S + $export.F * !$typed.CONSTR, ARRAY_BUFFER, {\n  // 24.1.3.1 ArrayBuffer.isView(arg)\n  isView: function isView(it) {\n    return $isView && $isView(it) || isObject(it) && VIEW in it;\n  }\n});\n\n$export($export.P + $export.U + $export.F * require('./_fails')(function () {\n  return !new $ArrayBuffer(2).slice(1, undefined).byteLength;\n}), ARRAY_BUFFER, {\n  // 24.1.4.3 ArrayBuffer.prototype.slice(start, end)\n  slice: function slice(start, end) {\n    if ($slice !== undefined && end === undefined) return $slice.call(anObject(this), start); // FF fix\n    var len = anObject(this).byteLength;\n    var first = toAbsoluteIndex(start, len);\n    var fin = toAbsoluteIndex(end === undefined ? len : end, len);\n    var result = new (speciesConstructor(this, $ArrayBuffer))(toLength(fin - first));\n    var viewS = new $DataView(this);\n    var viewT = new $DataView(result);\n    var index = 0;\n    while (first < fin) {\n      viewT.setUint8(index++, viewS.getUint8(first++));\n    } return result;\n  }\n});\n\nrequire('./_set-species')(ARRAY_BUFFER);\n","var $export = require('./_export');\n$export($export.G + $export.W + $export.F * !require('./_typed').ABV, {\n  DataView: require('./_typed-buffer').DataView\n});\n","require('./_typed-array')('Int8', 1, function (init) {\n  return function Int8Array(data, byteOffset, length) {\n    return init(this, data, byteOffset, length);\n  };\n});\n","require('./_typed-array')('Uint8', 1, function (init) {\n  return function Uint8Array(data, byteOffset, length) {\n    return init(this, data, byteOffset, length);\n  };\n});\n","require('./_typed-array')('Uint8', 1, function (init) {\n  return function Uint8ClampedArray(data, byteOffset, length) {\n    return init(this, data, byteOffset, length);\n  };\n}, true);\n","require('./_typed-array')('Int16', 2, function (init) {\n  return function Int16Array(data, byteOffset, length) {\n    return init(this, data, byteOffset, length);\n  };\n});\n","require('./_typed-array')('Uint16', 2, function (init) {\n  return function Uint16Array(data, byteOffset, length) {\n    return init(this, data, byteOffset, length);\n  };\n});\n","require('./_typed-array')('Int32', 4, function (init) {\n  return function Int32Array(data, byteOffset, length) {\n    return init(this, data, byteOffset, length);\n  };\n});\n","require('./_typed-array')('Uint32', 4, function (init) {\n  return function Uint32Array(data, byteOffset, length) {\n    return init(this, data, byteOffset, length);\n  };\n});\n","require('./_typed-array')('Float32', 4, function (init) {\n  return function Float32Array(data, byteOffset, length) {\n    return init(this, data, byteOffset, length);\n  };\n});\n","require('./_typed-array')('Float64', 8, function (init) {\n  return function Float64Array(data, byteOffset, length) {\n    return init(this, data, byteOffset, length);\n  };\n});\n","// 26.1.1 Reflect.apply(target, thisArgument, argumentsList)\nvar $export = require('./_export');\nvar aFunction = require('./_a-function');\nvar anObject = require('./_an-object');\nvar rApply = (require('./_global').Reflect || {}).apply;\nvar fApply = Function.apply;\n// MS Edge argumentsList argument is optional\n$export($export.S + $export.F * !require('./_fails')(function () {\n  rApply(function () { /* empty */ });\n}), 'Reflect', {\n  apply: function apply(target, thisArgument, argumentsList) {\n    var T = aFunction(target);\n    var L = anObject(argumentsList);\n    return rApply ? rApply(T, thisArgument, L) : fApply.call(T, thisArgument, L);\n  }\n});\n","// 26.1.2 Reflect.construct(target, argumentsList [, newTarget])\nvar $export = require('./_export');\nvar create = require('./_object-create');\nvar aFunction = require('./_a-function');\nvar anObject = require('./_an-object');\nvar isObject = require('./_is-object');\nvar fails = require('./_fails');\nvar bind = require('./_bind');\nvar rConstruct = (require('./_global').Reflect || {}).construct;\n\n// MS Edge supports only 2 arguments and argumentsList argument is optional\n// FF Nightly sets third argument as `new.target`, but does not create `this` from it\nvar NEW_TARGET_BUG = fails(function () {\n  function F() { /* empty */ }\n  return !(rConstruct(function () { /* empty */ }, [], F) instanceof F);\n});\nvar ARGS_BUG = !fails(function () {\n  rConstruct(function () { /* empty */ });\n});\n\n$export($export.S + $export.F * (NEW_TARGET_BUG || ARGS_BUG), 'Reflect', {\n  construct: function construct(Target, args /* , newTarget */) {\n    aFunction(Target);\n    anObject(args);\n    var newTarget = arguments.length < 3 ? Target : aFunction(arguments[2]);\n    if (ARGS_BUG && !NEW_TARGET_BUG) return rConstruct(Target, args, newTarget);\n    if (Target == newTarget) {\n      // w/o altered newTarget, optimization for 0-4 arguments\n      switch (args.length) {\n        case 0: return new Target();\n        case 1: return new Target(args[0]);\n        case 2: return new Target(args[0], args[1]);\n        case 3: return new Target(args[0], args[1], args[2]);\n        case 4: return new Target(args[0], args[1], args[2], args[3]);\n      }\n      // w/o altered newTarget, lot of arguments case\n      var $args = [null];\n      $args.push.apply($args, args);\n      return new (bind.apply(Target, $args))();\n    }\n    // with altered newTarget, not support built-in constructors\n    var proto = newTarget.prototype;\n    var instance = create(isObject(proto) ? proto : Object.prototype);\n    var result = Function.apply.call(Target, instance, args);\n    return isObject(result) ? result : instance;\n  }\n});\n","// 26.1.3 Reflect.defineProperty(target, propertyKey, attributes)\nvar dP = require('./_object-dp');\nvar $export = require('./_export');\nvar anObject = require('./_an-object');\nvar toPrimitive = require('./_to-primitive');\n\n// MS Edge has broken Reflect.defineProperty - throwing instead of returning false\n$export($export.S + $export.F * require('./_fails')(function () {\n  // eslint-disable-next-line no-undef\n  Reflect.defineProperty(dP.f({}, 1, { value: 1 }), 1, { value: 2 });\n}), 'Reflect', {\n  defineProperty: function defineProperty(target, propertyKey, attributes) {\n    anObject(target);\n    propertyKey = toPrimitive(propertyKey, true);\n    anObject(attributes);\n    try {\n      dP.f(target, propertyKey, attributes);\n      return true;\n    } catch (e) {\n      return false;\n    }\n  }\n});\n","// 26.1.4 Reflect.deleteProperty(target, propertyKey)\nvar $export = require('./_export');\nvar gOPD = require('./_object-gopd').f;\nvar anObject = require('./_an-object');\n\n$export($export.S, 'Reflect', {\n  deleteProperty: function deleteProperty(target, propertyKey) {\n    var desc = gOPD(anObject(target), propertyKey);\n    return desc && !desc.configurable ? false : delete target[propertyKey];\n  }\n});\n","'use strict';\n// 26.1.5 Reflect.enumerate(target)\nvar $export = require('./_export');\nvar anObject = require('./_an-object');\nvar Enumerate = function (iterated) {\n  this._t = anObject(iterated); // target\n  this._i = 0;                  // next index\n  var keys = this._k = [];      // keys\n  var key;\n  for (key in iterated) keys.push(key);\n};\nrequire('./_iter-create')(Enumerate, 'Object', function () {\n  var that = this;\n  var keys = that._k;\n  var key;\n  do {\n    if (that._i >= keys.length) return { value: undefined, done: true };\n  } while (!((key = keys[that._i++]) in that._t));\n  return { value: key, done: false };\n});\n\n$export($export.S, 'Reflect', {\n  enumerate: function enumerate(target) {\n    return new Enumerate(target);\n  }\n});\n","// 26.1.6 Reflect.get(target, propertyKey [, receiver])\nvar gOPD = require('./_object-gopd');\nvar getPrototypeOf = require('./_object-gpo');\nvar has = require('./_has');\nvar $export = require('./_export');\nvar isObject = require('./_is-object');\nvar anObject = require('./_an-object');\n\nfunction get(target, propertyKey /* , receiver */) {\n  var receiver = arguments.length < 3 ? target : arguments[2];\n  var desc, proto;\n  if (anObject(target) === receiver) return target[propertyKey];\n  if (desc = gOPD.f(target, propertyKey)) return has(desc, 'value')\n    ? desc.value\n    : desc.get !== undefined\n      ? desc.get.call(receiver)\n      : undefined;\n  if (isObject(proto = getPrototypeOf(target))) return get(proto, propertyKey, receiver);\n}\n\n$export($export.S, 'Reflect', { get: get });\n","// 26.1.7 Reflect.getOwnPropertyDescriptor(target, propertyKey)\nvar gOPD = require('./_object-gopd');\nvar $export = require('./_export');\nvar anObject = require('./_an-object');\n\n$export($export.S, 'Reflect', {\n  getOwnPropertyDescriptor: function getOwnPropertyDescriptor(target, propertyKey) {\n    return gOPD.f(anObject(target), propertyKey);\n  }\n});\n","// 26.1.8 Reflect.getPrototypeOf(target)\nvar $export = require('./_export');\nvar getProto = require('./_object-gpo');\nvar anObject = require('./_an-object');\n\n$export($export.S, 'Reflect', {\n  getPrototypeOf: function getPrototypeOf(target) {\n    return getProto(anObject(target));\n  }\n});\n","// 26.1.9 Reflect.has(target, propertyKey)\nvar $export = require('./_export');\n\n$export($export.S, 'Reflect', {\n  has: function has(target, propertyKey) {\n    return propertyKey in target;\n  }\n});\n","// 26.1.10 Reflect.isExtensible(target)\nvar $export = require('./_export');\nvar anObject = require('./_an-object');\nvar $isExtensible = Object.isExtensible;\n\n$export($export.S, 'Reflect', {\n  isExtensible: function isExtensible(target) {\n    anObject(target);\n    return $isExtensible ? $isExtensible(target) : true;\n  }\n});\n","// 26.1.11 Reflect.ownKeys(target)\nvar $export = require('./_export');\n\n$export($export.S, 'Reflect', { ownKeys: require('./_own-keys') });\n","// 26.1.12 Reflect.preventExtensions(target)\nvar $export = require('./_export');\nvar anObject = require('./_an-object');\nvar $preventExtensions = Object.preventExtensions;\n\n$export($export.S, 'Reflect', {\n  preventExtensions: function preventExtensions(target) {\n    anObject(target);\n    try {\n      if ($preventExtensions) $preventExtensions(target);\n      return true;\n    } catch (e) {\n      return false;\n    }\n  }\n});\n","// 26.1.13 Reflect.set(target, propertyKey, V [, receiver])\nvar dP = require('./_object-dp');\nvar gOPD = require('./_object-gopd');\nvar getPrototypeOf = require('./_object-gpo');\nvar has = require('./_has');\nvar $export = require('./_export');\nvar createDesc = require('./_property-desc');\nvar anObject = require('./_an-object');\nvar isObject = require('./_is-object');\n\nfunction set(target, propertyKey, V /* , receiver */) {\n  var receiver = arguments.length < 4 ? target : arguments[3];\n  var ownDesc = gOPD.f(anObject(target), propertyKey);\n  var existingDescriptor, proto;\n  if (!ownDesc) {\n    if (isObject(proto = getPrototypeOf(target))) {\n      return set(proto, propertyKey, V, receiver);\n    }\n    ownDesc = createDesc(0);\n  }\n  if (has(ownDesc, 'value')) {\n    if (ownDesc.writable === false || !isObject(receiver)) return false;\n    if (existingDescriptor = gOPD.f(receiver, propertyKey)) {\n      if (existingDescriptor.get || existingDescriptor.set || existingDescriptor.writable === false) return false;\n      existingDescriptor.value = V;\n      dP.f(receiver, propertyKey, existingDescriptor);\n    } else dP.f(receiver, propertyKey, createDesc(0, V));\n    return true;\n  }\n  return ownDesc.set === undefined ? false : (ownDesc.set.call(receiver, V), true);\n}\n\n$export($export.S, 'Reflect', { set: set });\n","// 26.1.14 Reflect.setPrototypeOf(target, proto)\nvar $export = require('./_export');\nvar setProto = require('./_set-proto');\n\nif (setProto) $export($export.S, 'Reflect', {\n  setPrototypeOf: function setPrototypeOf(target, proto) {\n    setProto.check(target, proto);\n    try {\n      setProto.set(target, proto);\n      return true;\n    } catch (e) {\n      return false;\n    }\n  }\n});\n","'use strict';\n// https://github.com/tc39/Array.prototype.includes\nvar $export = require('./_export');\nvar $includes = require('./_array-includes')(true);\n\n$export($export.P, 'Array', {\n  includes: function includes(el /* , fromIndex = 0 */) {\n    return $includes(this, el, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n\nrequire('./_add-to-unscopables')('includes');\n","'use strict';\n// https://tc39.github.io/proposal-flatMap/#sec-Array.prototype.flatMap\nvar $export = require('./_export');\nvar flattenIntoArray = require('./_flatten-into-array');\nvar toObject = require('./_to-object');\nvar toLength = require('./_to-length');\nvar aFunction = require('./_a-function');\nvar arraySpeciesCreate = require('./_array-species-create');\n\n$export($export.P, 'Array', {\n  flatMap: function flatMap(callbackfn /* , thisArg */) {\n    var O = toObject(this);\n    var sourceLen, A;\n    aFunction(callbackfn);\n    sourceLen = toLength(O.length);\n    A = arraySpeciesCreate(O, 0);\n    flattenIntoArray(A, O, O, sourceLen, 0, 1, callbackfn, arguments[1]);\n    return A;\n  }\n});\n\nrequire('./_add-to-unscopables')('flatMap');\n","'use strict';\n// https://tc39.github.io/proposal-flatMap/#sec-Array.prototype.flatten\nvar $export = require('./_export');\nvar flattenIntoArray = require('./_flatten-into-array');\nvar toObject = require('./_to-object');\nvar toLength = require('./_to-length');\nvar toInteger = require('./_to-integer');\nvar arraySpeciesCreate = require('./_array-species-create');\n\n$export($export.P, 'Array', {\n  flatten: function flatten(/* depthArg = 1 */) {\n    var depthArg = arguments[0];\n    var O = toObject(this);\n    var sourceLen = toLength(O.length);\n    var A = arraySpeciesCreate(O, 0);\n    flattenIntoArray(A, O, O, sourceLen, 0, depthArg === undefined ? 1 : toInteger(depthArg));\n    return A;\n  }\n});\n\nrequire('./_add-to-unscopables')('flatten');\n","'use strict';\n// https://github.com/mathiasbynens/String.prototype.at\nvar $export = require('./_export');\nvar $at = require('./_string-at')(true);\n\n$export($export.P, 'String', {\n  at: function at(pos) {\n    return $at(this, pos);\n  }\n});\n","'use strict';\n// https://github.com/tc39/proposal-string-pad-start-end\nvar $export = require('./_export');\nvar $pad = require('./_string-pad');\nvar userAgent = require('./_user-agent');\n\n// https://github.com/zloirock/core-js/issues/280\nvar WEBKIT_BUG = /Version\\/10\\.\\d+(\\.\\d+)?( Mobile\\/\\w+)? Safari\\//.test(userAgent);\n\n$export($export.P + $export.F * WEBKIT_BUG, 'String', {\n  padStart: function padStart(maxLength /* , fillString = ' ' */) {\n    return $pad(this, maxLength, arguments.length > 1 ? arguments[1] : undefined, true);\n  }\n});\n","'use strict';\n// https://github.com/tc39/proposal-string-pad-start-end\nvar $export = require('./_export');\nvar $pad = require('./_string-pad');\nvar userAgent = require('./_user-agent');\n\n// https://github.com/zloirock/core-js/issues/280\nvar WEBKIT_BUG = /Version\\/10\\.\\d+(\\.\\d+)?( Mobile\\/\\w+)? Safari\\//.test(userAgent);\n\n$export($export.P + $export.F * WEBKIT_BUG, 'String', {\n  padEnd: function padEnd(maxLength /* , fillString = ' ' */) {\n    return $pad(this, maxLength, arguments.length > 1 ? arguments[1] : undefined, false);\n  }\n});\n","'use strict';\n// https://github.com/sebmarkbage/ecmascript-string-left-right-trim\nrequire('./_string-trim')('trimLeft', function ($trim) {\n  return function trimLeft() {\n    return $trim(this, 1);\n  };\n}, 'trimStart');\n","'use strict';\n// https://github.com/sebmarkbage/ecmascript-string-left-right-trim\nrequire('./_string-trim')('trimRight', function ($trim) {\n  return function trimRight() {\n    return $trim(this, 2);\n  };\n}, 'trimEnd');\n","'use strict';\n// https://tc39.github.io/String.prototype.matchAll/\nvar $export = require('./_export');\nvar defined = require('./_defined');\nvar toLength = require('./_to-length');\nvar isRegExp = require('./_is-regexp');\nvar getFlags = require('./_flags');\nvar RegExpProto = RegExp.prototype;\n\nvar $RegExpStringIterator = function (regexp, string) {\n  this._r = regexp;\n  this._s = string;\n};\n\nrequire('./_iter-create')($RegExpStringIterator, 'RegExp String', function next() {\n  var match = this._r.exec(this._s);\n  return { value: match, done: match === null };\n});\n\n$export($export.P, 'String', {\n  matchAll: function matchAll(regexp) {\n    defined(this);\n    if (!isRegExp(regexp)) throw TypeError(regexp + ' is not a regexp!');\n    var S = String(this);\n    var flags = 'flags' in RegExpProto ? String(regexp.flags) : getFlags.call(regexp);\n    var rx = new RegExp(regexp.source, ~flags.indexOf('g') ? flags : 'g' + flags);\n    rx.lastIndex = toLength(regexp.lastIndex);\n    return new $RegExpStringIterator(rx, S);\n  }\n});\n","require('./_wks-define')('asyncIterator');\n","require('./_wks-define')('observable');\n","// https://github.com/tc39/proposal-object-getownpropertydescriptors\nvar $export = require('./_export');\nvar ownKeys = require('./_own-keys');\nvar toIObject = require('./_to-iobject');\nvar gOPD = require('./_object-gopd');\nvar createProperty = require('./_create-property');\n\n$export($export.S, 'Object', {\n  getOwnPropertyDescriptors: function getOwnPropertyDescriptors(object) {\n    var O = toIObject(object);\n    var getDesc = gOPD.f;\n    var keys = ownKeys(O);\n    var result = {};\n    var i = 0;\n    var key, desc;\n    while (keys.length > i) {\n      desc = getDesc(O, key = keys[i++]);\n      if (desc !== undefined) createProperty(result, key, desc);\n    }\n    return result;\n  }\n});\n","// https://github.com/tc39/proposal-object-values-entries\nvar $export = require('./_export');\nvar $values = require('./_object-to-array')(false);\n\n$export($export.S, 'Object', {\n  values: function values(it) {\n    return $values(it);\n  }\n});\n","// https://github.com/tc39/proposal-object-values-entries\nvar $export = require('./_export');\nvar $entries = require('./_object-to-array')(true);\n\n$export($export.S, 'Object', {\n  entries: function entries(it) {\n    return $entries(it);\n  }\n});\n","'use strict';\nvar $export = require('./_export');\nvar toObject = require('./_to-object');\nvar aFunction = require('./_a-function');\nvar $defineProperty = require('./_object-dp');\n\n// B.2.2.2 Object.prototype.__defineGetter__(P, getter)\nrequire('./_descriptors') && $export($export.P + require('./_object-forced-pam'), 'Object', {\n  __defineGetter__: function __defineGetter__(P, getter) {\n    $defineProperty.f(toObject(this), P, { get: aFunction(getter), enumerable: true, configurable: true });\n  }\n});\n","'use strict';\nvar $export = require('./_export');\nvar toObject = require('./_to-object');\nvar aFunction = require('./_a-function');\nvar $defineProperty = require('./_object-dp');\n\n// B.2.2.3 Object.prototype.__defineSetter__(P, setter)\nrequire('./_descriptors') && $export($export.P + require('./_object-forced-pam'), 'Object', {\n  __defineSetter__: function __defineSetter__(P, setter) {\n    $defineProperty.f(toObject(this), P, { set: aFunction(setter), enumerable: true, configurable: true });\n  }\n});\n","'use strict';\nvar $export = require('./_export');\nvar toObject = require('./_to-object');\nvar toPrimitive = require('./_to-primitive');\nvar getPrototypeOf = require('./_object-gpo');\nvar getOwnPropertyDescriptor = require('./_object-gopd').f;\n\n// B.2.2.4 Object.prototype.__lookupGetter__(P)\nrequire('./_descriptors') && $export($export.P + require('./_object-forced-pam'), 'Object', {\n  __lookupGetter__: function __lookupGetter__(P) {\n    var O = toObject(this);\n    var K = toPrimitive(P, true);\n    var D;\n    do {\n      if (D = getOwnPropertyDescriptor(O, K)) return D.get;\n    } while (O = getPrototypeOf(O));\n  }\n});\n","'use strict';\nvar $export = require('./_export');\nvar toObject = require('./_to-object');\nvar toPrimitive = require('./_to-primitive');\nvar getPrototypeOf = require('./_object-gpo');\nvar getOwnPropertyDescriptor = require('./_object-gopd').f;\n\n// B.2.2.5 Object.prototype.__lookupSetter__(P)\nrequire('./_descriptors') && $export($export.P + require('./_object-forced-pam'), 'Object', {\n  __lookupSetter__: function __lookupSetter__(P) {\n    var O = toObject(this);\n    var K = toPrimitive(P, true);\n    var D;\n    do {\n      if (D = getOwnPropertyDescriptor(O, K)) return D.set;\n    } while (O = getPrototypeOf(O));\n  }\n});\n","// https://github.com/DavidBruant/Map-Set.prototype.toJSON\nvar $export = require('./_export');\n\n$export($export.P + $export.R, 'Map', { toJSON: require('./_collection-to-json')('Map') });\n","// https://github.com/DavidBruant/Map-Set.prototype.toJSON\nvar $export = require('./_export');\n\n$export($export.P + $export.R, 'Set', { toJSON: require('./_collection-to-json')('Set') });\n","// https://tc39.github.io/proposal-setmap-offrom/#sec-map.of\nrequire('./_set-collection-of')('Map');\n","// https://tc39.github.io/proposal-setmap-offrom/#sec-set.of\nrequire('./_set-collection-of')('Set');\n","// https://tc39.github.io/proposal-setmap-offrom/#sec-weakmap.of\nrequire('./_set-collection-of')('WeakMap');\n","// https://tc39.github.io/proposal-setmap-offrom/#sec-weakset.of\nrequire('./_set-collection-of')('WeakSet');\n","// https://tc39.github.io/proposal-setmap-offrom/#sec-map.from\nrequire('./_set-collection-from')('Map');\n","// https://tc39.github.io/proposal-setmap-offrom/#sec-set.from\nrequire('./_set-collection-from')('Set');\n","// https://tc39.github.io/proposal-setmap-offrom/#sec-weakmap.from\nrequire('./_set-collection-from')('WeakMap');\n","// https://tc39.github.io/proposal-setmap-offrom/#sec-weakset.from\nrequire('./_set-collection-from')('WeakSet');\n","// https://github.com/tc39/proposal-global\nvar $export = require('./_export');\n\n$export($export.G, { global: require('./_global') });\n","// https://github.com/tc39/proposal-global\nvar $export = require('./_export');\n\n$export($export.S, 'System', { global: require('./_global') });\n","// https://github.com/ljharb/proposal-is-error\nvar $export = require('./_export');\nvar cof = require('./_cof');\n\n$export($export.S, 'Error', {\n  isError: function isError(it) {\n    return cof(it) === 'Error';\n  }\n});\n","// https://rwaldron.github.io/proposal-math-extensions/\nvar $export = require('./_export');\n\n$export($export.S, 'Math', {\n  clamp: function clamp(x, lower, upper) {\n    return Math.min(upper, Math.max(lower, x));\n  }\n});\n","// https://rwaldron.github.io/proposal-math-extensions/\nvar $export = require('./_export');\n\n$export($export.S, 'Math', { DEG_PER_RAD: Math.PI / 180 });\n","// https://rwaldron.github.io/proposal-math-extensions/\nvar $export = require('./_export');\nvar RAD_PER_DEG = 180 / Math.PI;\n\n$export($export.S, 'Math', {\n  degrees: function degrees(radians) {\n    return radians * RAD_PER_DEG;\n  }\n});\n","// https://rwaldron.github.io/proposal-math-extensions/\nvar $export = require('./_export');\nvar scale = require('./_math-scale');\nvar fround = require('./_math-fround');\n\n$export($export.S, 'Math', {\n  fscale: function fscale(x, inLow, inHigh, outLow, outHigh) {\n    return fround(scale(x, inLow, inHigh, outLow, outHigh));\n  }\n});\n","// https://gist.github.com/BrendanEich/4294d5c212a6d2254703\nvar $export = require('./_export');\n\n$export($export.S, 'Math', {\n  iaddh: function iaddh(x0, x1, y0, y1) {\n    var $x0 = x0 >>> 0;\n    var $x1 = x1 >>> 0;\n    var $y0 = y0 >>> 0;\n    return $x1 + (y1 >>> 0) + (($x0 & $y0 | ($x0 | $y0) & ~($x0 + $y0 >>> 0)) >>> 31) | 0;\n  }\n});\n","// https://gist.github.com/BrendanEich/4294d5c212a6d2254703\nvar $export = require('./_export');\n\n$export($export.S, 'Math', {\n  isubh: function isubh(x0, x1, y0, y1) {\n    var $x0 = x0 >>> 0;\n    var $x1 = x1 >>> 0;\n    var $y0 = y0 >>> 0;\n    return $x1 - (y1 >>> 0) - ((~$x0 & $y0 | ~($x0 ^ $y0) & $x0 - $y0 >>> 0) >>> 31) | 0;\n  }\n});\n","// https://gist.github.com/BrendanEich/4294d5c212a6d2254703\nvar $export = require('./_export');\n\n$export($export.S, 'Math', {\n  imulh: function imulh(u, v) {\n    var UINT16 = 0xffff;\n    var $u = +u;\n    var $v = +v;\n    var u0 = $u & UINT16;\n    var v0 = $v & UINT16;\n    var u1 = $u >> 16;\n    var v1 = $v >> 16;\n    var t = (u1 * v0 >>> 0) + (u0 * v0 >>> 16);\n    return u1 * v1 + (t >> 16) + ((u0 * v1 >>> 0) + (t & UINT16) >> 16);\n  }\n});\n","// https://rwaldron.github.io/proposal-math-extensions/\nvar $export = require('./_export');\n\n$export($export.S, 'Math', { RAD_PER_DEG: 180 / Math.PI });\n","// https://rwaldron.github.io/proposal-math-extensions/\nvar $export = require('./_export');\nvar DEG_PER_RAD = Math.PI / 180;\n\n$export($export.S, 'Math', {\n  radians: function radians(degrees) {\n    return degrees * DEG_PER_RAD;\n  }\n});\n","// https://rwaldron.github.io/proposal-math-extensions/\nvar $export = require('./_export');\n\n$export($export.S, 'Math', { scale: require('./_math-scale') });\n","// https://gist.github.com/BrendanEich/4294d5c212a6d2254703\nvar $export = require('./_export');\n\n$export($export.S, 'Math', {\n  umulh: function umulh(u, v) {\n    var UINT16 = 0xffff;\n    var $u = +u;\n    var $v = +v;\n    var u0 = $u & UINT16;\n    var v0 = $v & UINT16;\n    var u1 = $u >>> 16;\n    var v1 = $v >>> 16;\n    var t = (u1 * v0 >>> 0) + (u0 * v0 >>> 16);\n    return u1 * v1 + (t >>> 16) + ((u0 * v1 >>> 0) + (t & UINT16) >>> 16);\n  }\n});\n","// http://jfbastien.github.io/papers/Math.signbit.html\nvar $export = require('./_export');\n\n$export($export.S, 'Math', { signbit: function signbit(x) {\n  // eslint-disable-next-line no-self-compare\n  return (x = +x) != x ? x : x == 0 ? 1 / x == Infinity : x > 0;\n} });\n","// https://github.com/tc39/proposal-promise-finally\n'use strict';\nvar $export = require('./_export');\nvar core = require('./_core');\nvar global = require('./_global');\nvar speciesConstructor = require('./_species-constructor');\nvar promiseResolve = require('./_promise-resolve');\n\n$export($export.P + $export.R, 'Promise', { 'finally': function (onFinally) {\n  var C = speciesConstructor(this, core.Promise || global.Promise);\n  var isFunction = typeof onFinally == 'function';\n  return this.then(\n    isFunction ? function (x) {\n      return promiseResolve(C, onFinally()).then(function () { return x; });\n    } : onFinally,\n    isFunction ? function (e) {\n      return promiseResolve(C, onFinally()).then(function () { throw e; });\n    } : onFinally\n  );\n} });\n","'use strict';\n// https://github.com/tc39/proposal-promise-try\nvar $export = require('./_export');\nvar newPromiseCapability = require('./_new-promise-capability');\nvar perform = require('./_perform');\n\n$export($export.S, 'Promise', { 'try': function (callbackfn) {\n  var promiseCapability = newPromiseCapability.f(this);\n  var result = perform(callbackfn);\n  (result.e ? promiseCapability.reject : promiseCapability.resolve)(result.v);\n  return promiseCapability.promise;\n} });\n","var metadata = require('./_metadata');\nvar anObject = require('./_an-object');\nvar toMetaKey = metadata.key;\nvar ordinaryDefineOwnMetadata = metadata.set;\n\nmetadata.exp({ defineMetadata: function defineMetadata(metadataKey, metadataValue, target, targetKey) {\n  ordinaryDefineOwnMetadata(metadataKey, metadataValue, anObject(target), toMetaKey(targetKey));\n} });\n","var metadata = require('./_metadata');\nvar anObject = require('./_an-object');\nvar toMetaKey = metadata.key;\nvar getOrCreateMetadataMap = metadata.map;\nvar store = metadata.store;\n\nmetadata.exp({ deleteMetadata: function deleteMetadata(metadataKey, target /* , targetKey */) {\n  var targetKey = arguments.length < 3 ? undefined : toMetaKey(arguments[2]);\n  var metadataMap = getOrCreateMetadataMap(anObject(target), targetKey, false);\n  if (metadataMap === undefined || !metadataMap['delete'](metadataKey)) return false;\n  if (metadataMap.size) return true;\n  var targetMetadata = store.get(target);\n  targetMetadata['delete'](targetKey);\n  return !!targetMetadata.size || store['delete'](target);\n} });\n","var metadata = require('./_metadata');\nvar anObject = require('./_an-object');\nvar getPrototypeOf = require('./_object-gpo');\nvar ordinaryHasOwnMetadata = metadata.has;\nvar ordinaryGetOwnMetadata = metadata.get;\nvar toMetaKey = metadata.key;\n\nvar ordinaryGetMetadata = function (MetadataKey, O, P) {\n  var hasOwn = ordinaryHasOwnMetadata(MetadataKey, O, P);\n  if (hasOwn) return ordinaryGetOwnMetadata(MetadataKey, O, P);\n  var parent = getPrototypeOf(O);\n  return parent !== null ? ordinaryGetMetadata(MetadataKey, parent, P) : undefined;\n};\n\nmetadata.exp({ getMetadata: function getMetadata(metadataKey, target /* , targetKey */) {\n  return ordinaryGetMetadata(metadataKey, anObject(target), arguments.length < 3 ? undefined : toMetaKey(arguments[2]));\n} });\n","var Set = require('./es6.set');\nvar from = require('./_array-from-iterable');\nvar metadata = require('./_metadata');\nvar anObject = require('./_an-object');\nvar getPrototypeOf = require('./_object-gpo');\nvar ordinaryOwnMetadataKeys = metadata.keys;\nvar toMetaKey = metadata.key;\n\nvar ordinaryMetadataKeys = function (O, P) {\n  var oKeys = ordinaryOwnMetadataKeys(O, P);\n  var parent = getPrototypeOf(O);\n  if (parent === null) return oKeys;\n  var pKeys = ordinaryMetadataKeys(parent, P);\n  return pKeys.length ? oKeys.length ? from(new Set(oKeys.concat(pKeys))) : pKeys : oKeys;\n};\n\nmetadata.exp({ getMetadataKeys: function getMetadataKeys(target /* , targetKey */) {\n  return ordinaryMetadataKeys(anObject(target), arguments.length < 2 ? undefined : toMetaKey(arguments[1]));\n} });\n","var metadata = require('./_metadata');\nvar anObject = require('./_an-object');\nvar ordinaryGetOwnMetadata = metadata.get;\nvar toMetaKey = metadata.key;\n\nmetadata.exp({ getOwnMetadata: function getOwnMetadata(metadataKey, target /* , targetKey */) {\n  return ordinaryGetOwnMetadata(metadataKey, anObject(target)\n    , arguments.length < 3 ? undefined : toMetaKey(arguments[2]));\n} });\n","var metadata = require('./_metadata');\nvar anObject = require('./_an-object');\nvar ordinaryOwnMetadataKeys = metadata.keys;\nvar toMetaKey = metadata.key;\n\nmetadata.exp({ getOwnMetadataKeys: function getOwnMetadataKeys(target /* , targetKey */) {\n  return ordinaryOwnMetadataKeys(anObject(target), arguments.length < 2 ? undefined : toMetaKey(arguments[1]));\n} });\n","var metadata = require('./_metadata');\nvar anObject = require('./_an-object');\nvar getPrototypeOf = require('./_object-gpo');\nvar ordinaryHasOwnMetadata = metadata.has;\nvar toMetaKey = metadata.key;\n\nvar ordinaryHasMetadata = function (MetadataKey, O, P) {\n  var hasOwn = ordinaryHasOwnMetadata(MetadataKey, O, P);\n  if (hasOwn) return true;\n  var parent = getPrototypeOf(O);\n  return parent !== null ? ordinaryHasMetadata(MetadataKey, parent, P) : false;\n};\n\nmetadata.exp({ hasMetadata: function hasMetadata(metadataKey, target /* , targetKey */) {\n  return ordinaryHasMetadata(metadataKey, anObject(target), arguments.length < 3 ? undefined : toMetaKey(arguments[2]));\n} });\n","var metadata = require('./_metadata');\nvar anObject = require('./_an-object');\nvar ordinaryHasOwnMetadata = metadata.has;\nvar toMetaKey = metadata.key;\n\nmetadata.exp({ hasOwnMetadata: function hasOwnMetadata(metadataKey, target /* , targetKey */) {\n  return ordinaryHasOwnMetadata(metadataKey, anObject(target)\n    , arguments.length < 3 ? undefined : toMetaKey(arguments[2]));\n} });\n","var $metadata = require('./_metadata');\nvar anObject = require('./_an-object');\nvar aFunction = require('./_a-function');\nvar toMetaKey = $metadata.key;\nvar ordinaryDefineOwnMetadata = $metadata.set;\n\n$metadata.exp({ metadata: function metadata(metadataKey, metadataValue) {\n  return function decorator(target, targetKey) {\n    ordinaryDefineOwnMetadata(\n      metadataKey, metadataValue,\n      (targetKey !== undefined ? anObject : aFunction)(target),\n      toMetaKey(targetKey)\n    );\n  };\n} });\n","// https://github.com/rwaldron/tc39-notes/blob/master/es6/2014-09/sept-25.md#510-globalasap-for-enqueuing-a-microtask\nvar $export = require('./_export');\nvar microtask = require('./_microtask')();\nvar process = require('./_global').process;\nvar isNode = require('./_cof')(process) == 'process';\n\n$export($export.G, {\n  asap: function asap(fn) {\n    var domain = isNode && process.domain;\n    microtask(domain ? domain.bind(fn) : fn);\n  }\n});\n","'use strict';\n// https://github.com/zenparsing/es-observable\nvar $export = require('./_export');\nvar global = require('./_global');\nvar core = require('./_core');\nvar microtask = require('./_microtask')();\nvar OBSERVABLE = require('./_wks')('observable');\nvar aFunction = require('./_a-function');\nvar anObject = require('./_an-object');\nvar anInstance = require('./_an-instance');\nvar redefineAll = require('./_redefine-all');\nvar hide = require('./_hide');\nvar forOf = require('./_for-of');\nvar RETURN = forOf.RETURN;\n\nvar getMethod = function (fn) {\n  return fn == null ? undefined : aFunction(fn);\n};\n\nvar cleanupSubscription = function (subscription) {\n  var cleanup = subscription._c;\n  if (cleanup) {\n    subscription._c = undefined;\n    cleanup();\n  }\n};\n\nvar subscriptionClosed = function (subscription) {\n  return subscription._o === undefined;\n};\n\nvar closeSubscription = function (subscription) {\n  if (!subscriptionClosed(subscription)) {\n    subscription._o = undefined;\n    cleanupSubscription(subscription);\n  }\n};\n\nvar Subscription = function (observer, subscriber) {\n  anObject(observer);\n  this._c = undefined;\n  this._o = observer;\n  observer = new SubscriptionObserver(this);\n  try {\n    var cleanup = subscriber(observer);\n    var subscription = cleanup;\n    if (cleanup != null) {\n      if (typeof cleanup.unsubscribe === 'function') cleanup = function () { subscription.unsubscribe(); };\n      else aFunction(cleanup);\n      this._c = cleanup;\n    }\n  } catch (e) {\n    observer.error(e);\n    return;\n  } if (subscriptionClosed(this)) cleanupSubscription(this);\n};\n\nSubscription.prototype = redefineAll({}, {\n  unsubscribe: function unsubscribe() { closeSubscription(this); }\n});\n\nvar SubscriptionObserver = function (subscription) {\n  this._s = subscription;\n};\n\nSubscriptionObserver.prototype = redefineAll({}, {\n  next: function next(value) {\n    var subscription = this._s;\n    if (!subscriptionClosed(subscription)) {\n      var observer = subscription._o;\n      try {\n        var m = getMethod(observer.next);\n        if (m) return m.call(observer, value);\n      } catch (e) {\n        try {\n          closeSubscription(subscription);\n        } finally {\n          throw e;\n        }\n      }\n    }\n  },\n  error: function error(value) {\n    var subscription = this._s;\n    if (subscriptionClosed(subscription)) throw value;\n    var observer = subscription._o;\n    subscription._o = undefined;\n    try {\n      var m = getMethod(observer.error);\n      if (!m) throw value;\n      value = m.call(observer, value);\n    } catch (e) {\n      try {\n        cleanupSubscription(subscription);\n      } finally {\n        throw e;\n      }\n    } cleanupSubscription(subscription);\n    return value;\n  },\n  complete: function complete(value) {\n    var subscription = this._s;\n    if (!subscriptionClosed(subscription)) {\n      var observer = subscription._o;\n      subscription._o = undefined;\n      try {\n        var m = getMethod(observer.complete);\n        value = m ? m.call(observer, value) : undefined;\n      } catch (e) {\n        try {\n          cleanupSubscription(subscription);\n        } finally {\n          throw e;\n        }\n      } cleanupSubscription(subscription);\n      return value;\n    }\n  }\n});\n\nvar $Observable = function Observable(subscriber) {\n  anInstance(this, $Observable, 'Observable', '_f')._f = aFunction(subscriber);\n};\n\nredefineAll($Observable.prototype, {\n  subscribe: function subscribe(observer) {\n    return new Subscription(observer, this._f);\n  },\n  forEach: function forEach(fn) {\n    var that = this;\n    return new (core.Promise || global.Promise)(function (resolve, reject) {\n      aFunction(fn);\n      var subscription = that.subscribe({\n        next: function (value) {\n          try {\n            return fn(value);\n          } catch (e) {\n            reject(e);\n            subscription.unsubscribe();\n          }\n        },\n        error: reject,\n        complete: resolve\n      });\n    });\n  }\n});\n\nredefineAll($Observable, {\n  from: function from(x) {\n    var C = typeof this === 'function' ? this : $Observable;\n    var method = getMethod(anObject(x)[OBSERVABLE]);\n    if (method) {\n      var observable = anObject(method.call(x));\n      return observable.constructor === C ? observable : new C(function (observer) {\n        return observable.subscribe(observer);\n      });\n    }\n    return new C(function (observer) {\n      var done = false;\n      microtask(function () {\n        if (!done) {\n          try {\n            if (forOf(x, false, function (it) {\n              observer.next(it);\n              if (done) return RETURN;\n            }) === RETURN) return;\n          } catch (e) {\n            if (done) throw e;\n            observer.error(e);\n            return;\n          } observer.complete();\n        }\n      });\n      return function () { done = true; };\n    });\n  },\n  of: function of() {\n    for (var i = 0, l = arguments.length, items = new Array(l); i < l;) items[i] = arguments[i++];\n    return new (typeof this === 'function' ? this : $Observable)(function (observer) {\n      var done = false;\n      microtask(function () {\n        if (!done) {\n          for (var j = 0; j < items.length; ++j) {\n            observer.next(items[j]);\n            if (done) return;\n          } observer.complete();\n        }\n      });\n      return function () { done = true; };\n    });\n  }\n});\n\nhide($Observable.prototype, OBSERVABLE, function () { return this; });\n\n$export($export.G, { Observable: $Observable });\n\nrequire('./_set-species')('Observable');\n","// ie9- setTimeout & setInterval additional parameters fix\nvar global = require('./_global');\nvar $export = require('./_export');\nvar userAgent = require('./_user-agent');\nvar slice = [].slice;\nvar MSIE = /MSIE .\\./.test(userAgent); // <- dirty ie9- check\nvar wrap = function (set) {\n  return function (fn, time /* , ...args */) {\n    var boundArgs = arguments.length > 2;\n    var args = boundArgs ? slice.call(arguments, 2) : false;\n    return set(boundArgs ? function () {\n      // eslint-disable-next-line no-new-func\n      (typeof fn == 'function' ? fn : Function(fn)).apply(this, args);\n    } : fn, time);\n  };\n};\n$export($export.G + $export.B + $export.F * MSIE, {\n  setTimeout: wrap(global.setTimeout),\n  setInterval: wrap(global.setInterval)\n});\n","var $export = require('./_export');\nvar $task = require('./_task');\n$export($export.G + $export.B, {\n  setImmediate: $task.set,\n  clearImmediate: $task.clear\n});\n","var $iterators = require('./es6.array.iterator');\nvar getKeys = require('./_object-keys');\nvar redefine = require('./_redefine');\nvar global = require('./_global');\nvar hide = require('./_hide');\nvar Iterators = require('./_iterators');\nvar wks = require('./_wks');\nvar ITERATOR = wks('iterator');\nvar TO_STRING_TAG = wks('toStringTag');\nvar ArrayValues = Iterators.Array;\n\nvar DOMIterables = {\n  CSSRuleList: true, // TODO: Not spec compliant, should be false.\n  CSSStyleDeclaration: false,\n  CSSValueList: false,\n  ClientRectList: false,\n  DOMRectList: false,\n  DOMStringList: false,\n  DOMTokenList: true,\n  DataTransferItemList: false,\n  FileList: false,\n  HTMLAllCollection: false,\n  HTMLCollection: false,\n  HTMLFormElement: false,\n  HTMLSelectElement: false,\n  MediaList: true, // TODO: Not spec compliant, should be false.\n  MimeTypeArray: false,\n  NamedNodeMap: false,\n  NodeList: true,\n  PaintRequestList: false,\n  Plugin: false,\n  PluginArray: false,\n  SVGLengthList: false,\n  SVGNumberList: false,\n  SVGPathSegList: false,\n  SVGPointList: false,\n  SVGStringList: false,\n  SVGTransformList: false,\n  SourceBufferList: false,\n  StyleSheetList: true, // TODO: Not spec compliant, should be false.\n  TextTrackCueList: false,\n  TextTrackList: false,\n  TouchList: false\n};\n\nfor (var collections = getKeys(DOMIterables), i = 0; i < collections.length; i++) {\n  var NAME = collections[i];\n  var explicit = DOMIterables[NAME];\n  var Collection = global[NAME];\n  var proto = Collection && Collection.prototype;\n  var key;\n  if (proto) {\n    if (!proto[ITERATOR]) hide(proto, ITERATOR, ArrayValues);\n    if (!proto[TO_STRING_TAG]) hide(proto, TO_STRING_TAG, NAME);\n    Iterators[NAME] = ArrayValues;\n    if (explicit) for (key in $iterators) if (!proto[key]) redefine(proto, key, $iterators[key], true);\n  }\n}\n","/**\n * Copyright (c) 2014, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * https://raw.github.com/facebook/regenerator/master/LICENSE file. An\n * additional grant of patent rights can be found in the PATENTS file in\n * the same directory.\n */\n\n!(function(global) {\n  \"use strict\";\n\n  var Op = Object.prototype;\n  var hasOwn = Op.hasOwnProperty;\n  var undefined; // More compressible than void 0.\n  var $Symbol = typeof Symbol === \"function\" ? Symbol : {};\n  var iteratorSymbol = $Symbol.iterator || \"@@iterator\";\n  var asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\";\n  var toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\";\n\n  var inModule = typeof module === \"object\";\n  var runtime = global.regeneratorRuntime;\n  if (runtime) {\n    if (inModule) {\n      // If regeneratorRuntime is defined globally and we're in a module,\n      // make the exports object identical to regeneratorRuntime.\n      module.exports = runtime;\n    }\n    // Don't bother evaluating the rest of this file if the runtime was\n    // already defined globally.\n    return;\n  }\n\n  // Define the runtime globally (as expected by generated code) as either\n  // module.exports (if we're in a module) or a new, empty object.\n  runtime = global.regeneratorRuntime = inModule ? module.exports : {};\n\n  function wrap(innerFn, outerFn, self, tryLocsList) {\n    // If outerFn provided and outerFn.prototype is a Generator, then outerFn.prototype instanceof Generator.\n    var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator;\n    var generator = Object.create(protoGenerator.prototype);\n    var context = new Context(tryLocsList || []);\n\n    // The ._invoke method unifies the implementations of the .next,\n    // .throw, and .return methods.\n    generator._invoke = makeInvokeMethod(innerFn, self, context);\n\n    return generator;\n  }\n  runtime.wrap = wrap;\n\n  // Try/catch helper to minimize deoptimizations. Returns a completion\n  // record like context.tryEntries[i].completion. This interface could\n  // have been (and was previously) designed to take a closure to be\n  // invoked without arguments, but in all the cases we care about we\n  // already have an existing method we want to call, so there's no need\n  // to create a new function object. We can even get away with assuming\n  // the method takes exactly one argument, since that happens to be true\n  // in every case, so we don't have to touch the arguments object. The\n  // only additional allocation required is the completion record, which\n  // has a stable shape and so hopefully should be cheap to allocate.\n  function tryCatch(fn, obj, arg) {\n    try {\n      return { type: \"normal\", arg: fn.call(obj, arg) };\n    } catch (err) {\n      return { type: \"throw\", arg: err };\n    }\n  }\n\n  var GenStateSuspendedStart = \"suspendedStart\";\n  var GenStateSuspendedYield = \"suspendedYield\";\n  var GenStateExecuting = \"executing\";\n  var GenStateCompleted = \"completed\";\n\n  // Returning this object from the innerFn has the same effect as\n  // breaking out of the dispatch switch statement.\n  var ContinueSentinel = {};\n\n  // Dummy constructor functions that we use as the .constructor and\n  // .constructor.prototype properties for functions that return Generator\n  // objects. For full spec compliance, you may wish to configure your\n  // minifier not to mangle the names of these two functions.\n  function Generator() {}\n  function GeneratorFunction() {}\n  function GeneratorFunctionPrototype() {}\n\n  // This is a polyfill for %IteratorPrototype% for environments that\n  // don't natively support it.\n  var IteratorPrototype = {};\n  IteratorPrototype[iteratorSymbol] = function () {\n    return this;\n  };\n\n  var getProto = Object.getPrototypeOf;\n  var NativeIteratorPrototype = getProto && getProto(getProto(values([])));\n  if (NativeIteratorPrototype &&\n      NativeIteratorPrototype !== Op &&\n      hasOwn.call(NativeIteratorPrototype, iteratorSymbol)) {\n    // This environment has a native %IteratorPrototype%; use it instead\n    // of the polyfill.\n    IteratorPrototype = NativeIteratorPrototype;\n  }\n\n  var Gp = GeneratorFunctionPrototype.prototype =\n    Generator.prototype = Object.create(IteratorPrototype);\n  GeneratorFunction.prototype = Gp.constructor = GeneratorFunctionPrototype;\n  GeneratorFunctionPrototype.constructor = GeneratorFunction;\n  GeneratorFunctionPrototype[toStringTagSymbol] =\n    GeneratorFunction.displayName = \"GeneratorFunction\";\n\n  // Helper for defining the .next, .throw, and .return methods of the\n  // Iterator interface in terms of a single ._invoke method.\n  function defineIteratorMethods(prototype) {\n    [\"next\", \"throw\", \"return\"].forEach(function(method) {\n      prototype[method] = function(arg) {\n        return this._invoke(method, arg);\n      };\n    });\n  }\n\n  runtime.isGeneratorFunction = function(genFun) {\n    var ctor = typeof genFun === \"function\" && genFun.constructor;\n    return ctor\n      ? ctor === GeneratorFunction ||\n        // For the native GeneratorFunction constructor, the best we can\n        // do is to check its .name property.\n        (ctor.displayName || ctor.name) === \"GeneratorFunction\"\n      : false;\n  };\n\n  runtime.mark = function(genFun) {\n    if (Object.setPrototypeOf) {\n      Object.setPrototypeOf(genFun, GeneratorFunctionPrototype);\n    } else {\n      genFun.__proto__ = GeneratorFunctionPrototype;\n      if (!(toStringTagSymbol in genFun)) {\n        genFun[toStringTagSymbol] = \"GeneratorFunction\";\n      }\n    }\n    genFun.prototype = Object.create(Gp);\n    return genFun;\n  };\n\n  // Within the body of any async function, `await x` is transformed to\n  // `yield regeneratorRuntime.awrap(x)`, so that the runtime can test\n  // `hasOwn.call(value, \"__await\")` to determine if the yielded value is\n  // meant to be awaited.\n  runtime.awrap = function(arg) {\n    return { __await: arg };\n  };\n\n  function AsyncIterator(generator) {\n    function invoke(method, arg, resolve, reject) {\n      var record = tryCatch(generator[method], generator, arg);\n      if (record.type === \"throw\") {\n        reject(record.arg);\n      } else {\n        var result = record.arg;\n        var value = result.value;\n        if (value &&\n            typeof value === \"object\" &&\n            hasOwn.call(value, \"__await\")) {\n          return Promise.resolve(value.__await).then(function(value) {\n            invoke(\"next\", value, resolve, reject);\n          }, function(err) {\n            invoke(\"throw\", err, resolve, reject);\n          });\n        }\n\n        return Promise.resolve(value).then(function(unwrapped) {\n          // When a yielded Promise is resolved, its final value becomes\n          // the .value of the Promise<{value,done}> result for the\n          // current iteration. If the Promise is rejected, however, the\n          // result for this iteration will be rejected with the same\n          // reason. Note that rejections of yielded Promises are not\n          // thrown back into the generator function, as is the case\n          // when an awaited Promise is rejected. This difference in\n          // behavior between yield and await is important, because it\n          // allows the consumer to decide what to do with the yielded\n          // rejection (swallow it and continue, manually .throw it back\n          // into the generator, abandon iteration, whatever). With\n          // await, by contrast, there is no opportunity to examine the\n          // rejection reason outside the generator function, so the\n          // only option is to throw it from the await expression, and\n          // let the generator function handle the exception.\n          result.value = unwrapped;\n          resolve(result);\n        }, reject);\n      }\n    }\n\n    if (typeof global.process === \"object\" && global.process.domain) {\n      invoke = global.process.domain.bind(invoke);\n    }\n\n    var previousPromise;\n\n    function enqueue(method, arg) {\n      function callInvokeWithMethodAndArg() {\n        return new Promise(function(resolve, reject) {\n          invoke(method, arg, resolve, reject);\n        });\n      }\n\n      return previousPromise =\n        // If enqueue has been called before, then we want to wait until\n        // all previous Promises have been resolved before calling invoke,\n        // so that results are always delivered in the correct order. If\n        // enqueue has not been called before, then it is important to\n        // call invoke immediately, without waiting on a callback to fire,\n        // so that the async generator function has the opportunity to do\n        // any necessary setup in a predictable way. This predictability\n        // is why the Promise constructor synchronously invokes its\n        // executor callback, and why async functions synchronously\n        // execute code before the first await. Since we implement simple\n        // async functions in terms of async generators, it is especially\n        // important to get this right, even though it requires care.\n        previousPromise ? previousPromise.then(\n          callInvokeWithMethodAndArg,\n          // Avoid propagating failures to Promises returned by later\n          // invocations of the iterator.\n          callInvokeWithMethodAndArg\n        ) : callInvokeWithMethodAndArg();\n    }\n\n    // Define the unified helper method that is used to implement .next,\n    // .throw, and .return (see defineIteratorMethods).\n    this._invoke = enqueue;\n  }\n\n  defineIteratorMethods(AsyncIterator.prototype);\n  AsyncIterator.prototype[asyncIteratorSymbol] = function () {\n    return this;\n  };\n  runtime.AsyncIterator = AsyncIterator;\n\n  // Note that simple async functions are implemented on top of\n  // AsyncIterator objects; they just return a Promise for the value of\n  // the final result produced by the iterator.\n  runtime.async = function(innerFn, outerFn, self, tryLocsList) {\n    var iter = new AsyncIterator(\n      wrap(innerFn, outerFn, self, tryLocsList)\n    );\n\n    return runtime.isGeneratorFunction(outerFn)\n      ? iter // If outerFn is a generator, return the full iterator.\n      : iter.next().then(function(result) {\n          return result.done ? result.value : iter.next();\n        });\n  };\n\n  function makeInvokeMethod(innerFn, self, context) {\n    var state = GenStateSuspendedStart;\n\n    return function invoke(method, arg) {\n      if (state === GenStateExecuting) {\n        throw new Error(\"Generator is already running\");\n      }\n\n      if (state === GenStateCompleted) {\n        if (method === \"throw\") {\n          throw arg;\n        }\n\n        // Be forgiving, per 25.3.3.3.3 of the spec:\n        // https://people.mozilla.org/~jorendorff/es6-draft.html#sec-generatorresume\n        return doneResult();\n      }\n\n      context.method = method;\n      context.arg = arg;\n\n      while (true) {\n        var delegate = context.delegate;\n        if (delegate) {\n          var delegateResult = maybeInvokeDelegate(delegate, context);\n          if (delegateResult) {\n            if (delegateResult === ContinueSentinel) continue;\n            return delegateResult;\n          }\n        }\n\n        if (context.method === \"next\") {\n          // Setting context._sent for legacy support of Babel's\n          // function.sent implementation.\n          context.sent = context._sent = context.arg;\n\n        } else if (context.method === \"throw\") {\n          if (state === GenStateSuspendedStart) {\n            state = GenStateCompleted;\n            throw context.arg;\n          }\n\n          context.dispatchException(context.arg);\n\n        } else if (context.method === \"return\") {\n          context.abrupt(\"return\", context.arg);\n        }\n\n        state = GenStateExecuting;\n\n        var record = tryCatch(innerFn, self, context);\n        if (record.type === \"normal\") {\n          // If an exception is thrown from innerFn, we leave state ===\n          // GenStateExecuting and loop back for another invocation.\n          state = context.done\n            ? GenStateCompleted\n            : GenStateSuspendedYield;\n\n          if (record.arg === ContinueSentinel) {\n            continue;\n          }\n\n          return {\n            value: record.arg,\n            done: context.done\n          };\n\n        } else if (record.type === \"throw\") {\n          state = GenStateCompleted;\n          // Dispatch the exception by looping back around to the\n          // context.dispatchException(context.arg) call above.\n          context.method = \"throw\";\n          context.arg = record.arg;\n        }\n      }\n    };\n  }\n\n  // Call delegate.iterator[context.method](context.arg) and handle the\n  // result, either by returning a { value, done } result from the\n  // delegate iterator, or by modifying context.method and context.arg,\n  // setting context.delegate to null, and returning the ContinueSentinel.\n  function maybeInvokeDelegate(delegate, context) {\n    var method = delegate.iterator[context.method];\n    if (method === undefined) {\n      // A .throw or .return when the delegate iterator has no .throw\n      // method always terminates the yield* loop.\n      context.delegate = null;\n\n      if (context.method === \"throw\") {\n        if (delegate.iterator.return) {\n          // If the delegate iterator has a return method, give it a\n          // chance to clean up.\n          context.method = \"return\";\n          context.arg = undefined;\n          maybeInvokeDelegate(delegate, context);\n\n          if (context.method === \"throw\") {\n            // If maybeInvokeDelegate(context) changed context.method from\n            // \"return\" to \"throw\", let that override the TypeError below.\n            return ContinueSentinel;\n          }\n        }\n\n        context.method = \"throw\";\n        context.arg = new TypeError(\n          \"The iterator does not provide a 'throw' method\");\n      }\n\n      return ContinueSentinel;\n    }\n\n    var record = tryCatch(method, delegate.iterator, context.arg);\n\n    if (record.type === \"throw\") {\n      context.method = \"throw\";\n      context.arg = record.arg;\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    var info = record.arg;\n\n    if (! info) {\n      context.method = \"throw\";\n      context.arg = new TypeError(\"iterator result is not an object\");\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    if (info.done) {\n      // Assign the result of the finished delegate to the temporary\n      // variable specified by delegate.resultName (see delegateYield).\n      context[delegate.resultName] = info.value;\n\n      // Resume execution at the desired location (see delegateYield).\n      context.next = delegate.nextLoc;\n\n      // If context.method was \"throw\" but the delegate handled the\n      // exception, let the outer generator proceed normally. If\n      // context.method was \"next\", forget context.arg since it has been\n      // \"consumed\" by the delegate iterator. If context.method was\n      // \"return\", allow the original .return call to continue in the\n      // outer generator.\n      if (context.method !== \"return\") {\n        context.method = \"next\";\n        context.arg = undefined;\n      }\n\n    } else {\n      // Re-yield the result returned by the delegate method.\n      return info;\n    }\n\n    // The delegate iterator is finished, so forget it and continue with\n    // the outer generator.\n    context.delegate = null;\n    return ContinueSentinel;\n  }\n\n  // Define Generator.prototype.{next,throw,return} in terms of the\n  // unified ._invoke helper method.\n  defineIteratorMethods(Gp);\n\n  Gp[toStringTagSymbol] = \"Generator\";\n\n  // A Generator should always return itself as the iterator object when the\n  // @@iterator function is called on it. Some browsers' implementations of the\n  // iterator prototype chain incorrectly implement this, causing the Generator\n  // object to not be returned from this call. This ensures that doesn't happen.\n  // See https://github.com/facebook/regenerator/issues/274 for more details.\n  Gp[iteratorSymbol] = function() {\n    return this;\n  };\n\n  Gp.toString = function() {\n    return \"[object Generator]\";\n  };\n\n  function pushTryEntry(locs) {\n    var entry = { tryLoc: locs[0] };\n\n    if (1 in locs) {\n      entry.catchLoc = locs[1];\n    }\n\n    if (2 in locs) {\n      entry.finallyLoc = locs[2];\n      entry.afterLoc = locs[3];\n    }\n\n    this.tryEntries.push(entry);\n  }\n\n  function resetTryEntry(entry) {\n    var record = entry.completion || {};\n    record.type = \"normal\";\n    delete record.arg;\n    entry.completion = record;\n  }\n\n  function Context(tryLocsList) {\n    // The root entry object (effectively a try statement without a catch\n    // or a finally block) gives us a place to store values thrown from\n    // locations where there is no enclosing try statement.\n    this.tryEntries = [{ tryLoc: \"root\" }];\n    tryLocsList.forEach(pushTryEntry, this);\n    this.reset(true);\n  }\n\n  runtime.keys = function(object) {\n    var keys = [];\n    for (var key in object) {\n      keys.push(key);\n    }\n    keys.reverse();\n\n    // Rather than returning an object with a next method, we keep\n    // things simple and return the next function itself.\n    return function next() {\n      while (keys.length) {\n        var key = keys.pop();\n        if (key in object) {\n          next.value = key;\n          next.done = false;\n          return next;\n        }\n      }\n\n      // To avoid creating an additional object, we just hang the .value\n      // and .done properties off the next function object itself. This\n      // also ensures that the minifier will not anonymize the function.\n      next.done = true;\n      return next;\n    };\n  };\n\n  function values(iterable) {\n    if (iterable) {\n      var iteratorMethod = iterable[iteratorSymbol];\n      if (iteratorMethod) {\n        return iteratorMethod.call(iterable);\n      }\n\n      if (typeof iterable.next === \"function\") {\n        return iterable;\n      }\n\n      if (!isNaN(iterable.length)) {\n        var i = -1, next = function next() {\n          while (++i < iterable.length) {\n            if (hasOwn.call(iterable, i)) {\n              next.value = iterable[i];\n              next.done = false;\n              return next;\n            }\n          }\n\n          next.value = undefined;\n          next.done = true;\n\n          return next;\n        };\n\n        return next.next = next;\n      }\n    }\n\n    // Return an iterator with no values.\n    return { next: doneResult };\n  }\n  runtime.values = values;\n\n  function doneResult() {\n    return { value: undefined, done: true };\n  }\n\n  Context.prototype = {\n    constructor: Context,\n\n    reset: function(skipTempReset) {\n      this.prev = 0;\n      this.next = 0;\n      // Resetting context._sent for legacy support of Babel's\n      // function.sent implementation.\n      this.sent = this._sent = undefined;\n      this.done = false;\n      this.delegate = null;\n\n      this.method = \"next\";\n      this.arg = undefined;\n\n      this.tryEntries.forEach(resetTryEntry);\n\n      if (!skipTempReset) {\n        for (var name in this) {\n          // Not sure about the optimal order of these conditions:\n          if (name.charAt(0) === \"t\" &&\n              hasOwn.call(this, name) &&\n              !isNaN(+name.slice(1))) {\n            this[name] = undefined;\n          }\n        }\n      }\n    },\n\n    stop: function() {\n      this.done = true;\n\n      var rootEntry = this.tryEntries[0];\n      var rootRecord = rootEntry.completion;\n      if (rootRecord.type === \"throw\") {\n        throw rootRecord.arg;\n      }\n\n      return this.rval;\n    },\n\n    dispatchException: function(exception) {\n      if (this.done) {\n        throw exception;\n      }\n\n      var context = this;\n      function handle(loc, caught) {\n        record.type = \"throw\";\n        record.arg = exception;\n        context.next = loc;\n\n        if (caught) {\n          // If the dispatched exception was caught by a catch block,\n          // then let that catch block handle the exception normally.\n          context.method = \"next\";\n          context.arg = undefined;\n        }\n\n        return !! caught;\n      }\n\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        var record = entry.completion;\n\n        if (entry.tryLoc === \"root\") {\n          // Exception thrown outside of any try block that could handle\n          // it, so set the completion value of the entire function to\n          // throw the exception.\n          return handle(\"end\");\n        }\n\n        if (entry.tryLoc <= this.prev) {\n          var hasCatch = hasOwn.call(entry, \"catchLoc\");\n          var hasFinally = hasOwn.call(entry, \"finallyLoc\");\n\n          if (hasCatch && hasFinally) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            } else if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else if (hasCatch) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            }\n\n          } else if (hasFinally) {\n            if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else {\n            throw new Error(\"try statement without catch or finally\");\n          }\n        }\n      }\n    },\n\n    abrupt: function(type, arg) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc <= this.prev &&\n            hasOwn.call(entry, \"finallyLoc\") &&\n            this.prev < entry.finallyLoc) {\n          var finallyEntry = entry;\n          break;\n        }\n      }\n\n      if (finallyEntry &&\n          (type === \"break\" ||\n           type === \"continue\") &&\n          finallyEntry.tryLoc <= arg &&\n          arg <= finallyEntry.finallyLoc) {\n        // Ignore the finally entry if control is not jumping to a\n        // location outside the try/catch block.\n        finallyEntry = null;\n      }\n\n      var record = finallyEntry ? finallyEntry.completion : {};\n      record.type = type;\n      record.arg = arg;\n\n      if (finallyEntry) {\n        this.method = \"next\";\n        this.next = finallyEntry.finallyLoc;\n        return ContinueSentinel;\n      }\n\n      return this.complete(record);\n    },\n\n    complete: function(record, afterLoc) {\n      if (record.type === \"throw\") {\n        throw record.arg;\n      }\n\n      if (record.type === \"break\" ||\n          record.type === \"continue\") {\n        this.next = record.arg;\n      } else if (record.type === \"return\") {\n        this.rval = this.arg = record.arg;\n        this.method = \"return\";\n        this.next = \"end\";\n      } else if (record.type === \"normal\" && afterLoc) {\n        this.next = afterLoc;\n      }\n\n      return ContinueSentinel;\n    },\n\n    finish: function(finallyLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.finallyLoc === finallyLoc) {\n          this.complete(entry.completion, entry.afterLoc);\n          resetTryEntry(entry);\n          return ContinueSentinel;\n        }\n      }\n    },\n\n    \"catch\": function(tryLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc === tryLoc) {\n          var record = entry.completion;\n          if (record.type === \"throw\") {\n            var thrown = record.arg;\n            resetTryEntry(entry);\n          }\n          return thrown;\n        }\n      }\n\n      // The context.catch method must only be called with a location\n      // argument that corresponds to a known catch block.\n      throw new Error(\"illegal catch attempt\");\n    },\n\n    delegateYield: function(iterable, resultName, nextLoc) {\n      this.delegate = {\n        iterator: values(iterable),\n        resultName: resultName,\n        nextLoc: nextLoc\n      };\n\n      if (this.method === \"next\") {\n        // Deliberately forget the last sent value so that we don't\n        // accidentally pass it on to the delegate.\n        this.arg = undefined;\n      }\n\n      return ContinueSentinel;\n    }\n  };\n})(\n  // Among the various tricks for obtaining a reference to the global\n  // object, this seems to be the most reliable technique that does not\n  // use indirect eval (which violates Content Security Policy).\n  typeof global === \"object\" ? global :\n  typeof window === \"object\" ? window :\n  typeof self === \"object\" ? self : this\n);\n","require('../../modules/core.regexp.escape');\nmodule.exports = require('../../modules/_core').RegExp.escape;\n","// https://github.com/benjamingr/RexExp.escape\nvar $export = require('./_export');\nvar $re = require('./_replacer')(/[\\\\^$*+?.()|[\\]{}]/g, '\\\\$&');\n\n$export($export.S, 'RegExp', { escape: function escape(it) { return $re(it); } });\n","module.exports = function (regExp, replace) {\n  var replacer = replace === Object(replace) ? function (part) {\n    return replace[part];\n  } : replace;\n  return function (it) {\n    return String(it).replace(regExp, replacer);\n  };\n};\n","const BaseViewElement = require('./base-view');\nrequire('./sign-in-view');\nrequire('./main-view');\nrequire('./app-header-view');\nrequire('./teams-auth-view');\n\n\nclass VernierApp extends BaseViewElement {\n\n    static tagName = 'vernier-app';\n\n    static getInstance() {\n        let tagName = VernierApp.tagName;\n        return document.querySelector(tagName);\n    }\n\n    currentView = null;\n    contentRoot = null;\n\n    constructor() {\n        super(VernierApp.tagName);\n        this.contentRoot = this.shadowRoot.getElementById('content-root');\n    }\n\n    navigate(view, parameter) {\n\n        setTimeout(() => {\n\n            if (this.currentView && this.currentView.unload) {\n                this.currentView.unload();\n            }\n\n            this.currentView = view;\n\n            while (this.contentRoot.firstChild) {\n                this.contentRoot.removeChild(this.contentRoot.firstChild);\n            }\n            this.contentRoot.appendChild(this.currentView);\n\n            if (this.currentView.initialize) {\n                this.currentView.initialize(parameter);\n            }\n        }, 0);\n    }\n}\n\ncustomElements.define(VernierApp.tagName, VernierApp);\nmodule.exports = VernierApp;","var map = {\n\t\"./app-header-view.html\": 353,\n\t\"./create-study-group-view.html\": 354,\n\t\"./leaderboard-view.html\": 355,\n\t\"./main-view.html\": 357,\n\t\"./score-progress-view.html\": 363,\n\t\"./sign-in-view.html\": 365,\n\t\"./study-groups-view.html\": 366,\n\t\"./teams-auth-view.html\": 368,\n\t\"./timeline-view.html\": 369,\n\t\"./todo-list-view.html\": 370,\n\t\"./vernier-app.html\": 371\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 352;","module.exports = \"<style>\\n  :host {\\n    all: initial;\\n    display: flex;\\n    flex-direction: column;\\n    color: #ffffff;\\n    font-family: \\\"Segoe UI\\\";\\n    background: #E5ECEC;\\n  }\\n\\n  .content-panel {\\n    display: flex;\\n    align-items: center;\\n    justify-content: space-between;\\n    height: 80px;\\n    background: linear-gradient(\\n      85.22deg,\\n      #f3b950 -10.4%,\\n      #388285 34.65%,\\n      #24595d 74.18%\\n    );\\n  }\\n\\n  .content-panel > div {\\n    \\n    display: flex;\\n    flex-direction: row;\\n    align-items: center;\\n  }\\n\\n  .hamburger-button {\\n    margin-left: 40px;\\n    cursor: pointer;\\n  }\\n\\n  .page-title {\\n    margin-left: 28px;\\n  }\\n\\n  .stats-panel {\\n    display: flex;\\n  }\\n\\n  .stats-panel > div {\\n    display: flex;\\n    flex-direction: column;\\n  }\\n\\n  .stats-panel > div:last-child, .stats-panel-2 > div:last-child {\\n    margin-left: 40px;\\n  }\\n\\n  .stat-name {\\n    font-size: 12px;\\n    line-height: 21px;\\n    opacity: 0.55;\\n    text-transform: uppercase;\\n  }\\n\\n  .stat-value {\\n    font-size: 18px;\\n    opacity: 0.99;\\n  }\\n\\n  .profile-panel {\\n    display: flex;\\n    margin-left: 40px;\\n    margin-right: 40px;\\n  }\\n  mgt-login {\\n    --color: #ffffff;\\n    color: black;\\n    --font-size: 18px;\\n    --avatar-size-s: 46px;\\n  }\\n\\n  .stats-panel-wrapper {\\n    display: none;\\n    justify-content: center;\\n    padding: 14px 48px;\\n  }\\n\\n  .stats-panel-2 {\\n    display: flex;\\n    flex-direction: row;\\n    max-width: 460px;\\n    width: 100%;\\n  }\\n\\n  @media only screen and (max-width: 952px) {\\n      .stats-panel {\\n        display: none;\\n      }\\n\\n      .stats-panel-wrapper {\\n        display: flex;\\n      }\\n\\n      .stat-name {\\n        color: #000000;\\n        opacity: 0.45;\\n      }\\n\\n      .stat-value {\\n        color: #000000;\\n      }\\n  }\\n</style>\\n<div class='content-panel'>\\n  <div class=\\\"title-panel\\\">\\n    <div class=\\\"hamburger-button\\\">\\n      <svg\\n        width=\\\"28\\\"\\n        height=\\\"21\\\"\\n        viewBox=\\\"0 0 28 21\\\"\\n        fill=\\\"none\\\"\\n        xmlns=\\\"http://www.w3.org/2000/svg\\\"\\n      >\\n        <rect width=\\\"28\\\" height=\\\"3\\\" rx=\\\"1.5\\\" fill=\\\"white\\\" />\\n        <rect y=\\\"9\\\" width=\\\"28\\\" height=\\\"3\\\" rx=\\\"1.5\\\" fill=\\\"white\\\" />\\n        <rect y=\\\"18\\\" width=\\\"28\\\" height=\\\"3\\\" rx=\\\"1.5\\\" fill=\\\"white\\\" />\\n      </svg>\\n    </div>\\n    <div class=\\\"page-title\\\">\\n      <svg\\n        width=\\\"157\\\"\\n        height=\\\"24\\\"\\n        viewBox=\\\"0 0 157 24\\\"\\n        fill=\\\"none\\\"\\n        xmlns=\\\"http://www.w3.org/2000/svg\\\"\\n      >\\n        <path\\n          d=\\\"M0 0H7.92997L17.1927 17.9496L26.6553 0H34.652L21.6575 23.7311H12.528L0 0Z\\\"\\n          fill=\\\"white\\\"\\n        />\\n        <path\\n          d=\\\"M54.3766 18.4193C54.31 20.9067 53.6436 22.184 51.8443 22.9907C50.3117 23.7302 48.3125 23.9991 43.8477 23.9991C41.1156 23.9991 38.5833 23.7975 37.1173 23.5958C35.1847 23.2597 33.6521 22.0496 32.8524 20.4361C32.3193 19.1588 32.0527 17.8815 32.0527 15.663C32.0527 11.0244 33.0523 8.73864 35.5846 7.66301C37.1173 6.99074 38.9831 6.78906 43.3813 6.78906C46.2467 6.78906 48.5791 6.92352 49.9118 7.19242C51.8443 7.59578 53.377 9.00755 53.9101 10.8899C54.1767 11.9655 54.31 12.9067 54.31 14.7218V16.537H38.3834V17.3437C38.3834 18.5538 38.7832 19.3605 39.5162 19.8311C40.0493 20.1 41.582 20.3017 43.9144 20.3017C47.4462 20.3017 48.3125 19.9655 48.4458 18.4193H54.3766ZM48.5124 13.3773C48.4458 11.0244 47.6461 10.5538 43.3813 10.5538C40.7824 10.5538 39.7161 10.7554 39.0498 11.3605C38.5833 11.7639 38.3167 12.3689 38.3167 13.1084V13.3773H48.5124Z\\\"\\n          fill=\\\"white\\\"\\n        />\\n        <path\\n          d=\\\"M56.7754 7.12602H62.5729V10.8235C63.2393 9.0756 63.5059 8.60501 64.2389 7.99997C65.2385 7.19324 67.1043 6.72266 69.37 6.72266C71.9023 6.72266 73.8348 7.39493 74.8344 8.60501C75.5674 9.54619 75.9006 10.958 75.9006 13.3781V14.4537H70.2363C70.1697 14.3193 70.1697 14.2521 70.1697 14.1848V13.9832C70.1697 12.3025 69.2368 11.4958 66.9711 11.4958C65.2385 11.4958 64.1056 11.9664 63.4392 12.9748C62.9728 13.7143 62.8395 14.3865 62.8395 16.0672V23.7311H56.7754V7.12602Z\\\"\\n          fill=\\\"white\\\"\\n        />\\n        <path\\n          d=\\\"M77.9668 7.12602H83.8976V10.958C84.6973 7.73106 86.4965 6.72266 91.4944 6.72266C95.2928 6.72266 97.4252 7.39493 98.8246 9.0756C99.8908 10.3529 100.357 11.9664 100.357 14.9243V23.7311H94.2932V15.1932C94.2932 12.3025 93.2936 11.4958 89.2953 11.4958C85.2304 11.4958 84.0975 12.5714 84.0975 16.2016V23.7311H77.9668V7.12602Z\\\"\\n          fill=\\\"white\\\"\\n        />\\n        <path\\n          d=\\\"M103.422 0H109.486V4.43697H103.422V0ZM103.422 7.12605H109.486V23.7311H103.422V7.12605Z\\\"\\n          fill=\\\"white\\\"\\n        />\\n        <path\\n          d=\\\"M134.81 18.4193C134.744 20.9067 134.077 22.184 132.278 22.9907C130.745 23.7302 128.746 23.9991 124.281 23.9991C121.549 23.9991 119.017 23.7975 117.551 23.5958C115.618 23.2597 114.086 22.0496 113.286 20.4361C112.753 19.1588 112.486 17.8815 112.486 15.663C112.486 11.0244 113.486 8.73864 116.018 7.66301C117.551 6.99074 119.417 6.78906 123.815 6.78906C126.68 6.78906 129.013 6.92352 130.345 7.19242C132.278 7.59578 133.811 9.00755 134.344 10.8899C134.61 11.9655 134.744 12.9067 134.744 14.7218V16.537H118.684V17.3437C118.684 18.5538 119.084 19.3605 119.817 19.8311C120.35 20.1 121.882 20.3017 124.215 20.3017C127.747 20.3017 128.613 19.9655 128.746 18.4193H134.81ZM128.879 13.3773C128.813 11.0244 128.013 10.5538 123.748 10.5538C121.149 10.5538 120.083 10.7554 119.417 11.3605C118.95 11.7639 118.684 12.3689 118.684 13.1084V13.3773H128.879Z\\\"\\n          fill=\\\"white\\\"\\n        />\\n        <path\\n          d=\\\"M137.875 7.12602H143.673V10.8235C144.339 9.0756 144.605 8.60501 145.338 7.99997C146.338 7.19324 148.204 6.72266 150.47 6.72266C153.002 6.72266 154.934 7.39493 155.934 8.60501C156.667 9.54619 157 10.958 157 13.3781V14.4537H151.336C151.269 14.3193 151.269 14.2521 151.269 14.1848V13.9832C151.269 12.3025 150.336 11.4958 148.071 11.4958C146.338 11.4958 145.205 11.9664 144.539 12.9748C144.072 13.7143 143.939 14.3865 143.939 16.0672V23.7311H137.875V7.12602Z\\\"\\n          fill=\\\"white\\\"\\n        />\\n      </svg>\\n    </div>\\n  </div>\\n  <div>\\n    <div class=\\\"stats-panel\\\">\\n      <div>\\n        <div class=\\\"stat-name\\\">Paper Progress</div>\\n        <div class=\\\"stat-value\\\">5/10 pages</div>\\n      </div>\\n      <div>\\n        <div class=\\\"stat-name\\\">Team Collaboration</div>\\n        <div class=\\\"stat-value\\\">42%</div>\\n      </div>\\n    </div>\\n    <div class=\\\"profile-panel\\\">\\n      <mgt-login></mgt-login>\\n    </div>\\n  </div>\\n</div>\\n<div class='stats-panel-wrapper'>\\n  <div class=\\\"stats-panel-2\\\">\\n    <div>\\n      <div class=\\\"stat-name\\\">Paper Progress</div>\\n      <div class=\\\"stat-value\\\">5/10 pages</div>\\n    </div>\\n    <div>\\n      <div class=\\\"stat-name\\\">Team Collaboration</div>\\n      <div class=\\\"stat-value\\\">42%</div>\\n    </div>\\n  </div>\\n</div>\\n\";","module.exports = \"<style>\\n    :host {\\n        all: initial;\\n        display: block;\\n        contain: content;\\n        font-family: 'Segoe UI';\\n        position: absolute;\\n        top: 0;\\n        left: 0;\\n        width: 100%;\\n        height: 100%;\\n        z-index: 10;\\n        background: rgba(31, 44, 45, 0.2);\\n    }\\n\\n    .light-dismiss-panel {\\n        width: 100%;\\n        height: 100%;\\n    }\\n\\n    .flyout-panel {\\n        background-color: #FFFFFF;\\n        box-shadow: 0px 10.6312px 16px rgba(180, 180, 180, 0.322), 0px 1.3289px 2.65781px rgba(68, 68, 68, 0.3);\\n        border-radius: 2px;\\n        padding: 10px;\\n        display: inline-flex;\\n        flex-direction: column;\\n        max-width: 230px;\\n    }\\n\\n    .group-name-input-header, .users-input-header {\\n        font-size: 12px;\\n        line-height: 14px;\\n        color: #454545;\\n        opacity: 0.6;\\n        margin-left: 12px;\\n    }\\n\\n    .users-input-header {\\n        margin-top: 24px;\\n    }\\n\\n    .group-name-input, .users-input {\\n        margin-left: 12px;\\n        margin-top: 4px;\\n        margin-bottom: 4px;\\n        border: 0;\\n        height: 18px;\\n        font-size: 14px;\\n        line-height: 16px;\\n    }\\n\\n    hr {\\n        height: 2px;\\n        width: 228px;\\n        background: #298D95;\\n        margin: 0;\\n        border:none;\\n    }\\n\\n    .create-button {\\n        width: 228px;\\n        height: 28px;\\n        background: linear-gradient(360deg, #266469 -62.96%, #419295 96.3%);\\n        border-radius: 3px;\\n        font-size: 12px;\\n        color: #FFFFFF;\\n        text-align: center;\\n        line-height: 28px;\\n        cursor: pointer;\\n        margin-top: 12px;\\n    }\\n\\n    mgt-people-picker {\\n        --accent-color: #298D95;\\n    }\\n</style>\\n<div class='light-dismiss-panel'>\\n    <div class='flyout-panel'>\\n        <div class='group-name-input-header'>Study group name</div>\\n        <input class='group-name-input' type=\\\"text\\\" />\\n        <hr />\\n        <div class='users-input-header'>Select users</div>\\n        <mgt-people-picker></mgt-people-picker>\\n        <div class='create-button'>Create a Study Group</div>\\n    </div>\\n</div>\";","module.exports = \"<style>\\n    :host {\\n        all: initial;\\n        display: block;\\n        contain: content;\\n        font-family: 'Segoe UI';\\n    }\\n\\n    .header-panel {\\n        display: flex;\\n        justify-content: space-between;\\n        align-items: center;\\n        margin: 24px 24px 24px 0;\\n    }\\n\\n    .section-title {\\n        font-size: 32px;\\n    }\\n\\n    .content-panel {\\n        background: #FFFFFF;\\n        box-shadow: 0px 2.61404px 16.9912px rgba(0, 0, 0, 0.042);\\n        user-select: none;\\n        height: 100%;\\n    }\\n\\n    img {\\n        width: 100%;\\n    }\\n</style>\\n<div class='header-panel'>\\n    <div class='section-title'>Leaderboard</div>\\n</div>\\n<div class='content-panel'>\\n    <img src='\" + require(\"../assets/leaderboard.png\") + \"' />\\n</div>\";","module.exports = __webpack_public_path__ + \"src/assets/leaderboard.png\";","module.exports = \"<style>\\n    :host {\\n        all: initial;\\n        display: block;\\n        contain: content;\\n        font-family: 'Segoe UI';\\n        background-color: #EEEEEE;\\n        /*background-color: #F8FAFA;*/\\n    }\\n\\n    .view-header-panel {\\n        background-color: #EFF3F3;\\n        display: flex;\\n        justify-content: center;\\n    }\\n\\n    .header-root {\\n        display: flex;\\n        justify-content: space-between;\\n        align-items: center;\\n        height: 148px;\\n        width: 1460px;\\n        padding: 0 48px;\\n    }\\n\\n    .team-metadata {\\n        display: flex;\\n        flex-direction: column;\\n    }\\n\\n    .team-name {\\n        font-size: 34px;\\n        opacity: .89;\\n        color: #333333;\\n    }\\n\\n    .team-room {\\n        margin-top: 4px;\\n        display: flex;\\n        align-items: center;\\n    }\\n\\n    .location-icon {\\n        margin-right: 4px;\\n        margin-top: 2px; \\n    }\\n\\n    .room-name {\\n        color: #000000;\\n        font-size: 14px;\\n    }\\n\\n    .team-members {\\n        margin-top: 12px;\\n        display: flex;\\n        align-items: center;\\n    }\\n\\n    .team-members img {\\n        height: 20px;\\n        width: 20px;\\n        border-radius: 20px;\\n        margin-right: 4px;\\n        background-color: gray;\\n    }\\n\\n    .team-members span {\\n\\n    }\\n\\n    .class-metadata {\\n\\n    }\\n\\n    .class-dates {\\n        font-size: 22px;\\n        color: #000000;\\n        opacity: 0.9;\\n    }\\n    \\n    .class-name {\\n        margin-top: 4px;\\n        font-size: 12px;\\n        color: #000000;\\n        opacity: 0.67;\\n    }\\n\\n    .class-teacher {\\n        margin-top: 20px;\\n        display: flex;\\n        align-items: center;\\n    }\\n\\n    .class-teacher img {\\n        height: 24px;\\n        width: 24px;\\n        border-radius: 24px;\\n        margin-right: 4px;\\n    }\\n\\n    .buttons-panel {\\n        display: flex;\\n        align-items: center;\\n    }\\n\\n    .buttons-panel div {\\n        margin-right: 32px;\\n        color: #298D95;\\n        cursor: pointer;\\n        line-height: 30px;\\n    }\\n\\n    .content-panel {\\n        padding: 48px;\\n        display: flex;\\n        justify-content: center;\\n    }\\n\\n    .content-panel > div {\\n        display: flex;\\n        flex-wrap: wrap;\\n        width: 1460px;\\n        justify-content: space-between;\\n    }\\n\\n    .timeline, .todo-list, .study-group {\\n        min-height: 644px;\\n        width: 460px;\\n        overflow: hidden;\\n    }\\n\\n    .leaderboard {\\n        width: 460px;\\n        overflow: hidden;\\n    }\\n\\n    .score-progress {\\n        width: 960px;\\n    }\\n\\n    .score-progress-2 {\\n        max-width: 864px;\\n        width: 100%;\\n        display: none;\\n    }\\n\\n    @media only screen and (max-width: 1572px) {\\n        .content-panel > div, .header-root {\\n            width: 864px;\\n        }\\n\\n        .timeline, .todo-list, .study-group, .leaderboard {\\n            width: 412px;\\n        }\\n\\n        .buttons-panel {\\n            flex-direction: column;\\n            align-items: baseline;\\n        }\\n\\n        .score-progress {\\n            display: none;\\n        }\\n\\n        .score-progress-2 {\\n            display: initial;\\n        }\\n    }\\n\\n    @media only screen and (max-width: 952px) {\\n        .content-panel {\\n            padding: 0 48px 48px 48px;\\n        }\\n        \\n        .content-panel > div {\\n            width: 460px;\\n        }\\n\\n        .header-root {\\n            width: 460px;\\n            align-items: baseline;\\n            flex-direction: column;\\n            height: auto;\\n            margin-top: 18px;\\n            margin-bottom: 12px;\\n        }\\n\\n        .class-metadata, .buttons-panel {\\n            margin-top: 42px;\\n        }\\n    }\\n</style>\\n<div>\\n    <app-header-view></app-header-view>\\n    <div class='view-header-panel'>\\n        <div class='header-root'>\\n            <div class='team-metadata'>\\n                <div class='team-name'>Frog Nation Team</div>\\n                <div class='team-room'>\\n                    <div class='location-icon'>\\n                        <svg width=\\\"12\\\" height=\\\"16\\\" viewBox=\\\"0 0 12 16\\\" fill=\\\"none\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\">\\n                            <g opacity=\\\"0.55\\\">\\n                                <path fill-rule=\\\"evenodd\\\" clip-rule=\\\"evenodd\\\" d=\\\"M5.99925 7.50109C4.93887 7.50109 4.07617 6.64445 4.07617 5.59152C4.07617 4.53828 4.93887 3.68164 5.99925 3.68164C7.05995 3.68164 7.92233 4.53828 7.92233 5.59152C7.92233 6.64445 7.05995 7.50109 5.99925 7.50109Z\\\" stroke=\\\"black\\\"/>\\n                                <path fill-rule=\\\"evenodd\\\" clip-rule=\\\"evenodd\\\" d=\\\"M9.98713 8.84294L6.00037 14.375L2.00721 8.83457C0.496376 6.89868 0.712874 3.71884 2.47101 2.02979C3.41372 1.12398 4.66709 0.625 6.00037 0.625C7.33365 0.625 8.58701 1.12398 9.53001 2.02979C11.2884 3.71884 11.5046 6.89868 9.98713 8.84294Z\\\" stroke=\\\"black\\\"/>\\n                            </g>\\n                        </svg>\\n                    </div>\\n                    <div class='room-name'>H102</div>\\n                </div>\\n                <div class='team-members'>\\n                    <img src='\" + require(\"../assets/shane.png\") + \"' />\\n                    <img src='\" + require(\"../assets/herrick.png\") + \"' />\\n                    <img src='\" + require(\"../assets/nick.png\") + \"' />\\n                    <img src='\" + require(\"../assets/roman.png\") + \"' />\\n                </div>\\n            </div>\\n            <div class='class-metadata'>\\n                <div class='class-dates'>September 1 - December 28, 2019</div>\\n                <div class='class-name'>Physics 102</div>\\n                <div class='class-teacher'>\\n                    <img src='\" + require(\"../assets/nikola.png\") + \"' />\\n                    <span>Nikola Metulev, PhD.</span>\\n                </div>\\n            </div>\\n            <div class='buttons-panel'>\\n                <div class='ask-friend-button'>\\n                    <svg width=\\\"6\\\" height=\\\"10\\\" viewBox=\\\"0 0 6 10\\\" fill=\\\"none\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\">\\n                        <path opacity=\\\"0.22\\\" d=\\\"M1 1L5 5L1 9\\\" stroke=\\\"black\\\"/>\\n                    </svg> \\n                    <span>Ask a friend</span>\\n                </div>\\n                <div class='find-expert-button'>\\n                    <svg width=\\\"6\\\" height=\\\"10\\\" viewBox=\\\"0 0 6 10\\\" fill=\\\"none\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\">\\n                        <path opacity=\\\"0.22\\\" d=\\\"M1 1L5 5L1 9\\\" stroke=\\\"black\\\"/>\\n                    </svg> \\n                    <span>Find an expert</span>\\n                </div>\\n                <div class='ask-teacher-button'>\\n                    <svg width=\\\"6\\\" height=\\\"10\\\" viewBox=\\\"0 0 6 10\\\" fill=\\\"none\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\">\\n                        <path opacity=\\\"0.22\\\" d=\\\"M1 1L5 5L1 9\\\" stroke=\\\"black\\\"/>\\n                    </svg> \\n                    <span>Ask the teacher</span>\\n                </div>\\n            </div>\\n        </div>\\n    </div>\\n    <div class='content-panel'>\\n        <div>\\n            <timeline-view class='timeline'></timeline-view>\\n            <todo-list-view class='todo-list'></todo-list-view>\\n            <score-progress-view class='score-progress-2'></score-progress-view>\\n            <study-groups-view class='study-group'></study-groups-view>\\n            <score-progress-view class='score-progress'></score-progress-view>\\n            <leaderboard-view class='leaderboard'></leaderboard-view>\\n        </div>\\n    </div>\\n</div>\";","module.exports = __webpack_public_path__ + \"src/assets/shane.png\";","module.exports = __webpack_public_path__ + \"src/assets/herrick.png\";","module.exports = __webpack_public_path__ + \"src/assets/nick.png\";","module.exports = __webpack_public_path__ + \"src/assets/roman.png\";","module.exports = __webpack_public_path__ + \"src/assets/nikola.png\";","module.exports = \"<style>\\n    :host {\\n        all: initial;\\n        display: block;\\n        contain: content;\\n        font-family: 'Segoe UI';\\n    }\\n\\n    .header-panel {\\n        display: flex;\\n        justify-content: space-between;\\n        align-items: center;\\n        margin: 24px 0;\\n    }\\n\\n    .section-title {\\n        font-size: 32px;\\n    }\\n\\n    .content-panel {\\n        background: #FFFFFF;\\n        box-shadow: 0px 2.61404px 16.9912px rgba(0, 0, 0, 0.042);\\n        user-select: none;\\n    }\\n\\n    .open-button {\\n        background: linear-gradient(360deg, #266469 -62.96%, #419295 96.3%);\\n        border-radius: 3px;\\n        width: 140px;\\n        height: 28px;\\n        font-size: 12px;\\n        text-align: center;\\n        color: #FFFFFF;\\n        line-height: 28px;\\n        cursor: pointer;\\n    }\\n\\n    img { \\n        width: 100%;\\n    }\\n</style>\\n<div class='header-panel'>\\n    <div class='section-title'>Continue Experiment</div>\\n    <div class='buttons-panel'>\\n        <div class=\\\"open-button\\\">Open in Vernier app</div>\\n    </div>\\n</div>\\n<div class='content-panel'>\\n    <img src='\" + require(\"../assets/chart.png\") + \"' />\\n</div>\";","module.exports = __webpack_public_path__ + \"src/assets/chart.png\";","module.exports = \"<style>\\n    :host {\\n        all: initial;\\n        display: block;\\n        contain: content;\\n        font-family: 'Segoe UI';\\n        height: 100vh;\\n        width: 100vw;\\n        background: linear-gradient(166.5deg, #F3B950 -10.88%, #388285 41.22%, #24595D 86.94%);\\n    }\\n\\n    .background-panel {\\n        height: 100vh;\\n        width: 100vw;\\n        background: url(\\\"./background.png\\\");\\n        background-size: cover;\\n        background-position: center;\\n        display: flex;\\n        justify-content: center;\\n        align-items: center;\\n        flex-direction: column;\\n    }\\n\\n    .app-logo {\\n        margin-bottom: 60px;\\n        text-align: center;\\n    }\\n\\n    .buttons-panel {\\n        display: flex;\\n    }\\n\\n    .buttons-panel > div {\\n        height: 58px;\\n        display: flex;\\n        justify-content: center;\\n        align-items: center;\\n        font-size: 22px;\\n        cursor: pointer;\\n    }\\n\\n    .student-button {\\n        background: linear-gradient(180deg, #F6D089 0%, #E7AD43 100%);\\n        box-shadow: 0px 4px 4px rgba(0, 0, 0, 0.25);\\n        border-radius: 9px;\\n        color: #034D51; \\n        width: 300px;\\n    }\\n\\n    .teacher-button {\\n        border: 2px solid #FFFFFF38;\\n        border-radius: 9px;\\n        margin-left: 24px;\\n        color: #FFFFFF;\\n        width: 296px;\\n    }\\n\\n    @media only screen and (max-width: 1080px) {\\n        .buttons-panel {\\n            flex-direction: column;\\n        }\\n\\n        .student-button {\\n            margin: 0;\\n        }\\n\\n        .teacher-button {\\n            margin: 20px 0 0 0;\\n        }\\n    }\\n</style>\\n<div class='background-panel'>\\n    <div class='app-logo'>\\n        <svg width=\\\"261\\\" height=\\\"40\\\" viewBox=\\\"0 0 261 40\\\" fill=\\\"none\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\">\\n            <path d=\\\"M0 0H13.1829L28.5815 29.916L44.3124 0H57.6061L36.0038 39.5518H20.8268L0 0Z\\\" fill=\\\"white\\\"/>\\n            <path d=\\\"M90.3968 30.7002C90.286 34.8458 89.1782 36.9747 86.1871 38.3192C83.6392 39.5517 80.3157 39.9999 72.8934 39.9999C68.3514 39.9999 64.1417 39.6637 61.7045 39.3276C58.4919 38.7674 55.9439 36.7506 54.6145 34.0615C53.7283 31.9327 53.2852 29.8038 53.2852 26.1063C53.2852 18.3752 54.9469 14.5657 59.1566 12.773C61.7045 11.6525 64.8064 11.3164 72.1179 11.3164C76.8815 11.3164 80.7588 11.5405 82.9745 11.9887C86.1871 12.6609 88.7351 15.0139 89.6213 18.1511C90.0644 19.9439 90.286 21.5125 90.286 24.5377V27.5629H63.8094V28.9074C63.8094 30.9243 64.474 32.2688 65.6926 33.0531C66.5789 33.5013 69.1268 33.8374 73.0042 33.8374C78.8756 33.8374 80.3157 33.2772 80.5373 30.7002H90.3968ZM80.6481 22.2968C80.5373 18.3752 79.2079 17.5909 72.1179 17.5909C67.7975 17.5909 66.025 17.9271 64.9172 18.9355C64.1417 19.6077 63.6986 20.6161 63.6986 21.8486V22.2968H80.6481Z\\\" fill=\\\"white\\\"/>\\n            <path d=\\\"M94.3848 11.8773H104.023V18.0398C105.131 15.1266 105.574 14.3423 106.792 13.3339C108.454 11.9894 111.556 11.2051 115.322 11.2051C119.532 11.2051 122.745 12.3255 124.406 14.3423C125.625 15.911 126.179 18.2639 126.179 22.2975V24.0902H116.763C116.652 23.8661 116.652 23.7541 116.652 23.6421V23.3059C116.652 20.5048 115.101 19.1603 111.334 19.1603C108.454 19.1603 106.571 19.9446 105.463 21.6252C104.687 22.8577 104.466 23.9782 104.466 26.7793V39.5524H94.3848V11.8773Z\\\" fill=\\\"white\\\"/>\\n            <path d=\\\"M129.613 11.8773H139.473V18.2639C140.802 12.8857 143.793 11.2051 152.102 11.2051C158.416 11.2051 161.961 12.3255 164.288 15.1266C166.06 17.2555 166.836 19.9446 166.836 24.8745V39.5524H156.755V25.3227C156.755 20.5048 155.093 19.1603 148.446 19.1603C141.688 19.1603 139.805 20.953 139.805 27.0034V39.5524H129.613V11.8773Z\\\" fill=\\\"white\\\"/>\\n            <path d=\\\"M171.932 0H182.013V7.39496H171.932V0ZM171.932 11.8767H182.013V39.5518H171.932V11.8767Z\\\" fill=\\\"white\\\"/>\\n            <path d=\\\"M224.11 30.7002C223.999 34.8458 222.891 36.9747 219.9 38.3192C217.352 39.5517 214.029 39.9999 206.606 39.9999C202.064 39.9999 197.855 39.6637 195.417 39.3276C192.205 38.7674 189.657 36.7506 188.327 34.0615C187.441 31.9327 186.998 29.8038 186.998 26.1063C186.998 18.3752 188.66 14.5657 192.869 12.773C195.417 11.6525 198.519 11.3164 205.831 11.3164C210.594 11.3164 214.472 11.5405 216.687 11.9887C219.9 12.6609 222.448 15.0139 223.334 18.1511C223.777 19.9439 223.999 21.5125 223.999 24.5377V27.5629H197.301V28.9074C197.301 30.9243 197.965 32.2688 199.184 33.0531C200.07 33.5013 202.618 33.8374 206.495 33.8374C212.367 33.8374 213.807 33.2772 214.029 30.7002H224.11ZM214.25 22.2968C214.139 18.3752 212.81 17.5909 205.72 17.5909C201.4 17.5909 199.627 17.9271 198.519 18.9355C197.744 19.6077 197.301 20.6161 197.301 21.8486V22.2968H214.25Z\\\" fill=\\\"white\\\"/>\\n            <path d=\\\"M229.205 11.8773H238.843V18.0398C239.951 15.1266 240.394 14.3423 241.613 13.3339C243.274 11.9894 246.376 11.2051 250.143 11.2051C254.352 11.2051 257.565 12.3255 259.227 14.3423C260.445 15.911 260.999 18.2639 260.999 22.2975V24.0902H251.583C251.472 23.8661 251.472 23.7541 251.472 23.6421V23.3059C251.472 20.5048 249.921 19.1603 246.155 19.1603C243.274 19.1603 241.391 19.9446 240.283 21.6252C239.508 22.8577 239.286 23.9782 239.286 26.7793V39.5524H229.205V11.8773Z\\\" fill=\\\"white\\\"/>\\n        </svg>\\n    </div>\\n    <div class='buttons-panel'>\\n        <div class='student-button'>I'm a student</div>\\n        <div class='teacher-button'>I'm a teacher</div>\\n    </div>\\n</div>\";","module.exports = \"<style>\\n    :host {\\n        all: initial;\\n        display: block;\\n        contain: content;\\n        font-family: 'Segoe UI';\\n    }\\n\\n    .header-panel {\\n        display: flex;\\n        justify-content: space-between;\\n        align-items: center;\\n        margin: 24px 24px 24px 0;\\n    }\\n\\n    .section-title {      \\n        font-size: 32px;\\n    }\\n\\n    .buttons-panel {\\n        display: flex;\\n    }\\n\\n    .buttons-panel > div {\\n        min-width: 32px;\\n        min-height: 32px;\\n        display: flex;\\n        align-items: center;\\n        justify-content: center;\\n        margin-left: 8px;\\n        cursor: pointer;\\n    }\\n\\n    .content-panel {\\n        background: #FFFFFF;\\n        box-shadow: 0px 2.61404px 16.9912px rgba(0, 0, 0, 0.042);\\n        user-select: none;\\n        height: 552px;\\n    }\\n\\n    img {\\n        width: 100%;\\n    }\\n\\n    .new-group-section {\\n        display: flex;\\n        margin-bottom: 8px;\\n    }\\n\\n    .people-picker {\\n        width: 354px;\\n        margin: 0 4px 0 4px\\n    }\\n\\n    mgt-people-picker {\\n        width: 100%;\\n    }\\n\\n    .create-button {\\n        margin-top: 14px;\\n        margin-left: 14px;\\n    }\\n\\n    .create-study-group-title {\\n        padding: 16px 4px 0 8px;\\n        font-weight: bolder;\\n    }\\n</style>\\n<div class='header-panel'>\\n    <div class='section-title'>Study Groups</div>\\n    <div class='buttons-panel'>\\n        <div class=\\\"find-button\\\">\\n            <svg width=\\\"20\\\" height=\\\"20\\\" viewBox=\\\"0 0 20 20\\\" fill=\\\"none\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\">\\n                <path opacity=\\\"0.9\\\" d=\\\"M13.125 0C13.7565 0 14.3652 0.0813802 14.9512 0.244141C15.5371 0.406901 16.084 0.638021 16.5918 0.9375C17.0996 1.23698 17.5618 1.59831 17.9785 2.02148C18.4017 2.43815 18.763 2.90039 19.0625 3.4082C19.362 3.91602 19.5931 4.46289 19.7559 5.04883C19.9186 5.63477 20 6.24349 20 6.875C20 7.50651 19.9186 8.11523 19.7559 8.70117C19.5931 9.28711 19.362 9.83398 19.0625 10.3418C18.763 10.8496 18.4017 11.3151 17.9785 11.7383C17.5618 12.1549 17.0996 12.513 16.5918 12.8125C16.084 13.112 15.5371 13.3431 14.9512 13.5059C14.3652 13.6686 13.7565 13.75 13.125 13.75C12.3112 13.75 11.5299 13.6133 10.7812 13.3398C10.0391 13.0664 9.35547 12.6725 8.73047 12.1582L1.06445 19.8145C0.940755 19.9382 0.794271 20 0.625 20C0.455729 20 0.309245 19.9382 0.185547 19.8145C0.061849 19.6908 0 19.5443 0 19.375C0 19.2057 0.061849 19.0592 0.185547 18.9355L7.8418 11.2695C7.32747 10.6445 6.93359 9.96094 6.66016 9.21875C6.38672 8.47005 6.25 7.6888 6.25 6.875C6.25 6.24349 6.33138 5.63477 6.49414 5.04883C6.6569 4.46289 6.88802 3.91602 7.1875 3.4082C7.48698 2.90039 7.84505 2.43815 8.26172 2.02148C8.6849 1.59831 9.15039 1.23698 9.6582 0.9375C10.166 0.638021 10.7129 0.406901 11.2988 0.244141C11.8848 0.0813802 12.4935 0 13.125 0ZM13.125 12.5C13.8997 12.5 14.6289 12.3535 15.3125 12.0605C15.9961 11.7611 16.5918 11.3574 17.0996 10.8496C17.6074 10.3418 18.0078 9.74609 18.3008 9.0625C18.6003 8.37891 18.75 7.64974 18.75 6.875C18.75 6.10026 18.6003 5.37109 18.3008 4.6875C18.0078 4.00391 17.6074 3.4082 17.0996 2.90039C16.5918 2.39258 15.9961 1.99219 15.3125 1.69922C14.6289 1.39974 13.8997 1.25 13.125 1.25C12.3503 1.25 11.6211 1.39974 10.9375 1.69922C10.2539 1.99219 9.6582 2.39258 9.15039 2.90039C8.64258 3.4082 8.23893 4.00391 7.93945 4.6875C7.64648 5.37109 7.5 6.10026 7.5 6.875C7.5 7.64974 7.64648 8.37891 7.93945 9.0625C8.23893 9.74609 8.64258 10.3418 9.15039 10.8496C9.6582 11.3574 10.2539 11.7611 10.9375 12.0605C11.6211 12.3535 12.3503 12.5 13.125 12.5Z\\\" fill=\\\"#298D95\\\"/>\\n            </svg>\\n        </div>\\n    </div>\\n</div>\\n<div class='content-panel'>\\n    <div class=\\\"create-study-group-title\\\">Choose who you want in your study group:</div>\\n    <div class=\\\"new-group-section\\\">\\n        <div class=\\\"people-picker\\\">\\n            <mgt-people-picker></mgt-people-picker>\\n        </div>\\n        <div class=\\\"create-button\\\">\\n            <svg width=\\\"22\\\" height=\\\"22\\\" viewBox=\\\"0 0 22 22\\\" fill=\\\"none\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\">\\n                <path d=\\\"M10.9854 20.9677L10.9854 0.997147\\\" stroke=\\\"#298D95\\\" stroke-width=\\\"1.2\\\" stroke-linecap=\\\"round\\\"/>\\n                <path d=\\\"M20.9696 10.9853L0.9991 10.9853\\\" stroke=\\\"#298D95\\\" stroke-width=\\\"1.2\\\" stroke-linecap=\\\"round\\\"/>\\n            </svg>\\n        </div>\\n    </div>\\n    <div>\\n        <img src='\" + require(\"../assets/study-groups.png\") + \"' />\\n    </div>\\n</div>\";","module.exports = __webpack_public_path__ + \"src/assets/study-groups.png\";","module.exports = \"<div>\\n    <div id='content-root'></div>\\n</div>\";","module.exports = \"<style>\\n  .header-panel {\\n    display: flex;\\n    justify-content: space-between;\\n    align-items: center;\\n    margin: 24px 24px 24px 0;\\n  }\\n\\n  .not-signed-in {\\n    font-size: 32px;\\n    font-weight: bolder;\\n    text-align: center;\\n    padding: 12px;\\n    opacity: 60%;\\n    padding-top:80px;\\n  }\\n\\n  .section-title {\\n    font-size: 32px;\\n  }\\n\\n  .buttons-panel {\\n    display: flex;\\n  }\\n\\n  .buttons-panel > div {\\n    min-width: 32px;\\n    min-height: 32px;\\n    display: flex;\\n    align-items: center;\\n    justify-content: center;\\n    margin-left: 8px;\\n    cursor: pointer;\\n  }\\n\\n  .content-root {\\n    background-color: #ffffff;\\n    box-shadow: 0px 2.61404px 16.9912px rgba(0, 0, 0, 0.042);\\n    height: 552px;\\n    /* padding-top: 20px;\\n    padding-left: 20px; */\\n    padding: 10px 20px;\\n\\n  }\\n\\n  .root {\\n    display: flex;\\n    min-height: 75px;\\n    background: white;\\n  }\\n\\n  .time-container {\\n    width: 120px;\\n    margin-top: 10px;\\n    display: flex;\\n    flex-direction: column;\\n    align-items: flex-end;\\n  }\\n\\n  .date {\\n    font-size: 13px;\\n    font-weight: bold;\\n  }\\n\\n  .time {\\n    font-size: 12px;\\n  }\\n\\n  .location {\\n    font-size: 14px;\\n  }\\n\\n  .details {\\n    margin-bottom: 20px;\\n    margin-top: 5px;\\n    font-size: 18px;\\n  }\\n\\n  .separator {\\n    width: 40px;\\n    display: flex;\\n    flex-direction: column;\\n    align-items: center;\\n    opacity: 1;\\n  }\\n\\n  .vertical-line {\\n    align-content: center;\\n    width: 4px;\\n    background-color: #e5f2f3;\\n  }\\n\\n  .vertical-line.top {\\n    height: 16px;\\n  }\\n\\n  .vertical-line.bottom {\\n    flex: 1;\\n  }\\n\\n  .circle {\\n    /* background-color: blue; */\\n    border-radius: 50%;\\n    height: 20px;\\n    width: 20px;\\n    position: relative;\\n    border: 2px solid #e5f2f3;\\n  }\\n\\n  .circle .inner-circle {\\n    position: absolute;\\n    background-color: #307176;\\n    border-radius: 50%;\\n    height: 8px;\\n    width: 8px;\\n\\n    top: 50%;\\n    left: 50%;\\n    margin: -4px 0 0 -4px;\\n  }\\n\\n  .online-meeting {\\n    font-size: 10px;\\n  }\\n  .online-meeting-icon {\\n    max-width: 16px;\\n    vertical-align: middle;\\n  }\\n  .online-meeting-link {\\n    text-decoration: none;\\n    color: #298d95;\\n  }\\n\\n  mgt-agenda {\\n    margin: 20px;\\n  }\\n</style>\\n<div class=\\\"header-panel\\\">\\n  <div class=\\\"section-title\\\">Timeline</div>\\n  <div class=\\\"buttons-panel\\\">\\n    <div class=\\\"create-button\\\">\\n      <svg\\n        width=\\\"22\\\"\\n        height=\\\"22\\\"\\n        viewBox=\\\"0 0 22 22\\\"\\n        fill=\\\"none\\\"\\n        xmlns=\\\"http://www.w3.org/2000/svg\\\"\\n      >\\n        <path\\n          d=\\\"M10.9854 20.9677L10.9854 0.997147\\\"\\n          stroke=\\\"#298D95\\\"\\n          stroke-width=\\\"1.2\\\"\\n          stroke-linecap=\\\"round\\\"\\n        />\\n        <path\\n          d=\\\"M20.9696 10.9853L0.9991 10.9853\\\"\\n          stroke=\\\"#298D95\\\"\\n          stroke-width=\\\"1.2\\\"\\n          stroke-linecap=\\\"round\\\"\\n        />\\n      </svg>\\n    </div>\\n  </div>\\n</div>\\n<div class=\\\"content-root\\\">\\n  <!-- <div class=\\\"not-signed-in\\\">\\n    [TODO] \\n    <br />\\n    This is whdfsdfere you will see what's coming up\\n  </div> -->\\n\\n  <mgt-agenda days=\\\"60\\\" group-id=\\\"9dee49d5-6d84-4035-8da8-953a2957d87b\\\">\\n    <template data-type=\\\"event\\\">\\n      <div class=\\\"root\\\">\\n        <div class=\\\"time-container\\\">\\n          <div class=\\\"date\\\">{{{ dayFromDateTime(event.start.dateTime) }}}</div>\\n          <div class=\\\"time\\\">{{{ timeRangeFromEvent(event) }}}</div>\\n        </div>\\n        <div class=\\\"separator\\\">\\n          <div class=\\\"vertical-line top\\\"></div>\\n          <div class=\\\"circle\\\">\\n            <div data-if=\\\"!event.onlineMeetingUrl\\\" class=\\\"inner-circle\\\"></div>\\n          </div>\\n          <div class=\\\"vertical-line bottom\\\"></div>\\n        </div>\\n        <div class=\\\"details\\\">\\n          <div class=\\\"subject\\\">{{ event.subject }}</div>\\n          <div class=\\\"location\\\" data-if=\\\"event.location.displayName\\\">\\n            at <b>{{ event.location.displayName }}</b>\\n          </div>\\n          <div\\n            class=\\\"online-meeting\\\"\\n            data-if=\\\"event.bodyPreview.includes('Join Microsoft Teams Meeting')\\\"\\n          >\\n            <img\\n              class=\\\"online-meeting-icon\\\"\\n              src=\\\"https://img.icons8.com/color/48/000000/microsoft-teams.png\\\"\\n            />\\n            <a class=\\\"online-meeting-link\\\" href=\\\"{{ event.onlineMeetingUrl }}\\\"\\n              >Join Teams Meeting</a\\n            >\\n          </div>\\n        </div>\\n      </div>\\n    </template>\\n  </mgt-agenda>\\n</div>\\n\";","module.exports = \"<style>\\n  .header-panel {\\n    display: flex;\\n    justify-content: space-between;\\n    align-items: center;\\n    margin: 24px 24px 24px 0;\\n  }\\n\\n  .section-title {\\n    font-size: 32px;\\n  }\\n\\n  .buttons-panel {\\n    display: flex;\\n  }\\n\\n  .buttons-panel > div {\\n    min-width: 32px;\\n    min-height: 32px;\\n    display: flex;\\n    align-items: center;\\n    justify-content: center;\\n    margin-left: 8px;\\n    cursor: pointer;\\n  }\\n\\n  .content-panel {\\n    background-color: #ffffff;\\n    box-shadow: 0px 2.61404px 16.9912px rgba(0, 0, 0, 0.042);\\n    height: 100%;\\n    padding: 20px 0 0 0;\\n  }\\n\\n  .not-signed-in {\\n    font-size: 32px;\\n    font-weight: bolder;\\n    text-align: center;\\n    padding: 12px;\\n    opacity: 60%;\\n    padding-top:80px;\\n  }\\n\\n  mgt-tasks {\\n    --task-box-shadow: inset 0 -1px 0 0 rgba(165, 165, 165, 0.33);\\n    font-style: normal;\\n    font-weight: 350;\\n    line-height: 27px;\\n  }\\n</style>\\n<div class=\\\"header-panel\\\">\\n  <div class=\\\"section-title\\\">To-do list</div>\\n  <div class=\\\"buttons-panel\\\">\\n    <div class=\\\"create-button\\\">\\n      <svg\\n        width=\\\"22\\\"\\n        height=\\\"22\\\"\\n        viewBox=\\\"0 0 22 22\\\"\\n        fill=\\\"none\\\"\\n        xmlns=\\\"http://www.w3.org/2000/svg\\\"\\n      >\\n        <path\\n          d=\\\"M10.9854 20.9677L10.9854 0.997147\\\"\\n          stroke=\\\"#298D95\\\"\\n          stroke-width=\\\"1.2\\\"\\n          stroke-linecap=\\\"round\\\"\\n        />\\n        <path\\n          d=\\\"M20.9696 10.9853L0.9991 10.9853\\\"\\n          stroke=\\\"#298D95\\\"\\n          stroke-width=\\\"1.2\\\"\\n          stroke-linecap=\\\"round\\\"\\n        />\\n      </svg>\\n    </div>\\n  </div>\\n</div>\\n<div class=\\\"content-panel\\\">\\n\\n    <mgt-tasks hide-header ></mgt-tasks>\\n  <!-- <mgt-tasks hide-header ></mgt-tasks> -->\\n</div>\\n\";","module.exports = \"<div>\\n    <div id='content-root'></div>\\n</div>\";","const {Providers, MsalProvider, TeamsProvider} = require('@microsoft/mgt');\n\nrequire('./todo-list-view');\nrequire('./timeline-view');\nrequire('./study-groups-view');\nrequire('./score-progress-view');\nrequire('./leaderboard-view');\nrequire('./sign-in-view');\nconst teams = require(\"@microsoft/teams-js/dist/MicrosoftTeams\");\nconst BaseViewElement = require(\"./base-view\");\n\nclass MainViewElement extends BaseViewElement {\n\n    static tagName = 'main-view';\n    \n    constructor() {\n        super(MainViewElement.tagName);\n        \n        TeamsProvider.microsoftTeamsLib = teams;\n\n        TeamsProvider.isAvailable().then(inTeams => {\n            if (inTeams) {\n        \n                Providers.globalProvider = new TeamsProvider({\n                    clientId: 'a974dfa0-9f57-49b9-95db-90f04ce2111a',\n                    authPopupUrl: 'auth.html'\n                });\n            } else {\n                Providers.globalProvider = new MsalProvider({\n                    clientId: 'a974dfa0-9f57-49b9-95db-90f04ce2111a'\n                })\n            }\n        })\n    }\n\n    initialize(parameter) {\n\n        let askFriendButton = this.shadowRoot.querySelector('.ask-friend-button');\n        askFriendButton.addEventListener('click', this.handleAskFriendClick.bind(this));\n\n        let findExpertButton = this.shadowRoot.querySelector('.find-expert-button');\n        findExpertButton.addEventListener('click', this.handleFindExpertClick.bind(this));\n        \n        let askTeacherButton = this.shadowRoot.querySelector('.ask-teacher-button');\n        askTeacherButton.addEventListener('click', this.handleAskTeacherClick.bind(this));\n    }\n\n    unload() {\n\n    }\n\n    handleAskFriendClick() {\n\n        let friend = '';\n\n        //https://teams.microsoft.com/l/chat/0/0?users=<user1>,<user2>,...&topicName=<chat name>&message=<precanned text>\n        let users = encodeURI(friend);\n        let topicName = encodeURI('Ask a friend');\n        let message = encodeURI('Hey friend, can I ask you a question?');\n        let createChatUrl = `https://teams.microsoft.com/l/chat/0/0?users=${users}&topicName=${topicName}&message=${message}`;\n        \n        let t = setTimeout(function() {\n            window.open(createChatUrl);\n        }, 1000);\n\n        teams.getContext(function() {\n            clearTimeout(t);\n            teams.executeDeepLink(createChatUrl);\n        });\n    }\n\n    handleFindExpertClick() {\n        \n        let expert = '';\n\n        //https://teams.microsoft.com/l/chat/0/0?users=<user1>,<user2>,...&topicName=<chat name>&message=<precanned text>\n        let users = encodeURI(expert);\n        let topicName = encodeURI('Find an expert');\n        let message = encodeURI('Hey expert, can I ask you a question?');\n        let createChatUrl = `https://teams.microsoft.com/l/chat/0/0?users=${users}&topicName=${topicName}&message=${message}`;\n        \n        let t = setTimeout(function() {\n            window.open(createChatUrl);\n        }, 1000);\n\n        teams.getContext(function() {\n            clearTimeout(t);\n            teams.executeDeepLink(createChatUrl);\n        });\n    }\n    \n    handleAskTeacherClick() {\n\n        let teacher = '';\n\n        //https://teams.microsoft.com/l/chat/0/0?users=<user1>,<user2>,...&topicName=<chat name>&message=<precanned text>\n        let users = encodeURI(teacher);\n        let topicName = encodeURI('Ask the teacher');\n        let message = encodeURI('Hey professor, can I ask you a question?');\n        let createChatUrl = `https://teams.microsoft.com/l/chat/0/0?users=${users}&topicName=${topicName}&message=${message}`;\n\n        let t = setTimeout(function() {\n            window.open(createChatUrl);\n        }, 1000);\n\n        teams.getContext(function() {\n            clearTimeout(t);\n            teams.executeDeepLink(createChatUrl);\n        });\n    }\n}\n\ncustomElements.define(MainViewElement.tagName, MainViewElement);\nmodule.exports = MainViewElement;","'use strict'\n\nexports.byteLength = byteLength\nexports.toByteArray = toByteArray\nexports.fromByteArray = fromByteArray\n\nvar lookup = []\nvar revLookup = []\nvar Arr = typeof Uint8Array !== 'undefined' ? Uint8Array : Array\n\nvar code = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/'\nfor (var i = 0, len = code.length; i < len; ++i) {\n  lookup[i] = code[i]\n  revLookup[code.charCodeAt(i)] = i\n}\n\n// Support decoding URL-safe base64 strings, as Node.js does.\n// See: https://en.wikipedia.org/wiki/Base64#URL_applications\nrevLookup['-'.charCodeAt(0)] = 62\nrevLookup['_'.charCodeAt(0)] = 63\n\nfunction getLens (b64) {\n  var len = b64.length\n\n  if (len % 4 > 0) {\n    throw new Error('Invalid string. Length must be a multiple of 4')\n  }\n\n  // Trim off extra bytes after placeholder bytes are found\n  // See: https://github.com/beatgammit/base64-js/issues/42\n  var validLen = b64.indexOf('=')\n  if (validLen === -1) validLen = len\n\n  var placeHoldersLen = validLen === len\n    ? 0\n    : 4 - (validLen % 4)\n\n  return [validLen, placeHoldersLen]\n}\n\n// base64 is 4/3 + up to two characters of the original data\nfunction byteLength (b64) {\n  var lens = getLens(b64)\n  var validLen = lens[0]\n  var placeHoldersLen = lens[1]\n  return ((validLen + placeHoldersLen) * 3 / 4) - placeHoldersLen\n}\n\nfunction _byteLength (b64, validLen, placeHoldersLen) {\n  return ((validLen + placeHoldersLen) * 3 / 4) - placeHoldersLen\n}\n\nfunction toByteArray (b64) {\n  var tmp\n  var lens = getLens(b64)\n  var validLen = lens[0]\n  var placeHoldersLen = lens[1]\n\n  var arr = new Arr(_byteLength(b64, validLen, placeHoldersLen))\n\n  var curByte = 0\n\n  // if there are placeholders, only get up to the last complete 4 chars\n  var len = placeHoldersLen > 0\n    ? validLen - 4\n    : validLen\n\n  var i\n  for (i = 0; i < len; i += 4) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 18) |\n      (revLookup[b64.charCodeAt(i + 1)] << 12) |\n      (revLookup[b64.charCodeAt(i + 2)] << 6) |\n      revLookup[b64.charCodeAt(i + 3)]\n    arr[curByte++] = (tmp >> 16) & 0xFF\n    arr[curByte++] = (tmp >> 8) & 0xFF\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  if (placeHoldersLen === 2) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 2) |\n      (revLookup[b64.charCodeAt(i + 1)] >> 4)\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  if (placeHoldersLen === 1) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 10) |\n      (revLookup[b64.charCodeAt(i + 1)] << 4) |\n      (revLookup[b64.charCodeAt(i + 2)] >> 2)\n    arr[curByte++] = (tmp >> 8) & 0xFF\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  return arr\n}\n\nfunction tripletToBase64 (num) {\n  return lookup[num >> 18 & 0x3F] +\n    lookup[num >> 12 & 0x3F] +\n    lookup[num >> 6 & 0x3F] +\n    lookup[num & 0x3F]\n}\n\nfunction encodeChunk (uint8, start, end) {\n  var tmp\n  var output = []\n  for (var i = start; i < end; i += 3) {\n    tmp =\n      ((uint8[i] << 16) & 0xFF0000) +\n      ((uint8[i + 1] << 8) & 0xFF00) +\n      (uint8[i + 2] & 0xFF)\n    output.push(tripletToBase64(tmp))\n  }\n  return output.join('')\n}\n\nfunction fromByteArray (uint8) {\n  var tmp\n  var len = uint8.length\n  var extraBytes = len % 3 // if we have 1 byte left, pad 2 bytes\n  var parts = []\n  var maxChunkLength = 16383 // must be multiple of 3\n\n  // go through the array every three bytes, we'll deal with trailing stuff later\n  for (var i = 0, len2 = len - extraBytes; i < len2; i += maxChunkLength) {\n    parts.push(encodeChunk(\n      uint8, i, (i + maxChunkLength) > len2 ? len2 : (i + maxChunkLength)\n    ))\n  }\n\n  // pad the end with zeros, but make sure to not forget the extra bytes\n  if (extraBytes === 1) {\n    tmp = uint8[len - 1]\n    parts.push(\n      lookup[tmp >> 2] +\n      lookup[(tmp << 4) & 0x3F] +\n      '=='\n    )\n  } else if (extraBytes === 2) {\n    tmp = (uint8[len - 2] << 8) + uint8[len - 1]\n    parts.push(\n      lookup[tmp >> 10] +\n      lookup[(tmp >> 4) & 0x3F] +\n      lookup[(tmp << 2) & 0x3F] +\n      '='\n    )\n  }\n\n  return parts.join('')\n}\n","exports.read = function (buffer, offset, isLE, mLen, nBytes) {\n  var e, m\n  var eLen = (nBytes * 8) - mLen - 1\n  var eMax = (1 << eLen) - 1\n  var eBias = eMax >> 1\n  var nBits = -7\n  var i = isLE ? (nBytes - 1) : 0\n  var d = isLE ? -1 : 1\n  var s = buffer[offset + i]\n\n  i += d\n\n  e = s & ((1 << (-nBits)) - 1)\n  s >>= (-nBits)\n  nBits += eLen\n  for (; nBits > 0; e = (e * 256) + buffer[offset + i], i += d, nBits -= 8) {}\n\n  m = e & ((1 << (-nBits)) - 1)\n  e >>= (-nBits)\n  nBits += mLen\n  for (; nBits > 0; m = (m * 256) + buffer[offset + i], i += d, nBits -= 8) {}\n\n  if (e === 0) {\n    e = 1 - eBias\n  } else if (e === eMax) {\n    return m ? NaN : ((s ? -1 : 1) * Infinity)\n  } else {\n    m = m + Math.pow(2, mLen)\n    e = e - eBias\n  }\n  return (s ? -1 : 1) * m * Math.pow(2, e - mLen)\n}\n\nexports.write = function (buffer, value, offset, isLE, mLen, nBytes) {\n  var e, m, c\n  var eLen = (nBytes * 8) - mLen - 1\n  var eMax = (1 << eLen) - 1\n  var eBias = eMax >> 1\n  var rt = (mLen === 23 ? Math.pow(2, -24) - Math.pow(2, -77) : 0)\n  var i = isLE ? 0 : (nBytes - 1)\n  var d = isLE ? 1 : -1\n  var s = value < 0 || (value === 0 && 1 / value < 0) ? 1 : 0\n\n  value = Math.abs(value)\n\n  if (isNaN(value) || value === Infinity) {\n    m = isNaN(value) ? 1 : 0\n    e = eMax\n  } else {\n    e = Math.floor(Math.log(value) / Math.LN2)\n    if (value * (c = Math.pow(2, -e)) < 1) {\n      e--\n      c *= 2\n    }\n    if (e + eBias >= 1) {\n      value += rt / c\n    } else {\n      value += rt * Math.pow(2, 1 - eBias)\n    }\n    if (value * c >= 2) {\n      e++\n      c /= 2\n    }\n\n    if (e + eBias >= eMax) {\n      m = 0\n      e = eMax\n    } else if (e + eBias >= 1) {\n      m = ((value * c) - 1) * Math.pow(2, mLen)\n      e = e + eBias\n    } else {\n      m = value * Math.pow(2, eBias - 1) * Math.pow(2, mLen)\n      e = 0\n    }\n  }\n\n  for (; mLen >= 8; buffer[offset + i] = m & 0xff, i += d, m /= 256, mLen -= 8) {}\n\n  e = (e << mLen) | m\n  eLen += mLen\n  for (; eLen > 0; buffer[offset + i] = e & 0xff, i += d, e /= 256, eLen -= 8) {}\n\n  buffer[offset + i - d] |= s * 128\n}\n","var toString = {}.toString;\n\nmodule.exports = Array.isArray || function (arr) {\n  return toString.call(arr) == '[object Array]';\n};\n","const BaseViewElement = require(\"./base-view\");\n\nclass TodoListViewElement extends BaseViewElement {\n\n    static tagName = 'todo-list-view';\n\n    constructor() {\n        super(TodoListViewElement.tagName);\n\n        let createButton = this.shadowRoot.querySelector('.create-button');\n        createButton.addEventListener('click', this.handleCreateClick);\n    }\n\n    handleCreateClick() {\n        console.log('Todo Create button clicked!');\n    }\n}\n\ncustomElements.define(TodoListViewElement.tagName, TodoListViewElement);\nmodule.exports = TodoListViewElement;","const teams = require(\"@microsoft/teams-js/dist/MicrosoftTeams\");\nconst BaseViewElement = require(\"./base-view\");\n\nclass TimelineViewElement extends BaseViewElement {\n\n    static tagName = 'timeline-view';\n\n    constructor() {\n        super(TimelineViewElement.tagName);\n\n        let createButton = this.shadowRoot.querySelector('.create-button');\n        createButton.addEventListener('click', this.handleCreateClick.bind(this));\n\n        let agenda = this.shadowRoot.querySelector('mgt-agenda');\n        agenda.templateConverters.dayFromDateTime = this.getDateFromDateTime;\n        agenda.templateConverters.timeRangeFromEvent = this.getTimeRange;\n\n        // TODO: Wire up click events for agenda items to deeplink to the cooresponding Teams meeting\n    }\n    \n    handleCreateClick() {\n        \n        let subject = encodeURI('Team Meeting');\n        let startTime = encodeURI(new Date().toISOString());\n        let endTime = encodeURI(new Date(Date.now() + (30 * 60 * 1000)).toISOString());\n        let content = encodeURI('Grabbing 30 minutes to chat about progress towards the team project.');\n        let attendees = encodeURI([].join(','));\n        let joinMeetingUrl = `https://teams.microsoft.com/l/meeting/new?subject=${subject}&startTime=${startTime}&endTime=${endTime}&content=${content}&attendees=${attendees}`;\n\n        let t = setTimeout(function() {\n            window.open(joinMeetingUrl);\n        }, 1000);\n\n        teams.getContext(function() {\n            clearTimeout(t);\n            teams.executeDeepLink(joinMeetingUrl);\n        });\n    }\n\n    getDateFromDateTime(dateTimeString) {\n        let date = new Date(dateTimeString);\n        date.setMinutes(date.getMinutes() - date.getTimezoneOffset());\n        let monthNames = [\n            'January',\n            'February',\n            'March',\n            'April',\n            'May',\n            'June',\n            'July',\n            'August',\n            'September',\n            'October',\n            'November',\n            'December'\n        ];\n    \n        let monthIndex = date.getMonth();\n        let day = date.getDate();\n        let year = date.getFullYear();\n    \n        return `${monthNames[monthIndex]} ${day} ${year}`;\n    }\n\n    getTimeRange(event) {\n        if (event.isAllDay) {\n            return 'ALL DAY';\n        }\n\n        let prettyPrintTimeFromDateTime = function(date) {\n            date.setMinutes(date.getMinutes() - date.getTimezoneOffset());\n            let hours = date.getHours();\n            let minutes = date.getMinutes();\n            let ampm = hours >= 12 ? 'PM' : 'AM';\n            hours = hours % 12;\n            hours = hours ? hours : 12;\n            let minutesStr = minutes < 10 ? '0' + minutes : minutes;\n            return `${hours}:${minutesStr} ${ampm}`;\n        }\n\n        let start = prettyPrintTimeFromDateTime(new Date(event.start.dateTime));\n        let end = prettyPrintTimeFromDateTime(new Date(event.end.dateTime));\n\n        return `${start} - ${end}`;\n    }\n}\n\ncustomElements.define(TimelineViewElement.tagName, TimelineViewElement);\nmodule.exports = TimelineViewElement;","const CreateStudyGroupViewElement = require('./create-study-group-view');\nconst BaseViewElement = require(\"./base-view\");\n\nclass StudyGroupsViewElement extends BaseViewElement {\n\n    static tagName ='study-groups-view';\n\n    constructor() {\n        super(StudyGroupsViewElement.tagName);\n\n        this.createButton = this.shadowRoot.querySelector('.create-button');\n        this.createButton.addEventListener('click', this.handleCreateClick.bind(this));\n\n        let findButton = this.shadowRoot.querySelector('.find-button');\n        findButton.addEventListener('click', this.handleFindClick.bind(this));\n    }\n\n    handleCreateClick(e) {\n\n        let rect = this.createButton.getBoundingClientRect();\n        let top  = window.pageYOffset || document.documentElement.scrollTop;\n        let left = window.pageXOffset || document.documentElement.scrollLeft;\n        let x = rect.left + left;\n        let y = rect.bottom + top;\n        \n        let createStudyGroupView = new CreateStudyGroupViewElement();\n        createStudyGroupView.showAt(x, y);\n    }\n\n    handleFindClick() {\n        console.log('Study Groups find button clicked!');\n    }\n}\n\ncustomElements.define(StudyGroupsViewElement.tagName, StudyGroupsViewElement);\nmodule.exports = StudyGroupsViewElement;","const teams = require(\"@microsoft/teams-js/dist/MicrosoftTeams\");\nconst BaseViewElement = require(\"./base-view\");\n\nclass CreateStudyGroupViewElement extends BaseViewElement {\n\n    static tagName = 'create-study-group-view';\n\n    constructor() {\n        super(CreateStudyGroupViewElement.tagName);\n\n        this.flyoutPanel = this.shadowRoot.querySelector('.flyout-panel');\n\n        this._lightDismissPanel = this.shadowRoot.querySelector('.light-dismiss-panel');\n        this._lightDismissPanel.addEventListener('click', this.handleRootClick.bind(this));\n\n        let createButton = this.shadowRoot.querySelector('.create-button');\n        createButton.addEventListener('click', this.handleCreateClicked.bind(this));\n\n        let groupNameInput = this.shadowRoot.querySelector('.group-name-input');\n        groupNameInput.value = 'New Study Group';\n    }\n\n    showAt(x, y) {\n\n        document.body.appendChild(this);\n        \n        let screenWidth = document.documentElement.scrollWidth;\n        x = Math.min(x, screenWidth - this.flyoutPanel.clientWidth);\n\n        this.flyoutPanel.style.marginLeft = `${x}px`;\n        this.flyoutPanel.style.marginTop = `${y}px`;\n    }\n\n    handleRootClick(e) {\n        \n        if(e.toElement == this._lightDismissPanel) {\n            this.remove();\n        }\n    }\n\n    handleCreateClicked() {\n\n        let groupNameInput = this.shadowRoot.querySelector('.group-name-input');\n        let peoplePicker = this.shadowRoot.querySelector('mgt-people-picker');\n        let people = peoplePicker._selectedPeople.map(function(p) {\n            return p.userPrincipalName;\n        });\n\n        //https://teams.microsoft.com/l/chat/0/0?users=<user1>,<user2>,...&topicName=<chat name>&message=<precanned text>\n        let users = encodeURI(people.join(','));\n        let topicName = encodeURI(groupNameInput.value);\n        let message = encodeURI('Welcome to our new Study Group chat!');\n        let createChatUrl = `https://teams.microsoft.com/l/chat/0/0?users=${users}&topicName=${topicName}&message=${message}`;\n\n        let t = setTimeout(function() {\n            window.open(createChatUrl);\n        }, 1000);\n\n        teams.getContext(function() {\n            clearTimeout(t);\n            teams.executeDeepLink(createChatUrl);\n        });\n        \n        this.remove();\n    }\n}\n\ncustomElements.define(CreateStudyGroupViewElement.tagName, CreateStudyGroupViewElement);\nmodule.exports = CreateStudyGroupViewElement;","const BaseViewElement = require(\"./base-view\");\n\nclass ScoreProgressViewElement extends BaseViewElement {\n\n    static tagName = 'score-progress-view';\n\n    constructor() {\n        super(ScoreProgressViewElement.tagName);\n\n        let openButton = this.shadowRoot.querySelector('.open-button');\n        openButton.addEventListener('click', this.openInVernier);\n    }\n\n    openInVernier() {\n        console.log(\"Opening in Vernier app...\");\n    }\n}\n\ncustomElements.define(ScoreProgressViewElement.tagName, ScoreProgressViewElement);\nmodule.exports = ScoreProgressViewElement;","const BaseViewElement = require(\"./base-view\");\n\nclass LeaderboardViewElement extends BaseViewElement {\n\n    static tagName = 'leaderboard-view';\n\n    constructor() {\n        super(LeaderboardViewElement.tagName);\n    }\n}\n\ncustomElements.define(LeaderboardViewElement.tagName, LeaderboardViewElement);\nmodule.exports = LeaderboardViewElement;","const teams = require(\"@microsoft/teams-js/dist/MicrosoftTeams\");\nconst BaseViewElement = require(\"./base-view\");\n\nclass AppHeaderViewElement extends BaseViewElement {\n\n    static tagName = 'app-header-view';\n\n    constructor() {\n        super(AppHeaderViewElement.tagName);\n        \n        let hamburgerButton = this.shadowRoot.querySelector('.hamburger-button');\n        hamburgerButton.addEventListener('click', this.handleHamburgerClick.bind(this));\n    }\n    \n    handleHamburgerClick() {\n        window.location.href = \"./signin.html\";\n    }\n}\n\ncustomElements.define(AppHeaderViewElement.tagName, AppHeaderViewElement);\nmodule.exports = AppHeaderViewElement;","const {TeamsProvider} = require('@microsoft/mgt');\n\nconst BaseViewElement = require('./base-view');\nconst teams = require(\"@microsoft/teams-js/dist/MicrosoftTeams\");\n\nclass TeamsAuthView extends BaseViewElement {\n\n    static tagName = 'teams-auth-view';\n\n    constructor() {\n        super(TeamsAuthView.tagName);\n        TeamsProvider.microsoftTeamsLib = teams;\n        TeamsProvider.handleAuth();\n    }\n}\n\ncustomElements.define(TeamsAuthView.tagName, TeamsAuthView);\nmodule.exports = TeamsAuthView;"],"sourceRoot":""}